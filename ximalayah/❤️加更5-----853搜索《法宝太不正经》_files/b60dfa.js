(window.__award__=window.__award__||[]).push([[3],{427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2411306109=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(34),n=a(48),o=a(71),c=a(432),i=a(167),u=a(12),d=a(451),s=k(a(691)),f=k(a(692)),m=k(a(694)),A=k(a(695)),p=k(a(506)),g=k(a(697)),v=k(a(699)),I=k(a(479));function k(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var b=()=>{var e,t;const{trackId:a}=(0,l.useParams)(),{getTrackInfoStore:k,setData:h,wxSdkReady:b,trackInfo:y,pageStatus:E,setWxSdkReady:w,showSafeBar:x,recommendElementList:P,getSoundExtInfoStore:C}=(0,c.useBearStore)((e=>e)),[O,S]=(0,r.useState)(!1),[T,N]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{var e,t;null!=y&&null!==(e=y.shareTrackInfo)&&void 0!==e&&e.title&&(document.title=null==y||null===(t=y.shareTrackInfo)||void 0===t?void 0:t.title)}),[y]),(0,r.useEffect)((()=>{"wechat"===(0,i.getPlatform)()&&(0,i.initWechatShare)(w)}),[]),(0,r.useEffect)((()=>{N((0,i.hasSafeArea)())}),[]),(0,r.useEffect)((()=>{if(a)return k(a).then((e=>{let{albumId:t,paid:r}=e;const l=(0,i.getSearchParams)("posterId"),o=(0,i.getSearchParams)("posterType"),c={currPage:"freeTrackPage",currTrackId:a,currAlbumId:t,contentType:"声音"};if(l&&o&&Object.assign(c,{posterId:l,posterType:o}),n.ubt.pageView(36940,"freeTrackPage",c),r)return h({showAudio:!0});(0,d.getAudioSrc)({trackId:a}).then((e=>{null!=e&&e.src&&h({audioSrc:null==e?void 0:e.src,showAudio:!0})}))})),()=>{h({showAudio:!1})}}),[]),(0,r.useEffect)((()=>{a&&C(a)}),[C,a]),(0,r.useEffect)((()=>{var e,t,a;if(!b||O)return;S(!0);const r={title:null==y||null===(e=y.shareTrackInfo)||void 0===e?void 0:e.title,link:window.location.href,imgUrl:(null==y||null===(t=y.shareTrackInfo)||void 0===t?void 0:t.coverSmall)||"https://imagev2.xmcdn.com/storages/bbea-audiofreehighqps/80/6B/GMCoOSEKUDDCAAAKfALm_BJL.png"};let l="来喜马拉雅，收听更多精彩";const n=null==y||null===(a=y.shareAlbumInfo)||void 0===a?void 0:a.title;n&&(l=`专辑《${n}》`),window.wx.updateAppMessageShareData({...r,desc:l}),window.wx.updateTimelineShareData(r)}),[b,O,y]),(0,r.useEffect)((()=>{window.scrollTo(0,0),h({showSafeBar:"wechat"!==(0,i.getPlatform)()||!window.sessionStorage.getItem("showSafeBar")})}),[]),(0,r.useEffect)((()=>{if("undefined"!=typeof window)if(u.env.isPcMac||u.env.isPcWin);else{const e=location.pathname.replace(/[\/a-z]/g,""),t={firstRequest:"true"},{CID:a,uid:r}=(0,i.getCIDInfo)();r&&Object.assign(t,{uid:r});(0,i.getSearchParams)("subType");const l="sound";e&&Object.assign(t,{contentId:e,contentType:l}),(0,o.initCopyCode)({cid:a,selector:"xxxxxx",iting:(0,u.getPsharec)(`iting://open?msg_type=11&track_id=${e}`),ifautosend:!0,notgoApp:!0,extraInfo:t,commandLinkConvert:e=>(u.env.isWeixin&&(e=e.replace(/(.*?)\?/,(e=>`${e}formtype=m.ximalaya.com/share/paid&`))),e)})}}),[]),r.default.createElement("div",{className:"track-root _Vx"},r.default.createElement(g.default,null),E===c.pageStatusType.noData||E===c.pageStatusType.netError?r.default.createElement(p.default,null):r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,null),r.default.createElement("div",{className:"gray-line _Vx"}),r.default.createElement(f.default,null),r.default.createElement(m.default,null),(null==P?void 0:P.length)>0&&r.default.createElement("div",{className:"gray-line _Vx"}),r.default.createElement(A.default,null)),r.default.createElement(v.default,{from:"sound"}),r.default.createElement(I.default,{from:"sound",title:null==y||null===(e=y.shareAlbumInfo)||void 0===e?void 0:e.title,description:"",cover:null==y||null===(t=y.shareAlbumInfo)||void 0===t?void 0:t.coverSmall}))};t.default=b;t._2411306109=0},515:function(e,t,a){e.exports=a(9)(8)},516:function(e,t,a){e.exports=a(9)(85)},691:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._142519971=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(432),n=a(167),o=u(a(171)),c=a(48),i=u(a(444));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}const s="head-sound";var f=()=>{const{trackInfo:e,wxSdkReady:t,currentStoreTime:a}=(0,l.useBearStore)((e=>e)),u=(0,r.useCallback)((()=>{var t;const a=null==e||null===(t=e.shareTrackInfo)||void 0===t?void 0:t.trackId;if(!a)return"";const r=o.default.getInstance();return(0,n.getTrackPageIting)({trackId:a,timeline:Math.floor(r.getCurrentTime())||0})}),[e]),d=(0,r.useCallback)((()=>{var t,a;const r=null==e||null===(t=e.shareTrackInfo)||void 0===t?void 0:t.trackId;if(!r)return;const l=null==e||null===(a=e.shareTrackInfo)||void 0===a?void 0:a.albumId,o=(0,n.getSearchParams)("posterId"),i=(0,n.getSearchParams)("posterType"),u={item:"声音封面打开APP",currPage:"freeTrackPage",currTrackId:r,currAlbumId:l,trackId:r,albumId:l,contentType:"声音"};o&&i&&Object.assign(u,{posterId:o,posterType:i}),c.ubt.clickForce(36942,"",u)}),[e]);if((0,r.useEffect)((()=>{t&&(0,n.initWeixinOpenTag)(s,u(),d)}),[t,d,u,a]),!e)return null;const{shareTrackInfo:f,shareAlbumInfo:m}=e;if(!f)return null;const{createdAt:A,duration:p,playCount:g,commentCount:v}=f;return r.default.createElement("div",{className:"head-top-root F_m",id:s,onClick:()=>{d(),(0,n.jumpApp)(u())}},r.default.createElement("div",{className:"head-sound-root F_m"},r.default.createElement("div",{className:"img-box F_m"},r.default.createElement(i.default,{src:(null==f?void 0:f.coverMiddle)||(null==m?void 0:m.coverMiddle),className:"bottom-img F_m"}),r.default.createElement(i.default,{src:(null==f?void 0:f.coverMiddle)||(null==m?void 0:m.coverMiddle),defaultSrc:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/cover_5946d1d.png",className:"top-img F_m"}))),r.default.createElement("div",{className:"title-root F_m"},r.default.createElement("div",{className:"title-main ellipsis-2 F_m"},null==f?void 0:f.title),r.default.createElement("div",{className:"title-tips F_m"},r.default.createElement("div",{className:"time F_m"},(0,n.getFriendlyTimeStr)(A)),r.default.createElement("div",{className:"split-line F_m"}),r.default.createElement("div",{className:"duration F_m"},r.default.createElement("img",{className:"icon F_m",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAPWSURBVGiB7ZoxaxtJFMf/b2ZZxBZhDUcQqkQIwbgQqo4QjiBDOAwpknVhXPoj3Ee58sqURoUnKQwpTKQihUhxmHAYE65QZVQIvLhYxN7uzBVS7nwXeXdmdlbng/2BCmln376/3szOzHsDNDQ0NDQ03AnVZVgI0VWKbec5QsZkC0CoFLUAgEgtAMRKLT+eh2kURdM6/HAqcDg8bTOWPlUKXQChkSNEC0Bdco5zl2KdCBRChHmOgVLou7DHGKaM4W0URXFVW5UFnpy828tz+bSqnXVwziZbWw/Gu7u7C1sb1gKXUWOHSsm2rQ0diNiMc3lsG00rgUKIMMtwBMNxVoFYKf/44ODlzPRGY4HLF8kfR0qplum9VSCiBefqF9NIMpPGQoiQKD3ctDgAUEq1sgxHQgijXqMtcDQatfKcHWJz3XId4coHbbQFXl/fDKq8UIIgQL/fQ7/fQxAEtmaglGyfnLzb022vNQZXL5WfbJ3yfR97ez/C9z0AQJIkGI8/IkkSW5PwPPysMx61IiglXlt7AqDTaf8lDlhGMwyr9fQ8x0CnXalAIURXSnQrebOG24JtUAr94fC0dMiUCsxzN8uvOmAsLV1BaXRR2nbhTB2sFvWFFApcbnk2P+cZEAohukUNCgVmmfux5xqlWGEPKxRI9J9O6lrkebGP/3uBq2zB3ddL7r/3AlHiY6HArzmU+0yZj0a7CZf0ej10Op3an1MyBpV1quA2aZp985vve3j27Hv0+z34vm9tu8zHsghWTvoAwHw+v3Nh/fjxI7x4McDDh9/Zmi/0sVCglMxRBFOMxx8xn8/XXg+CAM+f/4CdHfNFk1IVBHLuJoLA31ukz59/W9tlAWBnZ9s4kpUEEslLo6dp8OXL7zg7+4A4vll73XQz7HmYFl0vFLjKMDuL4leSJMHZ2QdcXPzz/0vTDFdX+okzIlqUZcFLN2VEmLrKWP+bi4tLXF3N8OTJI0i5/J6mqYEFVdrDSgVK6U+I0tr2hHEc49OnX63u5RznZW1KJ/qDg5czonJDm4YxvYqU1kqGc4yrOuQaxvBWq51OoyiKYs7ZpJpL7uCcTXQz3Npr0f39V++JmHFtwDVEbLa19WCs295osc25PEYN04YBMefy2KScZiQwiqLY8/BmWY3dLES0UMo3LqNZlc+Gw9M2UbrJOkXseXhjUyNsCqBFjEaj1vX1zaDOEvb+/qv3VWw4O4QgJV67SvET4ZxzjO/FIYTbCCG6y1Q/bVskjGMiTKX0Jzal6ruo9SBQlqFLhHCVfvzmIJCUbME5YiJ5WddBoIaGhoaGhgL+BI6afjRlPdLYAAAAAElFTkSuQmCC",alt:""}),r.default.createElement("span",{className:"F_m"},(0,n.formatDuration)(p))),r.default.createElement("div",{className:"duration F_m"},r.default.createElement("img",{className:"icon F_m",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIBSURBVGiB7Zkhb+NAEEa/2RgEnVKpoNDwYODBhJ10ahurjXSwsDA/66QkmuqOlK1hYWBhYUAjpSxgvXvgFKmgjZXxrr3R7cOe9Tx59FnaARKJRCKRSCT+a7TWfWYedN3HR1CTYmYeWIuJtcgBgIh2StHq7OxLOR6Pd146bIhYcLH489U58/PDQ4l2RKq8ubl6krfmB5Gg1rq/2bzNnHP9Q88phRel8FAUxVbWXnNEgsw8NAaTI0rK8/PBUxdjqyRFxuDYQBm9vm7vmTmXvK8JIkEhA2Nwt1jwRGt9cLR90qYgAMA5DDebt9ly+ftbG+9rXRAAnHN9a6vvyyXfhf5/diK4x1rkxmA2n/Mo1Nh2KviOYCEUiyAQKIRiEgTgP4SiEwT8hlCUgnusRV5VdM/MQ+kZUQsC/76mMZhIv2T0gnuqCiNJ3ckIAupCVOW7jVAQWdGv44QE1bOk7mQEjclWkrrMdyMhyDI8FMWPtajWdzM+IVLrXs/+anLlEavg1jmU0+m1aCzfE50gEVa9HkpfF1UxCW6Jssfb20tRWn5GLILldFqUIQ7uVNBHiNTRlaC3EKmjdUHfIVJHm4JBQqQOkSBRtnbOHFMSLETqEG+X5nOeAYev8NsIkTrEI0qUPX62PkOLIVJH0wVobi1G+wUo0H6ItELMK+xEIpFIJBKJ0+UvoDzXUcbkcC4AAAAASUVORK5CYII=",alt:""}),r.default.createElement("span",{className:"F_m"},(0,n.processUnit)(g))),r.default.createElement("div",{className:"duration F_m"},r.default.createElement("img",{className:"icon F_m",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAALSSURBVGiB7ZlPaxpBGId/s5ohLFImIEvwUKTkECSIpxJCD+ZcKJUQP0c/Uo9FA1voNTR7CEFCCBKKiEiQHCQHA0MJQ1k2uz2kRpfszq5ZFTed5+b7vrP7PrP/HUChUCgUCsWrhcQpMk2TOQ4qhIAtuqFZ8DzwfJ619vf3/4TVZKM20myaVcdB9d8GV467O84AfA/La7LBpmkWgUe5VcXzUJHlpYKuu9pycZAKeh7ZXFYjiyJC0FtfViOLQir4GlCCaUcJph0lmHaUYNqZiyClFIaRRy6nS+sMIw/GGCiloTWMMRhGXlozC5GfS1GUStsolbaffg+Htzg7a/lqGGPY23sPXX+cACEELOsUQoinGkopyuUdFItvAQC27aDb7aLX6yfqL9ERNIy8Tw4ACoXNZ7FpOQDQdR3V6gdfzdbWuyc5AKA0i3J5xzfuJSQSLBQKkXHGWGCTuq6DsckfBNNy04TF45JI0LbtRDt3nMl423ZC9hEcj0siwcHgJjB+czOJc85919qY0WiE+/tJfDgcPquxbScwPguJBIUQuLr65Zvlfv/62Y3Bsk7B+W/fuPPzS19Np9NFv3/tq7m4uAycnFlIfBft9fro9fpgjEEIEXjaCiFwfPwTuZwO10Vo0+32FTqdLijN+o5uEhILjuGcR9bEadq27cTX9jTqTSbtKMG0owTTzv8tSIh2u6xGXoqmYSDNy5Ku67Zk+dUg05VlpYL1eq1NCNrzbWh+EIL2wcEn6UGItcLbaJiVTAYVIHqF13VfvgqsaYh+33uEPzygXa/XIic/luAsnJycrI9GfJcQshtjdYp7Hqy1NQxqtVpcuZmYu+CYRsOsEILPYflMRmttbLyxZOvr82BhggDQbJpfEHxaW4eHNWuR+x4zt8+lYLRbwJ0W5J5Hv9XrH5f2+Fnog97z3OlbOM9m8XWZckvBNM3i0dGP7ehKhUKhUKwefwGnEPZ6boQ98gAAAABJRU5ErkJggg==",alt:""}),r.default.createElement("span",{className:"F_m"},(0,n.processUnit)(v))))))};t.default=f;t._142519971=0},692:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3311648128=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(48),n=a(432),o=a(167),c=a(168),i=d(a(693)),u=d(a(444));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const f="subscribe-box";var m=()=>{var e;const{trackInfo:t,wxSdkReady:a}=(0,n.useBearStore)((e=>e)),[d,s]=(0,r.useState)(!1),m=(0,r.useMemo)((()=>{var e;const a=null==t||null===(e=t.shareTrackInfo)||void 0===e?void 0:e.albumId;return a?(0,o.getAlbumIting)(a):""}),[t]),A=(0,r.useCallback)((()=>{var e,a;const r=null==t||null===(e=t.shareTrackInfo)||void 0===e?void 0:e.albumId,n=null==t||null===(a=t.shareTrackInfo)||void 0===a?void 0:a.trackId;l.ubt.clickForce(64060,"",{currPage:"免费声音落地页",xmRequestId:c.xmRequestId,albumId:r});const i=(0,o.getSearchParams)("posterId"),u=(0,o.getSearchParams)("posterType"),d={item:"专辑列表-打开APP",currPage:"freeTrackPage",currTrackId:n,currAlbumId:r,trackId:n,albumId:r,contentType:"声音"};i&&u&&Object.assign(d,{posterId:i,posterType:u}),l.ubt.clickForce(36942,"",d)}),[t]);(0,r.useEffect)((()=>{a&&!d&&m&&(s(!0),(0,o.initWeixinOpenTag)(f,m,A))}),[a,A,m,d]);const p=(0,r.useMemo)((()=>{var e;const{shareAlbumInfo:a}=t;return null!=a&&a.nickName?(null==a||null===(e=a.nickName)||void 0===e?void 0:e.length)>7?`${null==a?void 0:a.nickName.slice(0,7)}...`:null==a?void 0:a.nickName:""}),[t]);if(!t)return null;const{albumTracks:g,shareAlbumInfo:v}=t;return g&&0!==(null==g?void 0:g.length)?r.default.createElement("div",{className:"list-root Fc_"},r.default.createElement("div",{className:"title Fc_"},"专辑列表"),r.default.createElement("div",{className:"list-album-info Fc_",id:f,onClick:()=>{A(),(0,o.jumpApp)(m)}},r.default.createElement("div",{className:"img-box Fc_"},r.default.createElement(u.default,{src:null==v?void 0:v.coverSmall,defaultSrc:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/cover_5946d1d.png",className:"img-box-main Fc_"}),r.default.createElement("img",{className:"album-rect Fc_",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAABQCAYAAAAdtYVKAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAJQSURBVFiF5djPkdMwFAbw78nMxLmtL5lxLqiEpQJMBYQOshUAFSypAKhg0wHQgelg6cDMZKyZXOJbcoj9OMReHK//yJZ0gXdKxvYv3zzJkibAP1dKqU+uYFZKRWOfE5r3PSilpAtYArh3AQPAWim1dgEDwL1uS8bCEpotGQsDwHq/39+6gJHn+TcnMAA5NJBTYWCg1yawTNN05QIGEb13AgOIuua1KQx09NoGHLmCW6eeDRhE9NYJzMyrw+FwYx0GgOPxGDmBm+2wBqMxO2zCsr6c2oSR57kbGMBrV7DUgptzU6MiLfh0Og3ubc2qBnCoFaMOKQBwPp9lL5ym6Qd0rFwDJQHgRduV8hD4eQIKIcRLoCVxmqYrZh7c3ntKAo3E5br6YICCmW+AWuLdbndrigIAEV3DnudN6mmzrhKXgxXZgFH2WADtW4tpVa2QTuCqL9ZhIsqcwMz8wwkMILZoJk9wGIYJEX2xiP99QWaz2ab6NcNKruAgCDIAbyzg1zBwaYnv+6+I6HGqWs2wZ8tmEAQZM7/DxORFUfxuhYFLclzaMqWSTriGb8eqVRt7N1PP876OQZk5KwP1w4vFYtQgCiGSp89jHtSo2AnMzL+cwHCUOKkGzipMRN/r363BRVH8tA4zczafz2PrMBE9lqujXZiZn72hxnBbG6zAQohtsw1W4K4d3hSOwzCMXcCbrgsmcGdaU7gzrQncm9YE7k07Fd4OpR0NM3Pm+/5HnXvHJt60vWWmcLxcLrVPpLpwAuBuRAht+K6+n1mp8l+A/6D+ABBryG7maIcMAAAAAElFTkSuQmCC",alt:""})),r.default.createElement("div",{className:"content-box Fc_"},r.default.createElement("div",{className:"album-title ellipsis-2 Fc_"},null==v?void 0:v.title),r.default.createElement("div",{className:"album-tips Fc_"},r.default.createElement("span",{className:"Fc_"},p),r.default.createElement("i",{className:"Fc_"}),r.default.createElement("span",{className:"Fc_"},(0,o.processUnit)(null==v?void 0:v.subscribedCount),"订阅"))),r.default.createElement("img",{role:"button","aria-label":"订阅",className:"subscribe-box Fc_",src:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/subscribe-box_9ac64e5.png",alt:""})),(null==g?void 0:g.length)>0&&(null==g||null===(e=g.slice(0,5))||void 0===e?void 0:e.map(((e,t)=>r.default.createElement(i.default,{key:t,currentIndex:t}))))):null};t.default=m;t._3311648128=0},693:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3622995640=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(48),n=a(432),o=a(167),c=a(168);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}var u=e=>{var t,a;let{currentIndex:i}=e;const{trackInfo:u,wxSdkReady:d}=(0,n.useBearStore)((e=>e)),[s,f]=(0,r.useState)(!1),m=`track-list-item-${null==u||null===(t=u.albumTracks)||void 0===t||null===(a=t[i])||void 0===a?void 0:a.trackId}`;if(!u)return null;const{albumTracks:A}=u;if(!A||0===(null==A?void 0:A.length))return null;const p=null==A?void 0:A[i];if(!p)return null;const{title:g,createdAt:v,duration:I,playCount:k,commentCount:h,albumId:b,trackId:y}=p,E=(0,r.useCallback)((()=>{l.ubt.clickForce(64062,"",{currPage:"免费专辑落地页",xmRequestId:c.xmRequestId,albumId:b,trackId:y});const e=(0,o.getSearchParams)("posterId"),t=(0,o.getSearchParams)("posterType"),a={item:"专辑列表-打开APP",currPage:"freeTrackPage",currTrackId:y,currAlbumId:b,trackId:y,albumId:b,contentType:"声音"};e&&t&&Object.assign(a,{posterId:e,posterType:t}),l.ubt.clickForce(36942,"",a)}),[b,y]),w=(0,r.useMemo)((()=>y?(0,o.getTrackPageIting)({trackId:y,timeline:0}):""),[y]);return(0,r.useEffect)((()=>{d&&!s&&w&&(f(!0),(0,o.initWeixinOpenTag)(m,w,E))}),[d,w,s,E,m]),r.default.createElement("div",{className:"list-item-root _Pr",onClick:()=>{E(),(0,o.jumpApp)(w)},id:m},r.default.createElement("div",{className:"left "+(i===(null==A?void 0:A.length)-1?"no-border":"")+" _Pr"},g&&r.default.createElement("div",{className:"title ellipsis-2 _Pr"},g),r.default.createElement("div",{className:"tips _Pr"},r.default.createElement("div",{className:"time _Pr"},(0,o.getFriendlyTimeStr)(v)),r.default.createElement("div",{className:"duration _Pr"},r.default.createElement("img",{className:"icon _Pr",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAHLSURBVFiF7ZfRcdpAEIb/3bgAOog6iOnAriBJBcYNyJw0PGOe7WNtuQFSQZIKoANIBVE6oAHt5iEINJ6AGHGWxx59T5q90903O/9Id0BHxzuDjpnkfTYA8AnAH+Zi5pxbv5rQdPq4NMP59gVCXhR6PRq5RetC9/dPX4j0+//GmOkBKCahu8WHBom02pkVgO3mqjZU5d/eZ8PWhKqY4Sez9gH6USn3AJPpNJuLSNSqEAA45/I0jb+q6iUR8p2sXajy0vvHWxHptSZUMhq5BZH2/+VoSw/A2IyXd3dy0aoQADjn1s7Fjln7RLQo62aImHkukkmTbjUWqoitkiS+BMghQOhPFipJ0/ghROiDCQHHhL6+W0GFSvaH3mTzG2pXCNgfeiJcvYpQhTVg0bGTz17KQkR6qjxUxbhaN8O31oW8zwZmNgYQPRuapGk8a01IRCLVD2PABma7OhEtiIpr51xet0YwIe+zoZndVPNChNyMJklyuCtBhUQkMuO5mUXVrgA0IyomSVLflSBC+0J76omykdCh0CbJzW2TNRsJhQhtMCEifDbjq1NDe5KQGa+IdPO8u3lsdBqFto63dQ0q2RwbPgL4Vfel7ejoeMZf00QK6YpnELsAAAAASUVORK5CYII=",alt:""}),r.default.createElement("span",null,(0,o.processUnit)(k))),r.default.createElement("div",{className:"duration _Pr"},r.default.createElement("img",{className:"icon _Pr",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIbSURBVGiB7ZjBcRpBEEV/Dw5AIWwIUgReIjAZCAdgVFOLzrbuLC0gAHAEwhFgZ0AIhEAApr8PlKrwigEWBlHY8477l5n+dA/dDJBIJBKJ/xnZJapqZtb4KsKcRPZOMf2FCBZm5rtdP92mfwh9UFUz0s0AZuT5AtwHicw5pwDqGTBrKMDsXIHVYVf2XUgQ4e1ZoolMMANV10XxsPO8xKYsBwcVbjAD10IycGmSgUuTDFyaqzcQbGT7KMthWwT3AGC2GlSHrVP1QzkqA72etgCOSeYkcxH3UpbDdiz97AZEGvdbHn+KpdfhSAO4Oadeh6MMkPhefWa2GsTS63CUgaLoTMysCcgEkKmZNR8f/c9Yeh2CI3J1nL30OB3a/+r7QDJwaZKBS3PwLLSr1ZOybDR+z733i33rqI5yADDbd2Vz2GVU0IAI5iQ2rlY4Dr9LmDn0+4M5KYOi6Ew2ddVRbsZ7gG0zOyiwSiyLkBYsIRI/6m60Nsyx6lABQFVvVIdqZjOA7brrbaz7pnO/srM59fvDGcn8mE2dk2eSrVPvVJ2TZ+87PqTv7a693qglwo9AeAATQVbD6FJE5mS4LF7fI+VXt/tl5/+EaOOBqt6S7iX0jYtgQcpT9XycStT5Zv1L9faw7yuDU4jaB5xbbUv307mCByIb8N4vAZkC65Jxzu6K4uFbzD2qRO/Ezq0+O+eaInbnvZ/HXj+RSPxj/AGx0CKlDnPAXQAAAABJRU5ErkJggg==",alt:""}),r.default.createElement("span",null,(0,o.processUnit)(h))),r.default.createElement("div",{className:"duration _Pr"},r.default.createElement("img",{className:"icon _Pr",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAALhSURBVFiF7ZffYdowEMa/kzuAR3A3IBvABCUTpAsEqhCemzyDoxIWaCeAThBvEDaoR/AA9V0fLIQByZg/bV/4npA5ST/ppLsTcNVV54nO6WzMvFuWiIkksZ8KpcoVgFxrXfwToOl03ieST4D0AcQBswKgJXP5YzzW2V8BMsYkIupNBMlRExBlRKXWWq8uBpSmsycAX/cnQy5CKwC5/RQTSdcPTXo0Gnw7G8gDUwC0VKqchVY9mZiuUqoLYIhttz6PRsOnk4HS9PULIMYZE1ZEfKu1zpv6rWXdvBBBpy1UEMgY02FW7zswPd/tmU7nfQB4fLxfesaJ7dlzUErxx9CiVAhIJNrdmSAMES+IeJGmr593/9daF0TcI4Jzr4h6C83rBZpMTFdEurZZWDd54woR19zh4pEP6hZAUQEhWe9qKyClortac9b2zDSpGoOcS6tY1gLIGBPboAcAYObsXBg3mSpnm5a03qEE9qoSIT820jZJa70i2sQsY+bdg0DMkTsTInQxmNqY7nCX5X7q8e1Q3eikBHlA+fpHLSk7Ba/9iRpOp8Z7NtpqD0iE8lozOTzEln1MpBZp+rqoLodXjR7YA4qijRGRdHb/39VoNPjOzL3aYQUgfRH1boxJ9vDJxTfY2qkZSOv7DLUAZow5CDUe64yIb5Qil81FkJTlh62+VcB1u14A9UUEgOw6XABjjoaHgIAqGms90Ha3VgAto+h3tjVZVQG4OXzR35tc1/nJNgul+ObcaG2MSWyyjgGAmXu+GBfM9i8vs1/r7W1Kri1htjI+EWUPD4OezzZ47YnYdRBBR0S9Ndyc1jDV2KUO2QeBrIuePVDJETDJLgxAjfX1iSUsZsychfJcVdxFQ8/L5LwSdgO1Xcq6zlWRn2ET4BIi6QReJgdhWgMB1apFIlMr3FqJCLm9EHkr+2MGB9YviuiuzUNRhH766uyLAq1lb1xiy5UYqPJgFKGw0f6qq/6L/gCFMH4bTOsYigAAAABJRU5ErkJggg==",alt:""}),r.default.createElement("span",null,(0,o.formatDuration)(I))))),r.default.createElement("img",{role:"button","aria-label":"播放",className:"iconSoundPlayImg _Pr",src:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/icon_sound_play_51ac57d.png",alt:""}))};t.default=u;t._3622995640=0},694:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3476336338=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(48),n=a(432),o=a(167),c=a(168);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}const u="fix-loadmore";var d=()=>{const{wxSdkReady:e,trackInfo:t}=(0,n.useBearStore)((e=>e)),[a,i]=(0,r.useState)(!1),d=(0,r.useMemo)((()=>{var e;const a=null==t||null===(e=t.shareTrackInfo)||void 0===e?void 0:e.albumId;return a?(0,o.getAlbumIting)(a):""}),[t]),s=(0,r.useCallback)((()=>{var e,a;l.ubt.clickForce(64061,"",{currPage:"免费声音落地页",xmRequestId:c.xmRequestId});const r=null==t||null===(e=t.shareTrackInfo)||void 0===e?void 0:e.albumId,n=null==t||null===(a=t.shareTrackInfo)||void 0===a?void 0:a.trackId,i=(0,o.getSearchParams)("posterId"),u=(0,o.getSearchParams)("posterType"),d={item:"专辑列表-打开APP",currPage:"freeTrackPage",currTrackId:n,currAlbumId:r,trackId:n,albumId:r,contentType:"声音"};i&&u&&Object.assign(d,{posterId:i,posterType:u}),l.ubt.clickForce(36942,"",d)}),[t]);(0,r.useEffect)((()=>{e&&!a&&d&&(i(!0),(0,o.initWeixinOpenTag)(u,d,s))}),[e,d,a,s]);const{albumTracks:f}=t;return f&&0!==f.length?r.default.createElement("div",{className:"load-more-root g_P",id:u,onClick:()=>{s(),(0,o.jumpApp)(d)}},r.default.createElement("span",null,"查看全部"),r.default.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACqSURBVFiF7ZZLDQMxDESnRhAKZbAUFpKRDKSlUAZLIQisnir1slI+040q+d2deVFiy0CSJB2QLCSL8kzrCY+wM8JOktvtAl+UCDtUEs0C7l7NYgdQlRKP3gKSW4QdAAqAaha7u79uE1BLDAkoJYYFVBJTAgqJaYELiae715bakTkgZVrg4gmabg/88ydc2oZLB9HSUawO7xL47APKcGCsDWXh3fxiJUuS5A0OY5eh9bn06gAAAABJRU5ErkJggg==",alt:"",className:"g_P"})):null};t.default=d;t._3476336338=0},695:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._1629077911=void 0;var r=o(a(1)),l=a(432),n=o(a(696));function o(e){return e&&e.__esModule?e:{default:e}}var c=()=>{var e,t;const{trackInfo:a,recommendElementList:o}=(0,l.useBearStore)((e=>e));return a&&o&&0!==(null==o?void 0:o.length)?r.default.createElement("div",{className:"recoment-list-root _uB"},r.default.createElement("div",{className:"title _uB"},"为你推荐"),r.default.createElement("div",{className:"recoment-out-box _uB"},null==o||null===(e=o.slice)||void 0===e||null===(t=e.call(o,0,12))||void 0===t?void 0:t.map(((e,t)=>r.default.createElement(n.default,{key:null==e?void 0:e.id,currentIndex:t}))))):null};t.default=c;t._1629077911=0},696:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._4263714993=void 0;var r,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),n=a(48),o=a(432),c=a(167),i=a(168),u=(r=a(444))&&r.__esModule?r:{default:r};function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var s=e=>{var t,a,r,d;let{currentIndex:s}=e;const{recommendElementList:f,trackInfo:m,wxSdkReady:A}=(0,o.useBearStore)((e=>e)),[p,g]=(0,l.useState)(!1),v=["album","track"].includes(null==f||null===(t=f[s])||void 0===t||null===(a=t.bizType)||void 0===a?void 0:a.toLocaleLowerCase())?`recoment-item-${null==f||null===(r=f[s])||void 0===r?void 0:r.refId}`:"",I=null==f?void 0:f[s];if(!I)return null;const{cover:k,title:h,summary:b,count:y}=I,E=(0,l.useCallback)((()=>{var e,t;n.ubt.clickForce(64064,"",{currPage:"免费专辑落地页",xmRequestId:i.xmRequestId,albumId:I.refId,positionNew:s+1});const a=null==m||null===(e=m.shareTrackInfo)||void 0===e?void 0:e.albumId,r=null==m||null===(t=m.shareTrackInfo)||void 0===t?void 0:t.trackId,l=(0,c.getSearchParams)("posterId"),o=(0,c.getSearchParams)("posterType"),u={item:"为你推荐-打开APP",currPage:"freeTrackPage",currTrackId:r,currAlbumId:a,trackId:r,albumId:a,contentType:"声音"};l&&o&&Object.assign(u,{posterId:l,posterType:o}),n.ubt.clickForce(36942,"",u)}),[I,s,m]),w=(0,l.useMemo)((()=>{var e;if(null==I||!I.refId)return"";const t=null===(e=I.bizType)||void 0===e?void 0:e.toLocaleLowerCase();return"album"===t?(0,c.getAlbumIting)(I.refId):"track"===t?(0,c.getTrackPageIting)({trackId:I.refId,timeline:0}):""}),[I]);return(0,l.useEffect)((()=>{A&&!p&&w&&v&&(g(!0),(0,c.initWeixinOpenTag)(v,w,E))}),[A,w,p,E,v]),l.default.createElement("div",{className:"recoment-item-root BW_",onClick:()=>{E(),(0,c.jumpApp)(w)},id:v},l.default.createElement("div",{className:"img-box BW_"},l.default.createElement(u.default,{src:k,defaultSrc:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/cover_5946d1d.png",className:"img-box-main BW_"}),l.default.createElement("img",{className:"album-rect BW_",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAACbCAYAAAD/YrKIAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAUiSURBVHic1ZvLddtGFIb/O8AiS3QQ4AjU1uog6sByBaYqiFyBpAosV2CmAjsVmOlA2RLUAdIBCiAwWRCgQRDPwTyuvxVFguB37sy984IABXa73U2apqHKd1UQKl8ioqAoih+2RJUkK8KiKH5oMxlgiSQAhG9vb5+1mAywVBJSyockSR50yPSxWBIAiOizyf6pRRIAqkQKdN2viTZJHBPJSP/UKQkA6/1+v9Z8T+2SAPCou3+akAyLonjUeUMTkoDmZjclCWhsdpOS2prdpCQArHVE07QkdExCjEsCCJcmkQ1JAFjUN21JhkmSPKl+2ZYkiOijahJZk8SCkmRTElAsSbYloRJN65JQiKYLSRwOh/Wc651IEtHHOdc7kcTMUciVJDBjFHIpGe73+7spF7qUBIBJfdO15N2UcuRaclI5ci45pRw5l8RxGnc7dAEHydFospAEMFiKuEgGQzWTiyQAvO/7gJPkLxHJ3ibnJAn0NDk3yduuN7lJhrvd7qb9JjdJENFt+z2Okhf9kp0kOvolR0m0JxwsJdGKJktJIvqj+TdLSQBnZYirZNCsl1wlIYRYJklEoS6Zgd94V79WkpRSGjkybv3G4ki+G79qMeqS1cH7pO2RhZySZ7ZkURR3AIw3N3B8tAdQa26tx8QjzI9k9dRKaMKmCyHE78AMyTRNQyKyGcVThk+STNM0KMvyGyz1xQYhMFGyLMvHZt2ySAgANHZVkiRPtpu5ied50WAkkyR5cCkIAIfDIfT7PqxOB4w/LDcGEQWdkawEv9rV6UZKGV5IVlsdLAQrAq/51263uyGibwB+cyR0ARFlp0imaRoIIVzUwjF+9smyLB9hccibQUDAccgriiJ1bdPDVgBAWZZ/ujYZIKQ0TYMqitz6Yk0mbE5iFQmEpfXKEgKBnt1VTggby9OlCPCsjWew3WZpIgDkriXGEESUuZYYQ0gpM9cSI2QCwN+uLcYQnudtXUuMIaIoygBsHXv0QkS5AAAp5bNrmT6klEfJ1Wq1BbBxatNPfirmnuc9g2fN/CkZRVHGsdmllP+dDYur1eqFoWh+MXavVqsnTqKn7G7DSVRKmQ3uqrneUQOOu2qjW3/7/f4rgLV5nW7iOKbR+aTneZ+I6NWGUAcZMGHSG0VRLoT4UH/BMhkwcWZe1dB7ozrdZMCM5YOLoVNK+S8wc41TDZ2ZCaEu6lXDLMmq2f8yYtSB53mvgMJq0ff9jXabbvJqrjtf0tYkublAVD2U/0ebTT/b+oXqobzx4l5nNqAeSeOT4+YCkes2yylpAL6SZ92JpWQ7MVlKolXiOErmvu+zb+7XKIrOqgc7SSnlxQYaO0m0MhvgJ5lX89YzWEkS0abrfVaSZVl2buhykrwoPTWcJL+3S08NG8mhZQkXyd6mBphIEtGmr6kBJpJ9WV3DQbKzgDdxLiml/DJ2jXNJ3/dfxq5xLbkdSpgap5JTt7xdSmZjCVPjTHJKwtS4ksznbHw5kZRSfpmSMDUuJPMpZaeJdcm5UQTsS86OImBZUiWKgF1JpSgCFiVVowjYk1SOImBP8pNqFAE7kts4jjdLbmBcUsfhfu8/aOiAiF7iON4uvY/JSOZCCC2PSJiUvF+SLE1MSW7jOP6u62YmJHPP87Qe4JuQvG8eFOlAa3YT0cvV1ZW2Zq7RGclMVza30SWZl2X5QVc2t9EiKaV8vr6+Nna8vLhPVqOK8gxnCosiSUSvpvphkyWSmRDCWD9sovzkQJUomWafTv4Hu4zLOtuJ0a8AAAAASUVORK5CYII=",alt:""})),l.default.createElement("div",{className:"content-box BW_"},h&&l.default.createElement("div",{className:"album-title ellipsis-1 BW_"},h),b&&l.default.createElement("div",{className:"album-desc BW_"},b),l.default.createElement("div",{className:"album-tips BW_"},l.default.createElement("img",{className:"icon BW_",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAHLSURBVFiF7ZfRcdpAEIb/3bgAOog6iOnAriBJBcYNyJw0PGOe7WNtuQFSQZIKoANIBVE6oAHt5iEINJ6AGHGWxx59T5q90903O/9Id0BHxzuDjpnkfTYA8AnAH+Zi5pxbv5rQdPq4NMP59gVCXhR6PRq5RetC9/dPX4j0+//GmOkBKCahu8WHBom02pkVgO3mqjZU5d/eZ8PWhKqY4Sez9gH6USn3AJPpNJuLSNSqEAA45/I0jb+q6iUR8p2sXajy0vvHWxHptSZUMhq5BZH2/+VoSw/A2IyXd3dy0aoQADjn1s7Fjln7RLQo62aImHkukkmTbjUWqoitkiS+BMghQOhPFipJ0/ghROiDCQHHhL6+W0GFSvaH3mTzG2pXCNgfeiJcvYpQhTVg0bGTz17KQkR6qjxUxbhaN8O31oW8zwZmNgYQPRuapGk8a01IRCLVD2PABma7OhEtiIpr51xet0YwIe+zoZndVPNChNyMJklyuCtBhUQkMuO5mUXVrgA0IyomSVLflSBC+0J76omykdCh0CbJzW2TNRsJhQhtMCEifDbjq1NDe5KQGa+IdPO8u3lsdBqFto63dQ0q2RwbPgL4Vfel7ejoeMZf00QK6YpnELsAAAAASUVORK5CYII=",alt:""}),l.default.createElement("span",null,null!=y&&y.play?(0,c.processUnit)(null==y?void 0:y.play):(0,c.dealEmptyText)(null==y||null===(d=y.playsCounts)||void 0===d?void 0:d.count,"0")))))};t.default=s;t._4263714993=0},697:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2260714329=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(48),n=a(432),o=d(a(171)),c=a(168),i=a(167),u=d(a(698));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const f="fix-header";var m=()=>{const{wxSdkReady:e,setShowSafeBar:t,trackInfo:a,currentStoreTime:d,soundGlobalColor:s,soundTitleList:m}=(0,n.useBearStore)((e=>e)),A=(0,r.useRef)(0),p=(0,r.useRef)(!1),g=(0,r.useRef)(),[v,I]=(0,r.useState)(!1),k=(0,r.useCallback)((()=>{var e;const t=null==a||null===(e=a.shareTrackInfo)||void 0===e?void 0:e.trackId;if(!t)return"";const r=o.default.getInstance();return(0,i.getTrackPageIting)({trackId:t,timeline:Math.floor(r.getCurrentTime())||0})}),[a]),h=(0,r.useCallback)((()=>{var e,t;const r=(0,i.getSearchParams)("posterId"),n=(0,i.getSearchParams)("posterType"),o=null==a||null===(e=a.shareTrackInfo)||void 0===e?void 0:e.trackId;if(!o)return;const c=null==a||null===(t=a.shareTrackInfo)||void 0===t?void 0:t.albumId,u={item:"顶部打开App",currPage:"freeTrackPage",currTrackId:o,currAlbumId:c,trackId:o,albumId:c,contentType:"声音"};return r&&n&&Object.assign(u,{posterId:r,posterType:n}),l.ubt.clickForce(36942,"",u)}),[a]);(0,r.useEffect)((()=>{e&&(0,i.initWeixinOpenTag)(f,k(),h)}),[e,h,k,d]),(0,r.useEffect)((()=>{function e(){const e=(0,i.getPlatform)(),a=window.sessionStorage.getItem("showSafeBar"),r=window.scrollY,l=window.innerHeight,n=document.documentElement.scrollHeight;if("wechat"===e&&a){A.current;const e=A.current,a=r<e-10,o=r+l>=n-10;r>e+10||o?t(!0):a&&t(!1),A.current=r}window.scrollY>130&&(p.current=!0,I(!0),g.current&&(clearTimeout(g.current),g.current=null)),g.current=setTimeout((()=>{p.current=!1,I(!1)}),700)}return window.addEventListener("scroll",e,!1),()=>{window.removeEventListener("scroll",e,!1)}}),[t]);const b=()=>{h(),k(),(0,i.jumpApp)(k())};return r.default.createElement("div",{className:"root "+(v?"scroll":"")+" _MU",id:f,onClick:b},r.default.createElement("div",{className:"title _MU"},m.length>0&&r.default.createElement(r.default.Fragment,null,r.default.createElement("img",{className:"logo _MU",src:c.header_logo,alt:""}),r.default.createElement(u.default,{data:m}))),r.default.createElement("div",{className:"btn-right _MU",id:f,onClick:b},"立即打开"))};t.default=m;t._2260714329=0},698:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3354150204=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=n?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(r,o,c):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(1));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var n=e=>{let{data:t}=e;const[a,l]=(0,r.useState)(0),n=(0,r.useRef)(+new Date),o=(0,r.useMemo)((()=>{const e=[];for(let a=0;a<30;a++)e.push(...t);return e}),[t]);return(0,r.useEffect)((()=>{let e;if(o&&0!==o.length)return l(0),e=window.requestAnimationFrame((function t(){+new Date-n.current>3e3&&(l((e=>(e+1)%o.length)),n.current=+new Date),e=window.requestAnimationFrame(t)})),()=>{window.cancelAnimationFrame(e)}}),[o]),r.default.createElement("div",{className:"root r_H"},r.default.createElement("div",{style:{transform:`translateY(-${21*a}px)`,transition:"transform 0.5s"},"aria-hidden":"true"},o.map(((e,t)=>r.default.createElement("div",{key:t,className:"text r_H"},r.default.createElement("div",{className:"tag r_H",style:{color:e.textColor,background:e.backgroundColor}},e.tag),r.default.createElement("div",{className:"slogan r_H"},r.default.createElement("span",{className:"r_H"},e.text)))))))};t.default=n;t._3354150204=0},699:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2619271674=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(48),n=A(a(175)),o=A(a(444)),c=a(432),i=A(a(171)),u=A(a(502)),d=A(a(700)),s=a(520),f=a(168),m=a(167);function A(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAADZSURBVEiJxZXLDcMgDECfkQfIKB0hvXDPKJkko+TOhYyQUTqAJffSSpWaD2mCyhHMe2DASM65MbPR3fsY48wFLaV0E5FBVbtgZiPQikhOKd0ugmegNbMxuHsPPIDmrOQD3gAPd+9lZeB+NF1rDNkLOAMHkNLAX+BfgqOSktgvQenE0oUsCvYAR3a5KlgDARw5p03BkuTVXXwJdgULEkrhAKFEcKb9N0VVD7nqNa360KqWiqrFrmq5rvrhXAHfkgQRGa6AA8QY59dbef/xQ1DVDpjOwhckk6p2T790Zdge0K6/AAAAAElFTkSuQmCC",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAALhSURBVFiF7ZffYdowEMa/kzuAR3A3IBvABCUTpAsEqhCemzyDoxIWaCeAThBvEDaoR/AA9V0fLIQByZg/bV/4npA5ST/ppLsTcNVV54nO6WzMvFuWiIkksZ8KpcoVgFxrXfwToOl03ieST4D0AcQBswKgJXP5YzzW2V8BMsYkIupNBMlRExBlRKXWWq8uBpSmsycAX/cnQy5CKwC5/RQTSdcPTXo0Gnw7G8gDUwC0VKqchVY9mZiuUqoLYIhttz6PRsOnk4HS9PULIMYZE1ZEfKu1zpv6rWXdvBBBpy1UEMgY02FW7zswPd/tmU7nfQB4fLxfesaJ7dlzUErxx9CiVAhIJNrdmSAMES+IeJGmr593/9daF0TcI4Jzr4h6C83rBZpMTFdEurZZWDd54woR19zh4pEP6hZAUQEhWe9qKyClortac9b2zDSpGoOcS6tY1gLIGBPboAcAYObsXBg3mSpnm5a03qEE9qoSIT820jZJa70i2sQsY+bdg0DMkTsTInQxmNqY7nCX5X7q8e1Q3eikBHlA+fpHLSk7Ba/9iRpOp8Z7NtpqD0iE8lozOTzEln1MpBZp+rqoLodXjR7YA4qijRGRdHb/39VoNPjOzL3aYQUgfRH1boxJ9vDJxTfY2qkZSOv7DLUAZow5CDUe64yIb5Qil81FkJTlh62+VcB1u14A9UUEgOw6XABjjoaHgIAqGms90Ha3VgAto+h3tjVZVQG4OXzR35tc1/nJNgul+ObcaG2MSWyyjgGAmXu+GBfM9i8vs1/r7W1Kri1htjI+EWUPD4OezzZ47YnYdRBBR0S9Ndyc1jDV2KUO2QeBrIuePVDJETDJLgxAjfX1iSUsZsychfJcVdxFQ8/L5LwSdgO1Xcq6zlWRn2ET4BIi6QReJgdhWgMB1apFIlMr3FqJCLm9EHkr+2MGB9YviuiuzUNRhH766uyLAq1lb1xiy5UYqPJgFKGw0f6qq/6L/gCFMH4bTOsYigAAAABJRU5ErkJggg==",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAHLSURBVFiF7ZfRcdpAEIb/3bgAOog6iOnAriBJBcYNyJw0PGOe7WNtuQFSQZIKoANIBVE6oAHt5iEINJ6AGHGWxx59T5q90903O/9Id0BHxzuDjpnkfTYA8AnAH+Zi5pxbv5rQdPq4NMP59gVCXhR6PRq5RetC9/dPX4j0+//GmOkBKCahu8WHBom02pkVgO3mqjZU5d/eZ8PWhKqY4Sez9gH6USn3AJPpNJuLSNSqEAA45/I0jb+q6iUR8p2sXajy0vvHWxHptSZUMhq5BZH2/+VoSw/A2IyXd3dy0aoQADjn1s7Fjln7RLQo62aImHkukkmTbjUWqoitkiS+BMghQOhPFipJ0/ghROiDCQHHhL6+W0GFSvaH3mTzG2pXCNgfeiJcvYpQhTVg0bGTz17KQkR6qjxUxbhaN8O31oW8zwZmNgYQPRuapGk8a01IRCLVD2PABma7OhEtiIpr51xet0YwIe+zoZndVPNChNyMJklyuCtBhUQkMuO5mUXVrgA0IyomSVLflSBC+0J76omykdCh0CbJzW2TNRsJhQhtMCEifDbjq1NDe5KQGa+IdPO8u3lsdBqFto63dQ0q2RwbPgL4Vfel7ejoeMZf00QK6YpnELsAAAAASUVORK5CYII=",k="fix-footer",h="fix-footer-player",b="modalBtnId",y="continueModalBtnId",E=n.default.div`
  width: 83%;
  box-sizing: border-box;
  background: #fff;
  border-radius: 12px;
  padding: 28px 16px 18px;
  position: relative;
  .mask-icon-close {
    width: 12px;
    height: 12px;
    position: absolute;
    top: 14px;
    right: 14px;
  }
`,w=(0,n.default)(E)`
  width: 83%;
  color: #131313;
  .mask-title {
    font-size: 19px;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-bottom: 20px;
    position: relative;
    &:after {
      content: '';
      width: 200%;
      height: 200%;
      position: absolute;
      top: 0;
      left: 0;
      border-bottom: 1px solid #F0F0F0;
      transform: scale(0.5);
      transform-origin: top left;
    }
    & > img {
      width: 18px;
      height: 18px;
      margin-right: 6px;
    }
    & > span {
      font-weight: 600 !important;
    }
  }
  .mask-sub-title {
    margin-top: 16px;
    color: #131313;
    font-size: 14px;
    font-weight: 600 !important;
  }
  .mask-track-item {
    display: flex;
    margin-top: 20px;
    position: relative;
    .mask-track-item-img {
      width: 56px;
      height: 56px;
      border-radius: 8px;
      margin-right: 8px;
    }
    .mask-track-item-content {
      flex: 1;
      position: relative;
      .mask-track-item-content-title {
        font-size: 14px;
        line-height: 18px;
        color: #131313;
      }
      .mask-track-item-content-desc {
        margin-top: 6px;
        font-size: 10px;
        color: #8D8D91;
        display: flex;
        align-items: center;
        & > div {
          margin-right: 12px;
        }
        .mask-track-item-icon {
          width: 12px;
          height: 12px;
          margin-right: 2px;
        }
        .mask-track-item-duration {
          display: flex;
          align-items: center;
        }
      }
    }
  }
  .mask-btn {
    margin-top: 26px;
    height: 47px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    border-radius: 97px;
    background: #FF4444;
    position: relative;
  }
`,x=(0,n.default)(E)`
  .cover {
    position: relative;
    display: block;
    margin: 12px auto 0;
    width: 100px;
    height: 100px;
    border-radius: 16px;
    overflow: hidden;
  }
  .title {
    margin-top: 10px;
    font-size: 16px;
    text-align: center;
    color: #333333;
  }
  .duration {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 3px;
    font-size: 10px;
    color: #8d8d91;
    img {
      width: 12px;
      margin-right: 2px;
    }
    span:not(:last-child) {
      padding-right: 8px;
    }
  }
  .btn {
    display: block;
    margin: 24px auto 0;
    width: 279px;
    height: 46px;
    text-align: center;
    line-height: 46px;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    border-radius: 100px;
    background: #ff4444;
    position: relative;
  }
`;var P=t=>{var a,n,A,p,E,P,C,O,S;let{from:T="album"}=t;const{wxSdkReady:N,showSafeBar:B,trackInfo:M,albumInfo:R,globalColor:Q,showAudio:U,setData:j,currentStoreTime:F,audioSrc:L,soundGlobalColor:_,noCallAppTipAlbumForPlay:q}=(0,c.useBearStore)((e=>e)),[V,D]=(0,r.useState)(!1),[J,Z]=(0,r.useState)(!1),[W,G]=(0,r.useState)(!1);(0,r.useEffect)((()=>{G((0,m.hasSafeArea)())}),[]);const Y=(0,r.useMemo)((()=>{var e,t,a;return(null==M||null===(e=M.albumTracks)||void 0===e?void 0:e.length)>0?null==M||null===(t=M.albumTracks)||void 0===t||null===(a=t.filter((e=>{var t;return(null==e?void 0:e.trackId)!==(null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.trackId)})))||void 0===a?void 0:a.slice(0,3):[]}),[M]),z=(0,r.useCallback)((()=>{if("album"===T){var e;const t=null==R||null===(e=R.album)||void 0===e?void 0:e.albumId;return t?(0,m.getAlbumIting)(t):""}if("sound"===T){var t;const e=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.trackId;if(!e)return"";const a=i.default.getInstance();return(0,m.getTrackPageIting)({trackId:e,timeline:Math.floor(a.getCurrentTime())||0})}return""}),[T,R,M]),K=(0,r.useMemo)((()=>{var e;const t=null==M||null===(e=M.shareTrackInfo)||void 0===e?void 0:e.albumId;return(0,m.getAlbumIting)(t)}),[M]),H=(0,r.useCallback)((e=>{const t=(0,m.getSearchParams)("posterId"),a=(0,m.getSearchParams)("posterType");if("album"===T){var r;const n=null==R||null===(r=R.album)||void 0===r?void 0:r.albumId;if(!n)return;const o={currAlbumId:n,item:e,currPage:"freeAlbumPage",albumId:n,contentType:"声音"};t&&a&&Object.assign(o,{posterId:t,posterType:a}),l.ubt.clickForce(36093,"",o)}if("sound"===T){var n,o;const r=null==M||null===(n=M.shareTrackInfo)||void 0===n?void 0:n.albumId,c=null==M||null===(o=M.shareTrackInfo)||void 0===o?void 0:o.trackId;if(!r)return;const i={item:e,currPage:"freeTrackPage",currTrackId:c,currAlbumId:r,trackId:c,albumId:r,contentType:"声音"};t&&a&&Object.assign(i,{posterId:t,posterType:a}),l.ubt.clickForce(36942,"",i)}}),[R,M,T]),X=(0,r.useCallback)((()=>{var e;const t=null==M||null===(e=M.shareTrackInfo)||void 0===e?void 0:e.trackId;l.ubt.clickForce(64066,"",{currPage:"freeTrackPage",currTrackId:t})}),[M]),$=(0,r.useCallback)((()=>{var e,t;const a=null==M||null===(e=M.shareTrackInfo)||void 0===e?void 0:e.trackId,r=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.albumId;l.ubt.clickForce(64657,"",{currPage:"freeTrackPage",xmRequestId:f.xmRequestId,contentType:"声音",currTrackId:a,currAlbumId:r})}),[M]);(0,r.useEffect)((()=>{N&&((0,m.initWeixinOpenTag)(k,z(),(()=>H("底部打开APP"))),(0,m.initWeixinOpenTag)(h,z(),(()=>H("播控-打开APP"))))}),[N,H,z,F]),(0,r.useEffect)((()=>{_&&N&&(0,m.initWeixinOpenTag)("pendantId",z(),(()=>H("底部打开APP")))}),[N,_,z,H]),(0,r.useEffect)((()=>{V&&(0,m.initWeixinOpenTag)(b,K,X)}),[V,K,X]),(0,r.useEffect)((()=>{J&&(0,m.initWeixinOpenTag)(y,z(),$)}),[J,z,$]);const ee=(0,r.useCallback)(((e,t)=>l.ubt.clickForce(64067,"",{currPage:"freeTrackPage",currTrackId:e,trackId:e,positionNew:t+1})),[]);(0,r.useEffect)((()=>{if(V)for(let e=0;e<Y.length;e++){const t=Y[e];(0,m.initWeixinOpenTag)(`maskItemId-${e}`,(0,m.getTrackPageIting)({trackId:null==t?void 0:t.trackId,timeline:0}),(()=>ee(null==t?void 0:t.trackId,e)))}}),[V,Y,ee]);const te=e=>{H(e),(0,m.jumpApp)(z())},ae=(0,r.useCallback)((()=>{var e;le();const t=null==M||null===(e=M.shareTrackInfo)||void 0===e?void 0:e.trackId;l.ubt.event(64065,"",{currPage:"freeTrackPage",currTrackId:t})}),[M]),re=()=>{D(!1)},le=()=>{D(!0)},ne=()=>{Z(!1)},oe=(0,r.useCallback)((e=>{var t,a;const r=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.trackId,n=null==M||null===(a=M.shareTrackInfo)||void 0===a?void 0:a.albumId;l.ubt.click(36948,"",{currPage:"freeTrackPage",currAlbumId:n,trackId:r,contentType:"声音",isPlay:e})}),[M]),ce=(0,r.useCallback)((e=>{oe(e?"true":"false")}),[oe]),ie=(0,r.useCallback)((e=>{var t,a;const r=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.trackId,n=null==M||null===(a=M.shareTrackInfo)||void 0===a?void 0:a.albumId;l.ubt.click(43357,"",{trackId:r,albumId:n,item:e?"快进":"快退",currPage:"免费声音落地页",contentType:"声音"})}),[M]),ue=(0,r.useCallback)((e=>{ie(e)}),[ie]),de=(0,r.useCallback)((e=>{var t,a;const r=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.trackId,n=null==M||null===(a=M.shareTrackInfo)||void 0===a?void 0:a.albumId;l.ubt.click(43357,"",{trackId:r,albumId:n,item:"进度条",currPage:"免费声音落地页",contentType:"声音"})}),[M]),se=void 0!==e&&"undefined"==typeof window,fe=se?"":(0,m.getCIDInfo)().CID;return r.default.createElement("div",{className:"root _IG"},V&&r.default.createElement(u.default,{onClick:re},r.default.createElement(w,null,r.default.createElement("img",{className:"mask-icon-close _IG",src:g,alt:"",onClick:re}),r.default.createElement("div",{className:"mask-title _IG"},r.default.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMJSURBVFiFvZg9U+JAGICfN6S0oJMS5QdwPU0c0bHztMfTTrtzxl6pZUY7S796PTtHcExjD7/gUkp1FpSBvWID5AtChPjMZAbCm+zD7r7JuyukRG1tFen3LZTaBorekfd+/gQcRNoo1cF1b8S2P9PcX2YW2djYR6lfgJWmAcAG6tJq2QsRUuvrPzGMC5QqphQJtSQOSh0kiU0VUtXqBfB7LpEol7hufdJQxgqpra0irvsI/FiwzJA2prkjz89OopA3ad/mHqIkRBxyubWwlBGQsaw8rvuYuQyAUsNRCBAQwjRPyW6Y4vjhzdMRoyFT1aoFvH2jzBilduT19Q/4e0jkOtNGCwWo1aBcjv5mGKNeEviG3imXodEYf6/V4OMjGCNyIM3mzbCHTjOTKRTg7Cx4bnk5GqffAoiyrDym+S8zmUYjKNDtwuEh9HrReNNcMTDN/UxkQPeMX6bXg5OTeBmAft8yEImZZQvg6AhKpahgeO74UWrbQKnFP3f29mB3N3ju6go6naQriwa6nlkclYrOIj8PD/pIpmgwLq4mM+0Z4qdU0nPET6eje2c28mZiyNKSvuHSkv5+fw93d9G4QgHq9XEc6IwKp3wCBrrsnEypFGykVtNzJCydNqPi+TQAZ2pIp6P/qZ+w1FcyKh7H9ISmZ9rhoX7A+Rut1XSPdLuwuRmMny2jooi0DUSeEgOH3R9uZHNznoyKolTHIJezZwoeSr28TI55f0+TUVFc98bwSsjZpADOz+N7oNsNvtHTY4ttf+q3vchtqkuvrnT6+2XSZ1SYOvgrxo2Nv6lr6UoFVleh2fxKRo0RcaTZXAEYPxgHg2NEIkX3VN7f9TEvSh0MP45KWK+mvZz/7qm59K9mA6sOabWOgfY3yrRx3br/hBEJMc0dRJzMVUQcTHMnvKSOCMnzs0Mut0a2PdWOW7XClM0Gr9Y+JYPNBm9qxJK8HVOtWohcL2Q7ZjA4Hi4IvywUENPLJSulio3IrTSbN7MEzyw0xBvKfUTKXj1eJLylp7f1nsjl7Lh5Mo3/oFslJn7pubYAAAAASUVORK5CYII=",alt:""}),r.default.createElement("span",{className:"_IG"},"当前节目已播完")),r.default.createElement("div",{className:"mask-sub-title _IG"},"该专辑的其他热门节目"),null==Y?void 0:Y.map(((e,t)=>r.default.createElement("div",{className:"mask-track-item _IG",key:t,id:`maskItemId-${t}`,onClick:()=>{return a=null==e?void 0:e.trackId,ee(a,t),void(0,m.jumpApp)((0,m.getTrackPageIting)({trackId:a,timeline:0}));var a}},r.default.createElement("img",{src:null==e?void 0:e.coverMiddle,alt:"",className:"mask-track-item-img _IG"}),r.default.createElement("div",{className:"mask-track-item-content _IG"},r.default.createElement("div",{className:"mask-track-item-content-title _IG"},null==e?void 0:e.title),r.default.createElement("div",{className:"mask-track-item-content-desc _IG"},(null==e?void 0:e.createdAt)&&r.default.createElement("div",null,(0,m.getFriendlyTimeStr)(e.createdAt)),r.default.createElement("div",{className:"mask-track-item-duration _IG"},r.default.createElement("img",{className:"mask-track-item-icon _IG",src:v,alt:""}),r.default.createElement("span",{className:"_IG"},(0,m.formatDuration)(null==e?void 0:e.duration))),r.default.createElement("div",{className:"mask-track-item-duration _IG"},r.default.createElement("img",{className:"mask-track-item-icon _IG",src:I,alt:""}),r.default.createElement("span",{className:"_IG"},(0,m.processUnit)(null==e?void 0:e.playCount)))))))),r.default.createElement("div",{className:"mask-btn _IG",id:b,onClick:()=>{X(),(0,m.jumpApp)(z())}},"打开喜马拉雅"))),J&&r.default.createElement(u.default,{onClick:ne},r.default.createElement(x,null,r.default.createElement("img",{className:"mask-icon-close _IG",src:g,alt:"",onClick:ne}),r.default.createElement(o.default,{className:"cover _IG",src:(null==M||null===(a=M.shareTrackInfo)||void 0===a?void 0:a.coverMiddle)||(null==M||null===(n=M.shareAlbumInfo)||void 0===n?void 0:n.coverMiddle),defaultSrc:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/cover_5946d1d.png"}),r.default.createElement("div",{className:"title _IG"},null==M||null===(A=M.shareTrackInfo)||void 0===A?void 0:A.title),r.default.createElement("div",{className:"duration _IG"},r.default.createElement("img",{className:"mask-track-item-icon _IG",src:v,alt:""}),r.default.createElement("span",{className:"_IG"},(0,m.formatDuration)(null==M||null===(p=M.shareTrackInfo)||void 0===p?void 0:p.duration)),r.default.createElement("img",{className:"mask-track-item-icon _IG",src:I,alt:""}),r.default.createElement("span",{className:"_IG"},(0,m.processUnit)(null==M||null===(E=M.shareTrackInfo)||void 0===E?void 0:E.playCount))),r.default.createElement("div",{className:"btn _IG",id:y,onClick:()=>{$(),(0,m.jumpApp)(K)}},"打开喜马拉雅，继续收听"))),U&&r.default.createElement("div",{className:"player _IG"},r.default.createElement(d.default,{url:L,duration:null==M||null===(P=M.shareTrackInfo)||void 0===P?void 0:P.duration,onEnded:ae,color:"sound"===T?_:Q,onClickPlay:ce,onPlayingCallBack:e=>{if(j({currentStoreTime:e}),e>=300&&!q)return(()=>{var e,t;Z(!0);const a=null==M||null===(e=M.shareTrackInfo)||void 0===e?void 0:e.trackId,r=null==M||null===(t=M.shareTrackInfo)||void 0===t?void 0:t.albumId;l.ubt.event(64658,"slipPage",{currPage:"freeTrackPage",currAlbumId:r,trackId:a,contentType:"声音",xmRequestId:f.xmRequestId})})(),"pause"},onClickForward:ue,onMoveCallBack:de,trackId:null==M||null===(C=M.shareTrackInfo)||void 0===C?void 0:C.trackId,albumId:null==M||null===(O=M.shareTrackInfo)||void 0===O?void 0:O.albumId}),(null==M||null===(S=M.shareTrackInfo)||void 0===S?void 0:S.paid)&&r.default.createElement("div",{className:"audio-paid-mask _IG",onClick:()=>te("播控-打开APP"),id:h})),"album"===T&&r.default.createElement("div",{className:"footer "+(W&&B?"safeFooter":"")+" _IG",id:k,onClick:()=>te("底部打开APP")},r.default.createElement("div",{className:"left _IG"},r.default.createElement("img",{className:"logo _IG",src:f.footer_logo,alt:""}),r.default.createElement("img",{className:"decs _IG",src:f.footer_desc,alt:""})),r.default.createElement("div",{className:"btn _IG"},"畅听完整版")),"sound"===T&&_&&r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:(W&&B?"safeFooterBlock":"")+" _IG"}),se?null:r.default.createElement(s.LaunchAppRight,{ready:!0,cid:fe+"",iting:z(),callBack:()=>H("底部打开APP")})))};t.default=P;t._2619271674=0}).call(this,a(21))},700:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=l?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}r.default=e,a&&a.set(e,r);return r}(a(1)),l=a(815),n=A(a(171)),o=a(167),c=a(432),i=a(802),u=A(a(803)),d=A(a(804)),s=A(a(805)),f=A(a(806)),m=A(a(807));function A(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}const g=98.5,v=Math.random().toString().slice(-8);var I=(0,r.memo)((e=>{let{step:t=15,color:a="#6983B2",duration:A=0,onEnded:p,url:I,onClickPlay:k,onClickForward:h,trackId:b,albumId:y,autoplay:E,onPlayingCallBack:w,onMoveCallBack:x}=e;const{wxSdkReady:P,currentStoreTime:C,trackInfo:O}=(0,c.useBearStore)((e=>e)),S=(0,r.useRef)(null),T=(0,r.useRef)(null),N=(0,r.useRef)(null),B=(0,r.useRef)(!1),M=(0,r.useRef)(0),R=(0,r.useRef)(A),Q=(0,r.useRef)(0),U=(0,r.useRef)(0),[j,F]=(0,r.useState)(!1),[L,_]=(0,r.useState)("0%"),[q,V]=(0,r.useState)(A);(0,r.useEffect)((()=>{V(A)}),[A]),(0,r.useEffect)((()=>{if(I)return S.current=n.default.getInstance({src:I,autoplay:!!E,trackId:b,albumId:y,onPlaying:()=>{F(!0),R.current||(R.current=S.current.getDuration(),V(Math.floor(R.current)))},onPause:()=>{F(!1)},onTimeUpdate:e=>{M.current=e;var t,a;"pause"===(null==w?void 0:w(e))&&(null===(t=S.current)||void 0===t||t.pause(),null===(a=S.current)||void 0===a||a.setCurrentTime(0));B.current||_(`${Math.min(e/R.current*100,g)}%`)},onEnded:p}),()=>{var e;null===(e=S.current)||void 0===e||e.destroy()}}),[p,I]);const D=(0,r.useCallback)((()=>{var e,t;if(j)return null==k||k(!1),null===(t=S.current)||void 0===t?void 0:t.pause();null==k||k(!0),null===(e=S.current)||void 0===e||e.play()}),[j,k]),J=(0,r.useCallback)((()=>{var e;const t=null==O||null===(e=O.shareTrackInfo)||void 0===e?void 0:e.trackId;if(!t)return"";const a=n.default.getInstance();return(0,o.getTrackPageIting)({trackId:t,timeline:Math.floor(a.getCurrentTime())||0})}),[O]);return(0,r.useEffect)((()=>{P&&!j&&(window.playRefFn=D,(0,o.initWeixinOpenTag)(v,J(),(()=>{}),"sound","audioPlay"))}),[P,J,C,D,j]),r.default.createElement(i.PlayRoot,{color:a,transxrate:L},r.default.createElement("div",{className:"player-process-line",ref:T},r.default.createElement("div",{className:"player-active-line"}),r.default.createElement("div",{className:"player-point-box",onTouchStart:e=>{Q.current=e.touches[0].clientX,U.current=e.touches[0].clientX,B.current=!0},onTouchMove:e=>{var t,a;N.current&&cancelAnimationFrame(N.current),Q.current=null===(t=e.touches)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.clientX,N.current=requestAnimationFrame((()=>{const e=parseFloat(getComputedStyle(T.current).width),t=Math.min(Math.max(Q.current,0)/e*100,g);_(`${t}%`),N.current=null}))},onTouchEnd:e=>{var t;e.changedTouches[0].clientX,Q.current=e.changedTouches[0].clientX;const a=parseFloat(getComputedStyle(T.current).width),r=Math.min(Math.max(Q.current,0)/a*100,g);null===(t=S.current)||void 0===t||t.setCurrentTime(r/100*R.current),B.current=!1,null==x||x(Q.current-U.current)}},r.default.createElement("div",{className:"player-point"}))),r.default.createElement("div",{className:"player-play-box"},r.default.createElement("span",{className:"player-time-num player-time-num-left"},(0,o.formatDuration)(Math.floor(M.current))),r.default.createElement("div",{className:"player-center"},r.default.createElement("div",{role:"button","aria-label":`后退${t}秒`,className:"player-control",onClick:()=>{var e;null==h||h(!1),j&&(null===(e=S.current)||void 0===e||e.setCurrentTime(Math.max(M.current-t,0)))}},r.default.createElement("div",{className:"player-control-arrow"},r.default.createElement(m.default,{color:a})),r.default.createElement("div",{className:"player-control-back"},r.default.createElement(s.default,{color:a})),r.default.createElement("div",{className:"player-control-num player-control-num-left"},t)),r.default.createElement("div",{role:"button","aria-label":j?"暂停":"播放",className:"player-btn",onClick:()=>{D();const e=(0,o.getPlatform)();j||"wechat"===e||"iting"===e||l.Dialog.confirm({content:r.default.createElement("div",{className:"player-dialog-content"},r.default.createElement("div",null,"即将离开页面"),r.default.createElement("div",null,'打开"喜马拉雅"')),confirmText:"允许",cancelText:r.default.createElement("span",{className:"player-dialog-cancel-text"},"取消"),onConfirm:()=>{(0,o.jumpApp)((0,o.getNewUrl)(J()))}})}},"wechat"===(0,o.getPlatform)()&&!j&&r.default.createElement("div",{className:"player-btn-launch-box",id:v}),j?r.default.createElement(u.default,{color:a}):r.default.createElement(d.default,{color:a})),r.default.createElement("div",{role:"button","aria-label":`快进${t}秒`,className:"player-control",onClick:()=>{var e;null==h||h(!0),j&&(null===(e=S.current)||void 0===e||e.setCurrentTime(Math.min(M.current+t,R.current)))}},r.default.createElement("div",{className:"player-control-arrow player-control-arrow-right"},r.default.createElement(m.default,{color:a})),r.default.createElement("div",{className:"player-control-back"},r.default.createElement(f.default,{color:a})),r.default.createElement("div",{className:"player-control-num player-control-num-right"},t))),r.default.createElement("span",{className:"player-time-num player-time-num-right"},(0,o.formatDuration)(q))))}));t.default=I},725:function(e,t,a){e.exports=a(9)(7)},802:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayRoot=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=n?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(r,o,c):r[o]=e[o]}r.default=e,a&&a.set(e,r);return r}(a(175));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}const n=r.default.div`
${e=>{let{color:t,transxrate:a}=e;return r.css`
      color: ${t};
      .player-process-line {
        height: 2px;
        position: relative;
        .player-active-line {
          position: absolute;
          top: 0;
          left: 0;
          bottom: 0;
          width: ${a};
          background: ${t};
        }
        .player-point-box {
          padding: 10px;
          position: absolute;
          left: calc(${a} - 10px);
          top: 50%;
          transform: translateY(-50%);
          z-index: 8;
          .player-point {
            width: 6px;
            height: 6px;
            background: ${t};
            border-radius: 50%;
            cursor: pointer;
          }
        }
      }
      .player-play-box {
        padding: 10px 16px 15px;
        display: flex;
        justify-content: center;
        .player-time-num {
          color: #ACACAF;
          font-size: 10px;
          position: absolute;
          top: 3px;
          &.player-time-num-left {
            left: 16px;
          }
          &.player-time-num-right {
            right: 16px;
          }
        }
        .player-center {
          display: flex;
          align-items: center;
          .player-control {
            width: 26px;
            height: 26px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            top: 1px;
            .player-control-back {
              width: 19px;
              height: 15px;
              & > svg {
                width: 19px !important;
                height: 15px !important;
              }
            }
            .player-control-arrow {
              width: 6px;
              height: 6px;
              position: absolute;
              display: flex;
              align-items: center;
              justify-content: center;
              left: 2px;
              top: 5.5px;
              &.player-control-arrow-right {
                transform: rotate(180deg);
                left: inherit;
                right: 2px;
              }
              & > svg {
                width: 6px !important;
                height: 6px !important;
              }
            }
            .player-control-num {
              font-size: 9px;
              position: absolute;
              &.player-control-num-left {
                right: 13.5px;
                bottom: 1.5px;
              }
              &.player-control-num-right {
                left: 13.5px;
                bottom: 1.5px;
              }
            }
          }
          .player-btn {
            width: 40px;
            height: 40px;
            margin: 0 40px;
            position: relative;
            & > svg {
              width: 40px !important;
              height: 40px !important;
            }
            .player-btn-launch-box {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
            }
          }
        }
      }
  `}}
`;t.PlayRoot=n},803:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=a(1))&&r.__esModule?r:{default:r};var n=e=>{let{color:t}=e;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",version:"1.1",width:"40",height:"40",viewBox:"0 0 40 40"},l.default.createElement("defs",null,l.default.createElement("clipPath",{id:"master_svg0_2100_23147"},l.default.createElement("rect",{x:"9",y:"9",width:"22",height:"22",rx:"0"}))),l.default.createElement("g",null,l.default.createElement("g",null,l.default.createElement("ellipse",{cx:"20",cy:"20",rx:"20",ry:"20",fill:t,fillOpacity:"1"})),l.default.createElement("g",{clipPath:"url(#master_svg0_2100_23147)"},l.default.createElement("g",null,l.default.createElement("rect",{x:"13.584228515625",y:"12.6666259765625",width:"4.125",height:"14.301628112792969",rx:"1.6761904954910278",fill:"#FFFFFF",fillOpacity:"1"})),l.default.createElement("g",null,l.default.createElement("path",{d:"M23.665771484375,12.6666259765625L25.040771484375,12.6666259765625C25.800161484375,12.6666259765625,26.415771484375,13.2822349765625,26.415771484375,14.0416259765625L26.415771484375,25.5932259765625C26.415771484375,26.3526259765625,25.800161484375,26.9682259765625,25.040771484375,26.9682259765625L23.665771484375,26.9682259765625C22.906380484375,26.9682259765625,22.290771484375,26.3526259765625,22.290771484375,25.5932259765625L22.290771484375,14.0416259765625C22.290771484375,13.2822349765625,22.906380484375,12.6666259765625,23.665771484375,12.6666259765625",fill:"#FFFFFF",fillOpacity:"1"})))))};t.default=n},804:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=a(1))&&r.__esModule?r:{default:r};var n=e=>{let{color:t}=e;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",version:"1.1",width:"40",height:"40",viewBox:"0 0 40 40"},l.default.createElement("g",null,l.default.createElement("g",null,l.default.createElement("ellipse",{cx:"20",cy:"20",rx:"20",ry:"20",fill:t,fillOpacity:"1"})),l.default.createElement("g",null,l.default.createElement("path",{d:"M14.600000381469727,13.13174L14.600000381469727,26.8683C14.600000381469727,28.2373,16.101200381469727,29.0762,17.267170381469725,28.3587L28.428100381469726,21.4904C29.538500381469724,20.8071,29.538500381469724,19.19295,28.428100381469726,18.5096L17.267170381469725,11.64134C16.101200381469727,10.923814,14.600000381469727,11.76268,14.600000381469727,13.13174Z",fill:"#FFFFFF",fillOpacity:"1"}))))};t.default=n},805:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=a(1))&&r.__esModule?r:{default:r};var n=e=>{let{color:t}=e;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",version:"1.1",width:"19.5",height:"15.5",viewBox:"0 0 19.5 15.5"},l.default.createElement("g",null,l.default.createElement("path",{d:"M-0.0000029999999999752447,1.500003L0.75,1.5L11.75,1.5Q14.3388,1.5,16.1694,3.33058Q18,5.16117,18,7.75Q18,10.33883,16.1694,12.1694Q14.3388,14,11.75,14L11.25,14L10.5,14L10.5,15.5L11.25,15.5L11.75,15.5Q14.9602,15.5,17.2301,13.2301Q19.5,10.9602,19.5,7.75Q19.5,4.5398499999999995,17.2301,2.26992Q14.9602,0,11.75,0L0.75,0L-0.0000029999999999752447,-0.0000029999999999752447L-0.0000029999999999752447,1.500003Z",fillRule:"evenodd",fill:t})))};t.default=n},806:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=a(1))&&r.__esModule?r:{default:r};var n=e=>{let{color:t}=e;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",version:"1.1",width:"19.5",height:"15.5",viewBox:"0 0 19.5 15.5"},l.default.createElement("g",{transform:"matrix(-1,0,0,1,37.5,0)"},l.default.createElement("path",{d:"M17.999997,1.500003L18.75,1.5L29.75,1.5Q32.3388,1.5,34.169399999999996,3.33058Q36,5.16117,36,7.75Q36,10.33883,34.169399999999996,12.1694Q32.3388,14,29.75,14L29.25,14L28.5,14L28.5,15.5L29.25,15.5L29.75,15.5Q32.9602,15.5,35.2301,13.2301Q37.5,10.9602,37.5,7.75Q37.5,4.5398499999999995,35.2301,2.26992Q32.9602,0,29.75,0L18.75,0L17.999997,-0.0000029999999999752447L17.999997,1.500003Z",fillRule:"evenodd",fill:t})))};t.default=n},807:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=a(1))&&r.__esModule?r:{default:r};var n=e=>{let{color:t,className:a}=e;return l.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:"none",version:"1.1",width:"5",height:"7.5",viewBox:"0 0 5 7.5"},l.default.createElement("g",null,l.default.createElement("path",{d:"M4.3313500000000005,-0.3075399999999999L3.76191,0.180558L0.350486,3.10463Q0.05365900000000001,3.35906,0.05365900000000001,3.75Q0.05365900000000001,4.1409400000000005,0.350486,4.39537L3.76191,7.31944L4.3313500000000005,7.80754L5.30754,6.66865L4.73809,6.18056L1.90244,3.75L4.73809,1.319442L5.30754,0.8313493L4.3313500000000005,-0.3075399999999999Z",fillRule:"evenodd",fill:t})))};t.default=n}}]);
//# sourceMappingURL=b60dfa.js.map