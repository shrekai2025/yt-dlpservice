/*! For license information please see 10ebbc.js.LICENSE.txt */
(window.__award__=window.__award__||[]).push([[0],{432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBearStore=t.pageStatusType=void 0;var a=r(614),n=r(167),o=r(620),l=r(168),i=r(48);const u="#ff4444";let c;t.pageStatusType=c,function(e){e[e.loading=0]="loading",e[e.hasData=1]="hasData",e[e.noData=2]="noData",e[e.netError=3]="netError"}(c||(t.pageStatusType=c={}));const s={albumTopColor:"",bigAlbumPicModeBgColor:"",trackRecordsInfoInAlbumPage:{list:[],totalSize:0},titleList:[],albumInfo:{},trackInfo:{},showSafeBar:!0,wxSdkReady:!1,showAudio:!1,commentList:[],globalColor:"#6983B2",popupList:[],pageStatus:c.loading,currentStoreTime:0,recommendElementList:[],audioSrc:"",soundTitleList:[],noCallAppTipAlbumForPlay:!1},d=(0,a.create)()(((e,t)=>({...s,setData:t=>{Object.keys(t).forEach((r=>{e({[r]:t[r]})}))},setWxSdkReady:()=>{e({wxSdkReady:!0})},recommendContentStore:async e=>{var r;const{setData:a}=t();let n=[];e&&(n=await(0,o.recommendContent)(e));let l=[];var i,u;0===n.length&&(n=await(0,o.concreteRankList)(),(null===(i=n)||void 0===i||null===(u=i.subElements)||void 0===u?void 0:u.length)>0&&(l=n.subElements.map((e=>({...e,refId:e.id})))));const c=null===(r=n)||void 0===r?void 0:r.length;c>0&&(l=c<3?n:c<6?n.slice(0,3):c<9?n.slice(0,6):c<12?n.slice(0,9):n.slice(0,12)),a({recommendElementList:l})},getTrackInfoStore:async r=>{try{var a,l,i;const m=await(0,o.getTracknfo)(r);if(!m)return e({pageStatus:c.noData});e({pageStatus:c.hasData,trackInfo:m});const{recommendContentStore:p}=t();var u,s,d;if((null==m||null===(a=m.metadatas)||void 0===a?void 0:a.length)>0)p({trackId:null==m||null===(u=m.shareTrackInfo)||void 0===u?void 0:u.trackId,metadataValueId:null==m||null===(s=m.metadatas)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.metadataValueId});else p();return{albumId:null==m||null===(l=m.shareTrackInfo)||void 0===l?void 0:l.albumId,paid:null==m||null===(i=m.shareTrackInfo)||void 0===i?void 0:i.paid}}catch{e({pageStatus:c.netError})}finally{(0,n.hideLoading)()}},setShowSafeBar:t=>{e({showSafeBar:t})},getSoundExtInfoStore:async e=>{const{setData:r}=t();try{const t=await(0,o.getSoundExtInfo)(e),a=t.guideTexts||[];if(!((null==a?void 0:a.length)>0))throw r({noCallAppTipAlbumForPlay:null==t?void 0:t.noCallAppTipAlbumForPlay}),new Error("没有数据");{const e=Math.floor(Math.random()*(null==a?void 0:a.length)),n=a.splice(e).concat(a);(null==n?void 0:n.length)>0&&r({noCallAppTipAlbumForPlay:null==t?void 0:t.noCallAppTipAlbumForPlay,soundTitleList:n,soundGlobalColor:u})}}catch(e){r({soundTitleList:[],soundGlobalColor:u})}},getAlbumInfoStore:async t=>{try{var r,a,l,i,u,s,d;const m=await(0,o.getAlbumInfo)(t);if(!m||null==m||!m.album)return e({pageStatus:c.noData});const p=null==m||null===(r=m.tabs)||void 0===r||null===(a=r.filter((e=>"tracks"===(null==e?void 0:e.type))))||void 0===a?void 0:a[0];return e({pageStatus:c.hasData,albumInfo:m,trackRecordsInfoInAlbumPage:{list:(null==p||null===(l=p.data)||void 0===l||null===(i=l.tracks)||void 0===i?void 0:i.slice(0,10))||[],totalSize:null==p||null===(u=p.data)||void 0===u?void 0:u.totalSize}}),{albumStyle:null==m?void 0:m.albumStyle,isPaid:null==m||null===(s=m.album)||void 0===s||null===(d=s.baseAlbum)||void 0===d?void 0:d.isPaid}}catch(t){t.message,e({pageStatus:c.netError})}finally{(0,n.hideLoading)()}},clickToAppUbtInAlbumPage:function(){var e,r;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{albumInfo:n,albumInfo:{albumStyle:o}}=t(),u=null==n||null===(e=n.album)||void 0===e||null===(r=e.baseAlbum)||void 0===r?void 0:r.albumId,{isPaid:c}=n&&n.album&&n.album.baseAlbum||{},s={currAlbumId:u,item:"专辑页-立即打开",currPage:"albumLandingV2",isPaid:"boolean"==typeof c?String(c):c,pageStyle:o,xmRequestId:l.xmRequestId,...a};i.ubt.clickForce(65762,"albumLandingV2",s)}})));t.useBearStore=d},434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exposureAlbumWake=t.exposureAlbumJump=t.exposureAlbumClickBuy=t.exposureAlbumClick=t.exposeAlbumWake=t.albumWakeUbt=t.albumJumpUbt=t.albumClickUbt=t.albumClickBuyUbt=void 0;var a=r(48);t.albumClickBuyUbt=e=>{let{name:t,currAlbumId:r}=e;a.ubt.clickForce(43709,"",{currPage:"albumLandingPay",currAlbumId:r,item:t})};t.exposureAlbumClickBuy=e=>{let{name:t,currAlbumId:r}=e};t.albumClickUbt=e=>{let{name:t,currAlbumId:r,moduleName:n}=e;a.ubt.click(43707,"",{currPage:"albumLandingPay",currAlbumId:r,item:t,moduleName:n})};t.exposureAlbumClick=e=>{let{name:t,moduleName:r,currAlbumId:a}=e};t.albumJumpUbt=e=>{let{landingUrl:t,trackId:r,albumId:n,anchorId:o,currAlbumId:l,moduleName:i}=e;a.ubt.clickForce(43705,"",{currPage:"albumLandingPay",currAlbumId:l,albumId:n,trackId:r,landingUrl:t,anchorId:o,moduleName:i})};t.exposureAlbumJump=e=>{let{albumId:t,trackId:r,landingUrl:a,moduleName:n,anchorId:o,currAlbumId:l}=e};t.albumWakeUbt=e=>{let{albumId:t,trackId:r,currAlbumId:n,moduleName:o,isTimeLimitedAlbum:l=!1}=e;a.ubt.clickForce(43703,"",{currPage:"albumLandingPay",currAlbumId:n,albumId:t,trackId:r,isWake:"false",moduleName:o,type:l?"限免专辑":"付费专辑"})};t.exposureAlbumWake=e=>{let{albumId:t,trackId:r,moduleName:a,currAlbumId:n}=e};t.exposeAlbumWake=e=>{let{albumId:t,trackId:r,moduleName:n="",currAlbumId:o,isTimeLimitedAlbum:l}=e;a.ubt.event(43704,"slipPage",{currPage:"albumLandingPay",currAlbumId:o,albumId:t,trackId:r,isWake:"false",moduleName:n,type:l?"限免专辑":"付费专辑"})}},435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wakeUpAppUbt=t.wakeUpAppAlbumUbt=t.exposeAppUbt=t.exposeAppAlbumUbt=void 0;var a=r(48),n=r(167);const o=new Map([["01","顶部打开App"],["02","底部浮层打开App"],["03",'"订阅"按钮打开App'],["04",'"播放"按钮打开App'],["05",'"去收听"按钮打开App'],["06",'"打开APP收听全部内容"按钮打开App'],["07",'"打开APP收听更多精彩内容-在喜马拉雅还可以听"按钮打开App'],["08",'"打开APP收听更多精彩内容-分类"按钮打开App'],["09",'"专辑封面-以上内容来自专辑"打开App'],["10",'"专辑封面-在喜马拉雅还可以听"打开App'],["11",'"声音列表"打开App'],["12","喜马拉雅小标题"],["13","页面访问60s弹框"],["14","播放120s弹框"],["15","中间打开APP"],["16","底部打开APP"],["17","中间的下载"],["18","中间的收藏"],["19","在喜马拉雅还可以"],["20","买书用户专属权益"],["21","仅好友可见"],["22","展开/收起"],["23","快进"],["24","快退"],["25","播控"]]);t.wakeUpAppUbt=e=>{let{item:t="",currTrackId:r,currAlbumId:l,albumId:i,trackId:u,customItem:c="",isPaid:s=!1}=e;if(s)a.ubt.clickForce(43713,"",{currPage:"playLandingPay",isWake:"false",item:o.get(t),currTrackId:r||u,currAlbumId:l||i,trackId:u||"",albumId:i||"",style:"免费声音页样式"});else{const e=(0,n.getSearchParams)("posterId"),s=(0,n.getSearchParams)("posterType"),d={item:o.get(t),currPage:"freeTrackPage",currTrackId:r||u,currAlbumId:l||i,trackId:u||"",albumId:i||"",...c.length&&{content:c}};e&&s&&Object.assign(d,{posterId:e,posterType:s}),a.ubt.clickForce(36942,"freeTrackPage",d)}};t.exposeAppUbt=e=>{let{item:t="",currTrackId:r,currAlbumId:n,albumId:l,trackId:i}=e;a.ubt.event(43356,"slipPage",{item:o.get(t),currTrackId:r||i,currAlbumId:n||l,currPage:"freeTrackPage",trackId:i||"",albumId:l||""})};const l=new Map([["01","顶部打开App"],["02","底部浮层打开App"],["03",'"打开APP查看更多精彩评论"按钮打开APP'],["04",'"打开APP收听更多精彩内容"按钮打开APP'],["05",'"去收听"按钮打开App'],["06","评论区域点击打开APP"],["07",'"专辑封面-在喜马拉雅还可以听"打开APP'],["08","喜马拉雅小标题"],["09","页面访问60s弹框"],["10","中间打开APP"],["11","底部打开APP"],["12","在喜马拉雅还可以"],["13","买书用户专属权益"],["14","展开/收起专辑简介"],["15","专辑下声音列表条"],["16","专辑下声音列表-加载更多"]]);t.wakeUpAppAlbumUbt=e=>{let{item:t="",currTrackId:r,currAlbumId:o,albumId:i,trackId:u,customItem:c="",isTest:s,isPaid:d,isTimeLimitedAlbum:m=!1}=e;if(d)a.ubt.clickForce(43703,"albumLandingPay",{currPage:"albumLandingPay",currAlbumId:o,albumId:i,trackId:u,isWake:"false",moduleName:l.get(t),type:m?"限免专辑":"付费专辑",style:"免费专辑页样式"});else{const e=(0,n.getSearchParams)("posterId"),s=(0,n.getSearchParams)("posterType"),d={item:l.get(t),currPage:"freeAlbumPage",currTrackId:r||u,currAlbumId:o||i,trackId:u||"",albumId:i||"",...c.length&&{content:c}};e&&s&&Object.assign(d,{posterId:e,posterType:s}),a.ubt.clickForce(36093,"freeAlbumPage",d)}};t.exposeAppAlbumUbt=e=>{let{item:t="",currTrackId:r,currAlbumId:n,albumId:o,trackId:i,isTest:u,isPaid:c,isTimeLimitedAlbum:s=!1}=e;c?a.ubt.event(43704,"slipPage",{currPage:"albumLandingPay",currAlbumId:n,albumId:o,trackId:i,isWake:"false",item:l.get(t),type:s?"限免专辑":"付费专辑",style:"免费专辑页样式"}):a.ubt.event(43533,"slipPage",{item:l.get(t),currTrackId:r||i,currAlbumId:n||o,currPage:"freeAlbumPage",trackId:i||"",albumId:o||""})}},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addObserve=void 0;var a,n=r(1);const o=new(((a=r(180))&&a.__esModule?a:{default:a}).default)({preloadHeight:0});let l=!1;const i=()=>{l||(o.start(),l=!0)},u=(e,t)=>{o.observe(e,t),i()};t.addObserve=u;t.default=e=>{const t=(0,n.useRef)();return(0,n.useEffect)((()=>{i()}),[]),(0,n.useEffect)((()=>{t.current&&u(t.current,e)}),[]),[t]}},438:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={commitOrder:!0,toCreateGroupon:!0,toJoinGroupon:!0,toSignVip:!0,receiveCoupon:!0,receiveCouponBeforeCommit:!0};Object.defineProperty(t,"commitOrder",{enumerable:!0,get:function(){return l.commitOrder}}),t.default=void 0,Object.defineProperty(t,"receiveCoupon",{enumerable:!0,get:function(){return c.receiveCoupon}}),Object.defineProperty(t,"receiveCouponBeforeCommit",{enumerable:!0,get:function(){return c.receiveCouponBeforeCommit}}),Object.defineProperty(t,"toCreateGroupon",{enumerable:!0,get:function(){return i.toCreateGroupon}}),Object.defineProperty(t,"toJoinGroupon",{enumerable:!0,get:function(){return i.toJoinGroupon}}),Object.defineProperty(t,"toSignVip",{enumerable:!0,get:function(){return u.toSignVip}});var n=d(r(1)),o=d(r(20)),l=r(490),i=r(548),u=r(549),c=r(550),s=r(551);function d(e){return e&&e.__esModule?e:{default:e}}function m(e){let{onBeforeCommit:t,...r}=e;r.asistUtb&&r.asistUtb(),"function"==typeof t&&!1===t()||(0,c.receiveCouponBeforeCommit)(r)}Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));t.default=e=>{let{className:t,children:r,style:a,...l}=e;return n.default.createElement("span",{style:a,className:(0,o.default)(t),onClick:m.bind(void 0,l)},r)}},442:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeMaps=void 0;t.typeMaps={COUPON_VALUE:0,COUPON_RATE:1,TIMED_DISCOUNT:2,TIMED_DISCOUNT_RATE:3,SUBSIDY:4,VIP_DISCOUNT:5}},443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vipSign=t.tradeV3=t.tradeOrder_bak=t.tradeOrder=t.subsidyExchange=t.prepareOrder=t.placeOrderAndPay=t.placeOrder3=t.placeOrder2=t.joinGroupon=t.getSign=t.getGiftInfo=t.createGroupon=t.allocateCoupon=void 0;var a,n=(a=r(33))&&a.__esModule?a:{default:a},o=r(442),l=r(49),i=r(32),u=r(12);const c={album:"/payable/order/trade/prepare/album",track:"/payable/order/trade/prepare/track",batch:"/payable/order/trade/prepare/batch/album/vo/v2",batchV3:"/payable/order/trade/prepare/batch/album/vo/v3"},s=e=>(0,n.default)({url:"/web-support/api/common/genOrderSignV2",method:"post",data:e});t.getSign=s;t.placeOrder2=async e=>{let{returnUrl:t,itemId:r,businessTypeId:a,domain:o,context:l=""}=e;return(0,n.default)({method:"post",url:"/web-support/api/common/genOrderSign",data:{returnUrl:t,itemId:r,businessTypeId:a,domain:o,context:l}}).then((function(){let{data:{sign:e,timestamp:i}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)({method:"post",url:"/trade/placeorder",dataType:"formdata",data:{domain:o,businessTypeId:a,itemId:r,returnUrl:t,sign:e,timestamp:i,context:l}})})).then((function(){let{retCode:e,cashierInfo:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{code:1===e?200:e,data:t}}))};const d=e=>{let{returnUrl:t,itemId:r,businessTypeId:a,domain:n,context:o="",orderItems:l,promotionItems:i,tradeType:u,action:c="/trade/prepareorder",...s}=e;o&&(o=o.replace(/"/g,"&quot;")),i&&(i=JSON.stringify(i).replace(/"/g,"&quot;"));let d="";return Object.keys(s).forEach((e=>{let t=s[e];"object"==typeof t&&(t=JSON.stringify(t).replace(/"/g,"&quot;")),d+=`<input type="hidden" name="${e}" value="${t}">\n`})),Promise.resolve({code:200,data:`<html>\n        <head>\n          <script>\n            (function () {\n      window.onpageshow = function (event) {\n        if (event.persisted) {\n          window.location.reload();\n        }\n      };\n    })();\n        <\/script>\n        </head>\n        <body><form name="order_form" method="post" action="${c}">\n       <input type="hidden" name="domain" value="${n}">\n        <input type="hidden" name="businessTypeId" value="${a}">\n        ${r||l?`<input type="hidden" name="orderItems" value="${r||l}">`:""}\n        <input type="hidden" name="returnUrl" value="${t}"> \n        <input type="hidden" name="context" value="${o}">\n        ${i?'<input type="hidden" name="promotionItems" value="'+i+'">':""}\n        ${u?'<input type="hidden" name="tradeType" value="'+u+'">':""}\n        ${d}\n    </form>\n    <script>document.forms["order_form"].submit();<\/script></body></html>\n`})};t.prepareOrder=d;const m=e=>(0,n.default)({url:"/trade/placeorder/v2",method:"post",dataType:"formdata",data:e,onTransformResponse(){}}).then((function(){let{cashierInfo:e,ret:t,msg:r,retCode:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1!==a)throw{code:t,message:r};return`<html><head><script>(function () {window.onpageshow = function (event) {if (event.persisted) {window.location.reload();}};})();<\/script></head><body>${e}</body></html>`}));t.placeOrder3=m;t.tradeOrder_bak=e=>{let{returnUrl:t,type:r,context:a="",promotionItems:l,...i}=e;/paytest=v3/.test(location.href);const u=c[r];if(i.itemId)return d({returnUrl:t,promotionItems:l,context:a,...i});if("batch"===r)return(0,n.default)({url:u,data:{returnUrl:t,context:a,...i}}).then((function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{orderItems:t,context:r,promotionItems:a}=e,[,n]=/"compositeItemId":[\s]*(\d+)/.exec(r)||[];return a&&(a[0].itemIds=[n]),Object.keys(e).forEach((t=>{let r=e[t];"object"==typeof r&&null!==r&&(r=JSON.stringify(r)),e[t]=r})),s(e).then((function(){let{data:{timestamp:r,sign:a}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m({...e,orderItems:t,timestamp:r,sign:a}).then((e=>({code:200,data:e})))}))}));let p=[];"album"===r&&l&&(p=l.filter((e=>e.type===o.typeMaps.TIMED_DISCOUNT||e.type===o.typeMaps.TIMED_DISCOUNT_RATE)).map((function(){let{promotionId:e,promotionCode:t,itemId:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{promotionId:e,promotionCode:t,itemId:r}})));const[f={}]=p;return(0,n.default)({url:u,data:{returnUrl:t,context:a,...f,...i}}).then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.itemId){const{promotionId:t,promotionCode:r,itemId:a}=f,n=JSON.stringify([{promotionCode:r,promotionId:t,promotionType:5,itemIds:[a]}]).replace(/"/g,"&quot;");e.data=e.data.replace(/<input type="hidden" name="promotionItems"[^/]*\/>/,'<input type="hidden" name="promotionItems" value="'+n+'"/>')}return e.data=`<html><head><script>(function () {window.onpageshow = function (event) {if (event.persisted) {window.location.reload();}};})();<\/script></head><body>${e.data}</body></html>`,e}))};t.tradeOrder=e=>{let{returnUrl:t,type:r,context:a="",promotionItems:o,...i}=e;const u="batch"===r?c.batchV3:c[r];if(i.itemId)return d({returnUrl:t,promotionItems:o,context:a,...i});let s={};const m=(0,l.getParam)(window.location.href,"uid");if(m&&(s={extension:{sourceType:20,sourceValue:{b:m}}}),"batch"===r)return(0,n.default)({url:u,data:{returnUrl:t,context:a,...i}}).then((function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{orderItems:a,context:n,promotionItems:o}=e;return a=a.map((e=>({itemId:e,quantity:"1",...s}))),o&&(o=o.map((e=>{let t={};return Object.keys(e).forEach((r=>{e[r]&&(t[r]=e[r])})),t}))),"string"==typeof n&&(n=JSON.parse(n),n.sourceType="H5"),g({context:JSON.stringify(n),orderItems:a,type:r,returnUrl:t,promotionItems:o}),{code:200}}));const{trackIds:p,albumId:f}=i,b="track"===r?`/m-revision/common/product/getTrackItemId?trackId=${p[0]}`:`/m-revision/common/product/getAlbumItemId?albumId=${f}`;return(0,n.default)({url:b}).then((e=>{let{data:n,ret:o}=e;if(0===o){const e=[{itemId:`${n.itemId}`,quantity:"1",...s}];return g({context:a,orderItems:e,type:r,returnUrl:t}),{code:200}}}))};t.allocateCoupon=function(){let{domain:e=1,couponId:t,comment:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={orderSource:"m站领券"};"object"==typeof r&&r.constructor===Object?Object.assign(a,r):"string"==typeof r&&Object.assign(a,{extInfo:r});try{let e=(0,l.parseQuery)(window.location.search).context;if(e){e=decodeURIComponent(e);try{let t=JSON.parse(e);Object.assign(a,t)}catch(t){Object.assign(a,{context:e})}}}catch(e){}return(0,n.default)({method:"post",url:"/promotion/coupon/user/allocate",data:{domain:e,couponId:t,comment:JSON.stringify(a)},dataType:"formdata"})};const p=e=>{let{albumItem:t,albumItemPrice:r,albumType:a,context:o,vipItem:l,vipItemPrice:i}=e;return(0,n.default)({url:"/business-vip-shopping-cart-mobile-web/order-items",method:"post",data:{albumItem:t,albumItemPrice:r,albumType:a,context:o,vipItem:l,vipItemPrice:i}}).then((e=>{let{ret:t,msg:r,data:a}=e;if(0===t)return a;throw{code:t,message:r}}))};function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[{promotionCode:t}={}]=e.promotionItems||[];return e.returnUrl=e.returnUrl+"&grouponId="+t,e}t.vipSign=e=>{let{vipItem:t,vipItemPrice:r,context:a,albumType:l,albumItemPrice:i,albumItem:u,channelTypeId:c}=e;return Promise.all([(0,n.default)({url:"/business-vip-shopping-cart-mobile-web/sign/props"}).then((e=>{let{data:{mreturnUrl:t}={},ret:r,msg:a}=e;if(0===r)return t;throw{code:r,message:a}})),p({vipItem:t,vipItemPrice:r,context:JSON.stringify(a.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(e.type){case o.typeMaps.COUPON_RATE:case o.typeMaps.COUPON_VALUE:e.type="coupon";break;case o.typeMaps.SUBSIDY:e.type="subsidy";break;case o.typeMaps.TIMED_DISCOUNT:case o.typeMaps.TIMED_DISCOUNT_RATE:e.type="timed_discount";break;case o.typeMaps.VIP_DISCOUNT:e.type="vip_discount"}return e.value=e.v.toFixed(2),delete e.v,e}))),albumType:l,albumItemPrice:i,albumItem:u})]).then((function(){let[e,r]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e+(-1!==e.indexOf("?")?"&":"?")+"shoppingCartId="+r,(0,n.default)({method:"post",url:"/business-sign-mobile-web/subscription/v1/sign",dataType:"urlencoded",data:{itemId:t,channelTypeId:c,context:JSON.stringify({returnUrl:e,VIP_SHOPPING_CART_ID:r}),domain:1}})}))};t.joinGroupon=e=>{let{grouponId:t,domain:r,context:a,returnUrl:o}=e;return(0,n.default)({url:"/promotion/groupon/attend/"+t,data:{domain:r,context:a,returnUrl:o}}).then((e=>d(f(e))))};t.createGroupon=e=>{let{promotionId:t,domain:r,context:a,returnUrl:o}=e;return(0,n.default)({url:"/promotion/groupon/init/"+t,data:{domain:r,context:a,returnUrl:o}}).then((e=>d(f(e))))};t.subsidyExchange=function(){let{activityId:e,categoryId:t=100,spuId:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)({method:"post",url:`/subsidyexchange/${e}/${t}/${r}/exchange`})};t.getGiftInfo=e=>(0,n.default)({url:"/business-camp-presale-web/camp/album/page/giftInfo",data:{albumId:e}});t.placeOrderAndPay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)({url:"/xmly/placeOrderAndPay",method:"post",data:e})};const g=e=>{let{type:t="album",appIdentifier:r="a6uapff4fj9aihsbss2oiefb82ou176r",domain:a=1,tradeType:o=1,orderItems:c,context:s,returnUrl:d=encodeURIComponent(window.location.href),tradeOrderNo:m,promotionItems:p}=e,f={appIdentifier:r,domain:a,tradeType:o,orderItems:c,context:s,returnUrl:d};m&&(f.tradeOrderNo=m);let g=(i.env.isTest?"https://m.test.ximalaya.com":u.xmAddress.M_ROOT)+("batch"===t?"/trade-v3/placeorder/h5":"/trade-v3/settlement/orderview");if("track"===t){f.trackDiscountDetail=!0;let e="";return Object.keys(f).forEach((t=>{let r=f[t];"context"===t&&"string"==typeof r&&(r=r.replace(/"/g,"&quot;")),"object"==typeof r&&(r=JSON.stringify(r).replace(/"/g,"&quot;")),e+=`<input type="hidden" name="${t}" value="${r}">\n`})),e=`\n    <form name="order_form" method="post" action="${g}">\n      ${e}\n    </form>\n    `,document.body.append(document.createRange().createContextualFragment(e)),void document.forms.order_form.submit()}if(f.orderItems=JSON.stringify(f.orderItems),"batch"===t)return p&&(f.promotionItems=JSON.stringify(p)),(0,n.default)({url:g,method:"post",data:f,dataType:"formdata"}).then((e=>{document.body.append(document.createRange().createContextualFragment(e.cashierInfo))}));window.location.href=(0,l.addExraParams)(g,f)};t.tradeV3=g},444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2811976873=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,r&&r.set(e,a);return a}(r(1));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o.apply(this,arguments)}var l=e=>{let{src:t,defaultSrc:r="",className:n="",...l}=e;const[i,u]=(0,a.useState)(!1),c=()=>{u(!0)};return r?a.default.createElement("div",{className:`root ${n} v_c`},!i&&a.default.createElement("img",{className:"default-img v_c",src:r,alt:""}),a.default.createElement("img",o({className:"current-img v_c",src:t},l,{onLoad:c}))):a.default.createElement("img",o({src:t,className:n+" v_c"},l))};t.default=l;t._2811976873=0},446:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"getActivityInfo",{enumerable:!0,get:function(){return i.getActivityInfo}}),t.getAlbumInfo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{albumCounts:"track"};return(0,n.default)({url:"/m-revision/page/album/v2/queryAlbumPage/"+e,data:{...t,v:Date.now()}}).then((function(){let{data:{albumDetailInfo:e={},albumRichInfo:t,albumPayType:r,albumPayTypeUserMask:a,albumVipPayType:n,userPermission:i,albumType:u,id:c,albumMetaValueInfos:s=[],anchorId:d,albumXimiVipPayType:m,isVipPrivileges:p=!1,isOriginal:f=!1,visibleStatus:g}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const b=(0,o._parseAlbum)(e),{sellingPoint:y}=b;if("string"==typeof y)try{b.sellingPoint=JSON.parse(y)}catch(e){b.sellingPoint={}}return t&&t.coverPathHighClear&&(t.highRatioCover=(0,l.fillImageUrl)(t.coverPathHighClear)),{albumInfo:b,richInfo:t,campPhraseInfo:b.campPhraseInfo,albumType:u,payType:r,vipPayType:n,ximiPayType:m,payTypeUserMask:a,userPermission:i,id:c,metaInfos:s,anchorId:d,isTimeLimitedAlbum:b.isTimeLimitedAlbum,commentCount:b.commentCount,isVipPrivileges:p,isOriginal:f,visibleStatus:g}}))},t.getComments=function(e){let{page:t=1,pageSize:r=5,albumId:a}=e;return(0,n.default)({url:"/m-revision/common/album/queryAlbumCommentsByPage",data:{page:t,pageSize:r,albumId:a,v:Date.now()}}).then((function(){let{data:{page:e,pageSize:t,totalCount:r,comments:a=[]}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:e,pageSize:t,total:a.length>0?r:0,list:a.map(o.parseComment),current:e,hasMore:e<Math.ceil(r/t)&&!!a.length}})).catch((e=>({})))},t.getGrouponStatus=t.getGrouponInfo=void 0,t.getHotWordAlbums=function(e){let{id:t,queryType:r}=e;return(0,n.default)({url:"/revision/seo/hotWordAlbums",data:{id:t,queryType:r}}).then((e=>200===e.ret?e.data.hotWordAlbums.map(o._parseAlbum):[])).catch((e=>[]))},t.getRelateAlbums=function(){let{albumId:e,page:t,pageSize:r=5,isIncludeScore:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)({url:"/m-revision/common/album/queryAlbumRelatedRecommendAlbums",data:{albumId:e,page:t,pageSize:r,v:Date.now(),...a&&{isIncludeScore:a}}}).then((function(){let{data:{page:e,pageSize:t,totalCount:r,albumBriefDetailInfos:a=[]}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:e,pageSize:t,total:r,list:a.map(o._parseAlbum)}})).catch((e=>{}))},Object.defineProperty(t,"getTracks",{enumerable:!0,get:function(){return u.getTracks}}),t.getTrainCampExtraInfo=function(){let{version:e=12,albumId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)({url:`/business-camp-presale-web/v${e}/camp/mpresale/${Date.now()}`,data:{albumId:t,v:Date.now()}}).then((function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).catch((e=>({})))},Object.defineProperty(t,"getTrainTracks",{enumerable:!0,get:function(){return u.getTrainTracks}}),t.isBindCommunity=function(e){return(0,n.default)({url:"/m-revision/common/album/isAlbumBindCommunity/"+e,data:{v:Date.now()}}).then((function(){let{data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e})).catch((e=>{}))};var a,n=(a=r(33))&&a.__esModule?a:{default:a},o=r(50),l=r(49),i=r(177),u=r(532);function c(e,t){let{albumPageTrackRecords:{id:r,totalCount:a,page:n,pageSize:l,trackDetailInfos:i=[]},recommendAlbums:u,classicListenAlbums:c}=t;l=7,Object.assign(e,{trackPageInfo:{id:r,total:a,current:n,pageSize:l,list:i.map(o._parseTrack)},recommendAlbums:u.map(o._parseAlbum),classicAlbums:c.map(o._parseAlbum)})}function s(e,t){let{freeTracks:r,albumCommentItems:a}=t;Object.assign(e,{trackPageInfo:{list:r.map(o._parseTrack)},comments:a.map(o.parseComment)})}t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.default)({url:"/m-revision/page/album/queryAlbumPage/"+e,data:{...t,v:Date.now()}}).then((function(){let{ret:e,msg:t,data:r,context:{currentUser:a={},basicRequestContext:{isHybrid:n,isKnowAmbassadorDistributor:i,isEmbedded3rdPartner:u}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)throw new Error(t||"data request failed");const{typeSpecData:{freeOrSingleAlbumData:d,wholeAlbumData:m},albumDetailInfo:p,albumPayType:f,albumVipPayType:g,userPermisssion:b,anchorInfo:y={},albumPayTypeUserMask:v,albumRichInfo:h,albumMetaValueInfos:A=[]}=r;h&&h.coverPathHighClear&&(h.highRatioCover=(0,l.fillImageUrl)(h.coverPathHighClear));const I={id:r.id,currentUser:(0,o.parseUser)(a||{}),albumPayType:f,albumVipPayType:g,richInfo:h,albumInfo:(0,o._parseAlbum)(p),isPaid:2===v,isFree:0===v,payType:v,anchor:(0,o._parseAnchor)(y),metaInfos:A,userPermisssion:b,openAppVisible:!n&&!i&&!u};return d?c(I,d):m&&s(I,m),I}))};t.getGrouponInfo=e=>{let{itemId:t,headers:r={}}=e;return(0,n.default)({url:"/m-revision/common/album/queryAlbumGrouponInfo",data:{itemId:t,v:Date.now()},headers:r})};t.getGrouponStatus=e=>{let{grouponId:t,headers:r}=e;return(0,n.default)({url:"/m-revision/common/album/queryAlbumGrouponStatus",data:{grouponId:t,v:Date.now()},headers:r})}},447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasWxAuth=function(){return(0,a.getCookie)("wxh5_"+a.THIRDPART_ID)},t.toLogin=function(){const e="?fromUri="+encodeURIComponent(location.href);return(0,n.isMpEnv)()?o.mp.login():(location.href="/login"+e,!1)},t.wxAuth=function(e){const t="/passport/"+(e?"":"v1/")+"auth/"+a.THIRDPART_ID+"/authorize?display=mobile&fromUri="+location.href;location.href=t};var a=r(12),n=r(32),o=r(471)},450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayerCurrentTime=void 0;var a=r(70);t.getPlayerCurrentTime=e=>{let t=0;return t=parseInt(a.player.currentTime(),10),a.PlayState.PLAYING===a.player.playState&&a.player.pause(),e&&120===e&&(t=e),t>=4?1e3*(t-4):0}},451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoSrc=t.getTracks=t.getTrackInfo=t.getPopPercent=t.getDownloadBackground=t.getAudioSrc=t.getActivityInfo=t.default=void 0;var a,n=(a=r(33))&&a.__esModule?a:{default:a},o=r(50),l=r(182);t.getActivityInfo=e=>{const t=location.search;return(0,n.default)({url:"/m-revision/page/track/queryTrackPageActivityInfo/"+e+t}).then((function(){let{data:e={},context:{basicRequestContext:{isHybrid:t,isEmbedded3rdPartner:r,isKnowAmbassadorDistributor:a}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vipFirstConfigInfo:n,trackInvitationInfo:o,appointActivities:l,...i}=e;return{appointActivities:l,vipFirstInfo:n,inviteInfo:o,openAppVisible:!t&&!a&&!r,...i}}))};t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.default)({url:"/m-revision/page/track/queryTrackPage/"+e,pageQs:t}).then((function(){let{ret:e,data:t,context:{currentUser:r={},basicRequestContext:{isHybird:a,isKnowAmbassadorDistributor:n,isEmbedded3rdPartner:l}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)throw new Error("data received failed");const{trackDetailInfo:i,trackRichInfo:u,albumDetailInfo:c,albumPageTrackRecords:{id:s,totalCount:d,page:m,trackDetailInfos:p},classicListenAlbums:f,albumPayType:g,albumVipPayType:b,anchorInfo:y={},preTrackUrl:v,nextTrackUrl:h,albumMetaValueInfos:A=[],canPlayXimiTrack:I,visibleStatus:k}=t,P={id:t.id,trackInfo:{...(0,o._parseTrack)(i),canPlayXimiTrack:I},trackRichInfo:u,currentUser:(0,o.parseUser)(r),albumInfo:(0,o._parseAlbum)(c),trackPageInfo:{id:s,total:d,page:m,pageSize:7,list:p.map(o._parseTrack)},albumPayType:g,albumVipPayType:b,preTrackUrl:v,nextTrackUrl:h,metaInfos:A,classicListenAlbums:f.slice(0,5).map(o._parseAlbum),anchor:(0,o._parseAnchor)(y),openAppVisible:!a&&!n&&!l,visibleStatus:k};return P}))};t.getTrackInfo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.default)({url:"/m-revision/page/track/queryTrackPage/"+e,pageQs:t}).then((function(){let{ret:e,data:t,context:{currentUser:r={},basicRequestContext:{isHybird:a,isKnowAmbassadorDistributor:n,isEmbedded3rdPartner:l}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)throw new Error("data received failed");const{trackDetailInfo:i,trackRichInfo:u,albumDetailInfo:c,albumScore:s,classicListenAlbums:d,albumPayType:m,albumVipPayType:p,preTrackUrl:f,nextTrackUrl:g,albumMetaValueInfos:b=[],canPlayXimiTrack:y,isOriginal:v=!1,visibleStatus:h}=t,A=Object.assign(c,{albumScore:s}),I={id:t.id,trackInfo:{...(0,o._parseTrack)(i),canPlayXimiTrack:y},trackRichInfo:u,currentUser:(0,o.parseUser)(r),albumInfo:(0,o._parseAlbum)(A),albumPayType:m,albumVipPayType:p,preTrackUrl:f,nextTrackUrl:g,metaInfos:b,classicListenAlbums:d.map(o._parseAlbum),openAppVisible:!a&&!n&&!l,isOriginalSound:v,visibleStatus:h};return I}))};t.getDownloadBackground=()=>(0,n.default)({url:"//m.ximalaya.com/web-support/api/jc/queryJCData?groupName=wap&pageKey=track&componentKey=downloadBg"}).then((e=>e.data[0].buttonBG));t.getPopPercent=()=>(0,n.default)({url:"//m.ximalaya.com/web-support/api/jc/queryJCData?groupName=wap&pageKey=track&componentKey=pop"}).then((e=>e.data[0].percent));t.getTracks=(e,t)=>{let{page:r,pageSize:a,albumId:l,asc:i=!0,...u}=e;return(0,n.default)({url:"/m-revision/common/album/queryAlbumTrackRecordsByPage",data:{albumId:l,page:r,pageSize:a,asc:i,v:Date.now(),client:"selfshare",...u}},t).then((function(){let{ret:e,data:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)return{id:l,page:1,pageSize:10,list:[],total:0};const{id:r,page:a,pageSize:n,totalCount:i,trackDetailInfos:u=[]}=t;return{id:r,page:a,pageSize:n,total:i,list:u.map(o._parseTrack)}})).catch((e=>console.log(e,"track list error")))};t.getVideoSrc=e=>{let{trackId:t}=e;return(0,n.default)({url:`/mobile-playpage/track/v3/baseInfo/${Date.now()}`,data:{device:"selfshare",trackId:t,videoQualityLevel:1,forVideo:!0,needMp4:!0}}).then((e=>{let{trackInfo:t,ret:r}=e;if(0===r){const{playUrlList:e,videoCover:r="",isAuthorized:a=!0,intro:n=""}=t;if(!e||!e.length)return{src:"",videoCover:r,isAuthorized:a,intro:n};{let t=e[0].url;const o=(0,l.decrypt)(t);if(o&&o.length)return{src:o,videoCover:r,isAuthorized:a,intro:n}}}})).catch((e=>(console.warn(e),{})))};t.getAudioSrc=e=>{let{trackId:t}=e;return(0,n.default)({url:`/mobile-playpage/track/v3/baseInfo/${Date.now()}`,data:{device:"selfshare",trackId:t,trackQualityLevel:0}}).then((e=>{let{trackInfo:t,ret:r}=e;if(0===r){const{playUrlList:e,videoCover:r="",isAuthorized:a=!0,intro:n=""}=t;if(!e||!e.length)return{src:"",videoCover:r,isAuthorized:a,intro:n};{let t=e[0].url;const o=(0,l.decrypt)(t);if(o&&o.length)return{src:o,videoCover:r,isAuthorized:a,intro:n}}}})).catch((e=>(console.warn(e),{})))}},453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commitForm=function(e){return history.pushState(null,""),document.write(e)},t.getContext=function(){let{itemId:e,albumType:t,promotionItems:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query:{context:a=""}={}}=(0,o.parseURI)(location.href)||{};try{a=JSON.parse(decodeURIComponent(a))}catch(e){a={}}let n=(0,o.parseReferrer)();n.refr_source&&(a.refrSourceSeo=n.refr_source);e&&(a.refundable=!0);r&&(a.promotionItems=r);return a.originSite="msite",JSON.stringify({...a,albumType:t})},t.loginCheck=function(e,t){"function"==typeof e&&(t=e,e=void 0);return(0,n.loginStatus)(e).then((function(){let{isLogin:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)throw(0,a.toLogin)(),{code:-1,message:"需要登录"};return t(e)}))},t.wait=function(e){return new Promise((t=>{setTimeout(t,1e3*e)}))};var a=r(447),n=r(50),o=r(12)},454:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2854180310=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a};var o=e=>{let{title:t,subtitle:r="",style:a={}}=e;return n.default.createElement("div",{className:"header E_O"},n.default.createElement("div",{className:"header-title E_O",style:a},n.default.createElement("span",{className:"header-title-span E_O"},t),r.length?n.default.createElement("span",{className:"header-title-right E_O"},r):null))};t.default=o;t._2854180310=0},458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._551498385=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),n=m(r(179)),o=m(r(530)),l=r(435),i=m(r(437)),u=r(483),c=r(434),s=r(450),d=r(459);function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var f=e=>{let{albumId:t,selfType:r,trackId:m,iting:p,isFree:f,isTest:g=!1,isPaid:b=!f,trackWakeUbt:y=(()=>{}),cardId:v=null}=e;const h=()=>{if(f){if("sound"===r)return(0,l.wakeUpAppUbt)({item:"01",currTrackId:m,currAlbumId:t}),s.getPlayerCurrentTime&&(0,s.getPlayerCurrentTime)();"rank"===r?y&&y():"album"===r?(0,l.wakeUpAppAlbumUbt)({item:"01",currTrackId:m,currAlbumId:t,isPaid:b,isTest:g}):"community"===r&&(0,d.communityWakeupUbt)({item:"顶部打开 app",cardId:v})}else"sound"===r?(0,u.trackWakeUbt)({currAlbumId:t,currTrackId:m,name:"打开APP",moduleName:"头部"}):(0,c.albumWakeUbt)({currAlbumId:t,moduleName:"头部-打开APP"})},[A]=(0,i.default)((()=>{f&&("sound"===r?(0,l.exposeAppUbt)({item:"01",currTrackId:m,currAlbumId:t}):"album"===r&&(0,l.exposeAppAlbumUbt)({item:"01",currTrackId:m,currAlbumId:t,isTest:g,isPaid:b}))})),I=(0,a.useCallback)((()=>{f||("sound"===r?(0,u.trackJumpUbt)({landingUrl:"/",currAlbumId:t,currTrackId:m,moduleName:"头部"}):(0,c.albumJumpUbt)({currAlbumId:t,landingUrl:"/",moduleName:"头部标题"}))}),[t,m,r,f]);return a.default.createElement(a.default.Fragment,null,f&&"album"===r||["rank","sound","community","video"].includes(r)?a.default.createElement("div",{ref:A,className:"new-banner du_"},a.default.createElement(o.default,{selfType:r,openApp:h,customIting:p,customAlbumId:t})):a.default.createElement(n.default,{openApp:h,customIting:p,trackJumpUbt:I,customAlbumId:t}))};t.default=f;t._551498385=0},459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.communityWakeupUbt=function(e){let{item:t="",commentId:r="",cardId:n=""}=e;a.ubt.click(52190,"interactiveCardShareOutsideView",{currPage:"interactiveCardShareOutsideView",item:t,commentId:r,cardId:n})},t.exposeCommunityUbt=function(e){let{item:t="",cardId:r=""}=e;a.ubt.event(52193,"slipPage",{currPage:"interactiveCardShareOutsideView",exploreType:"interactiveCardShareOutsideView",item:t,cardId:r})};var a=r(48)},460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._1670918751=void 0;var a,n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),l=r(57),i=y(r(40)),u=r(26),c=r(70),s=r(32),d=r(471),m=y(r(487)),p=y(r(488)),f=y(r(20)),g=y(r(58)),b=r(435);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}const h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABH9JREFUaEPdm79v20YUx79HihQtyYpEQZJ/1fkTkqFA924BunoKYNiwoT1Lf6ABnMBD0WbI0qKAEMNChgKGk6UoEBSZ0qXt0D+hQ9xWtmXYimU1lkiRV/BUKpIsiT90jAlyFI/vvQ/f4917704EAVx0ZUWGLCsQRQmyHIOmxSCKAiSJMHW6TmEYJmS5A03rwDB0aFqL7O9rvM3pKuRw0VIpAV1PAlAgCIIvkaZpAmhBkv4l5fJbXzKGHpoKkG5tCXj9Oo1YLAVKRR4G9WQQYqDTaeLmzQZ5+NAC93X5AqQAwdraDRAy69tbbs21vErpBSqVcwJQt4/Z4zwD0nv3ZnB6qkKSYl6VTTVe1zvI5c7I48eXXuS4BmRe29jIApj1oiCAsRfY2am79aYrQLqyIiKbLcAw5AAM9i5SFDXU6zWyv284PewISEslCa1W4b2HpJPlVsgqSo2Uy/qkoRMBGZxpFrnPkE7Gu71vzbSCcDwJciwgC8uZmbnQeW4Y3vLk5eXRuHAdCcgmlFJpLjTfnJNHrW+yXD4aNfGMBtzYUEMwWzphDd+/IDs7Z8M/XgFk61yjUfAqPRTj0+na8Do5AMhCc3V1IfTf3bi3aX2PT59W+0N1EHBtLQNRvBEKb/g1wjDOSaXy5kqqxhLng4PFwHNLv4a7fc7KXZeX/7ET9J4HaRS8Z7+EPi++A9zcXApkQdc0AbLsu9xx67iBcYQY5MmTv63fGCArVg0j70vYuIcODz+Brj9gJRUhe1DVb5BINLnqmCRMFE+sorkLuL6ehyAkuClvNjOo138HEO+TWYUsf4Fi8RU3PZMEmeZbsrt7YgN+wHVyqdU+RLv9bIR+CkF4jmRyG5nMeaCgpmmS3d2/CL1zJ46FhTmuymq1j9Bu702QWYMsf4li8SVXvcPCqtUjQu/eTUNRrEKW3+UM2NUlCD8imXyATOZKisXFmFarTujqag6SlOIi0BbiFrA7/hSx2Bbm53/iaoMlTNebhG5uWvWewlW4N8CuakJ+Rip1H5nMCTdbCGlZHlzknnv6AexSvUEsto35+edcIHW9Q+j6Ot8Z1LLMP6Dtze+xtPT11JDWTEpLpWUYhmNvxpOyaQEp1aGqt5BKTdfdFkUaTkCgjVzuNhIJTz3QK05ggGEMUUF4hMXF7zxFzajBLETDNcnwTQDYJBOOZcJK4Z5hdnYb6XRjas/ZAv5fJq57oa8iHv8chcIv3MBsQWyhv65UjVIKUfwB2exXgZVRLFW7nmT7AIryGfL5X7l7rV9go3H4vsslE4RUoKqPpl4CnN6MXS5Z4wIqeH9j29nvPvg/EY9/inz+DyfbuNwfKHiDaFkcH38MTbsPIAVR3EM+/y0kqc3FeDdC+lsWzItBNZ3cGMN7zHDTiQFGvm0Y9cZvZLw4rnXPAKO++cIgo7x9Zk9mNMoboL1QjfIWNoOM8iGEXqhG+RjJAGRUDwL1IKN8lKsHGeXDeP25cGSPUw5ARvlA7ABoVI80jyrfInkofVydyhpZqhr39LeCs7M2efGCe8X/H4+tWrZFzyELAAAAAElFTkSuQmCC";let A=(0,c.baseAudio)(a=class extends o.Component{constructor(){var e;super(...arguments),e=this,this.PlayInfoPlay=function(t,r,a,n,o){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6?arguments[6]:void 0;const{play:u}=e.props;if(r&&!l){if(o&&i&&l)return t.stopPropagation(),t.preventDefault(),(0,g.default)("付费内容，请前往APP购买后收听"),!1;if(o)return!1;t.stopPropagation(),t.preventDefault(),a&&a(n),u()}},this.selfshareClickSound=(e,t,r,a)=>{t({source:{id:r},player:{playState:a}},e)},this.openApp=e=>{const{play:t,isTest:r,source:{album:{id:a},id:n}={}}=this.props;this.autoClick(`test-${n}`),(0,b.wakeUpAppAlbumUbt)({item:"15",currAlbumId:a,currTrackId:n,isTest:r}),t(),e.stopPropagation()},this.autoClick=e=>{let t=document.querySelector(e);t&&t.click()}}render(){const{title:e,downItem:t,ellipsis:r,nodownload:a,contbottom:n,isSelfPlay:l,clickOpenApp:u,source:{id:c},player:{playState:s},isSelfshareSound:d,selfshareSoundBtnClick:m,downloadURL:p,needPay:g,isTest:b,isPaid:y,isAnchorSound:v}=this.props,A=a?"titleWrapper type2":"titleWrapper";return o.default.createElement(o.default.Fragment,null,b?o.default.createElement(i.default,{to:p,onClick:this.openApp,tag:"div",style:{width:"100%"}},o.default.createElement("div",{style:{margin:n?"0px":"0 10px"},onClick:e=>{this.PlayInfoPlay(e,l,u,c,g,b,y)}},o.default.createElement("div",{style:{display:"flex"},className:`test-${c} EO_`},o.default.createElement("p",{className:(0,f.default)("title c3 txt-1",{["ellipsis-"+(n?"1":r)]:!!r})+" EO_",style:{paddingRight:n?"42px":"0px"}},e),d?o.default.createElement(i.default,{onClick:e=>this.selfshareClickSound(e,m,c,s,g),to:p,style:{position:"absolute",right:0},role:"button"},o.default.createElement("img",{src:h,width:"28",height:"28",alt:"xmly"})):null),n||null,t&&false)):o.default.createElement("div",{className:A+" EO_",style:{margin:n?"0px":"0 10px"},onClick:e=>{this.PlayInfoPlay(e,l,u,c,g,b,y)}},o.default.createElement("div",{style:{display:"flex"}},o.default.createElement("p",{className:(0,f.default)("title c3 txt-1",{["ellipsis-"+(n?"1":r)]:!!r})+" EO_",style:{paddingRight:n?"42px":"0px"}},e),d&&!v?o.default.createElement(i.default,{onClick:e=>this.selfshareClickSound(e,m,c,s,g),to:p,role:"button",style:{position:"absolute",right:0}},o.default.createElement("img",{src:h,width:"28",height:"28",alt:"xmly"})):v?o.default.createElement("div",{style:{position:"absolute",right:-40},role:"button"},o.default.createElement("img",{src:h,width:"28",height:"28",alt:"xmly"})):null),n||null,t&&false))}})||a,I=(0,l.connect)((e=>{let{openAppVisible:t}=e;return{openAppVisible:t}}))(n=class extends o.Component{constructor(){super(...arguments),this.downloadTrack=e=>{const{id:t,needPay:r}=this.props;if(e.stopPropagation(),e.preventDefault(),r)return!1;const a="iting://open?msg_type=11&track_id="+t;(0,m.default)({downloadURL:a})},this.linkTo=e=>{const{id:t,url:r,clickOpenApp:a,clickTrackUbt:n,isTest:o,generateLink:l,downItem:i}=this.props;o?e.preventDefault():((0,s.isMpEnv)()?(e.preventDefault(),d.mp.navigateToTrack(r)):i||(window.location.href=l?l(t):r),a&&a(t),n&&n())},this.handlePlay=()=>{const{needPay:e,discountedPrice:t,mode:r}=this.props;e&&"link"!==r&&(0,p.default)({info:"支付￥"+t+"后可收听"})}}render(){const{id:e,title:t,url:r,duration:a,needPay:n,ellipsis:l=2,isVipFirst:s,isXimiFirst:d,isSample:m,isOffline:p,sampleDuration:g,src:b,isCopyright:y,onPlay:v,mode:h,album:I,anchor:k,nodownload:P,openAppVisible:w,contbottom:O,isSelfPlay:E,clickOpenApp:C,downItem:T=!1,isSelfshareSound:S,isSelfshareAlbum:_=!1,className:x="",isTest:N=!1,isPaid:j,isAnchorSound:U=!1}=this.props,M={src:b,id:e,isSample:m,title:t,sampleDuration:g,isCopyright:y,isOffline:p,isVipFirst:s,isXimiFirst:d,album:I,anchor:k},D="iting://open?msg_type=11&track_id="+e;let L=n||"link"===h||s||d?_?o.default.createElement(c.ProgressPlayBtn,{onPlay:v,source:M,duration:a,needPay:n,className:(0,f.default)(O?"revert-sound":"")+" EO_"}):S?null:o.default.createElement(u.Icon,{className:(0,f.default)("list-play center-v c9",P?"f-18":"")+" EO_",type:"list_play",role:"button"}):_?o.default.createElement(c.ProgressPlayBtn,{onPlay:v,source:M,duration:a,className:(0,f.default)(O?N?"":"revert-sound":"")+" EO_",trackId:e,isTest:N,iting:D}):o.default.createElement(c.PlayBtn,{onPlay:v,source:M,duration:a},o.default.createElement(u.Icon,{className:(0,f.default)("list-play center-v c9",P?"f-18":"",O?"revert-sound":"")+" EO_",style:{zIndex:S?"-1":0},type:"list_play"}),o.default.createElement(u.Icon,{className:(0,f.default)("list-play center-v c9",P?"f-18":"",O?"revert-sound":"")+" EO_",style:{zIndex:S?"-1":0},type:"list_pause"}),o.default.createElement("i",{className:(0,f.default)("player-loading",P?"f-16":"",O?"revert-sound":"")+" EO_",style:{zIndex:S?"-1":0}}));const R=P?"rel xm-list-track__wrap p-8 ":"rel xm-list-track__wrap",B=o.default.createElement("div",{className:(0,f.default)("xm-list-track")+" EO_"},o.default.createElement("div",{className:R+" EO_"},L,o.default.createElement(A,{source:M,title:t,downItem:!1,ellipsis:P?1:l,nodownload:P,contbottom:O,isSelfPlay:E,clickOpenApp:C,isSelfshareSound:S,selfshareSoundBtnClick:v,downloadURL:D,needPay:n,isTest:N,isPaid:j,isAnchorSound:U}),P||!w?null:n?o.default.createElement(u.Icon,{className:"list-download center-v c9 EO_",type:"pay"}):o.default.createElement(u.Icon,{onClick:this.downloadTrack,className:"list-download center-v c9 EO_",type:n?"pay":"list_download"})));return r?P?B:T?o.default.createElement(i.default,{className:`track-link__wrap ${x} ${e} EO_`,onClick:this.linkTo,to:D,tag:"div"},B):o.default.createElement("div",{className:`track-link__wrap ${x} EO_`,onClick:this.linkTo,style:{cursor:"pointer"}},B):B}})||n;var k=I;t.default=k;t._1670918751=0},461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3398172432=void 0;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),o=(a=r(40))&&a.__esModule?a:{default:a},l=r(57),i=r(435),u=r(459),c=r(26),s=r(450),d=r(468);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=(0,l.connect)((e=>{let{shareAlbumPage:{albumInfo:{id:t,iting:r}={},trackInfo:{id:a,iting:n}={}}={}}=e;return{albumId:t,albumIting:r,soundIting:n,trackId:a}}))((e=>{let{albumId:t,trackId:r,selfType:a,title:l="听高清完整版",showDownload:m,type:p,albumIting:f="",soundIting:g="",link:b="",isPaid:y=!1,isTest:v=!1,cardId:h="",isVipPrivileges:A=!1}=e;const[I]=(0,d.useChangeWxOpenTagExtinfo)({selfType:a,iting:g});let k=(0,n.useRef)(!1),P=m;const w=()=>{if("sound"===a)return(0,i.wakeUpAppUbt)({item:P?"16":"15",currTrackId:r,currAlbumId:t,isPaid:y}),s.getPlayerCurrentTime&&(0,s.getPlayerCurrentTime)();"album"===a?(0,i.wakeUpAppAlbumUbt)({item:P?"11":"10",currTrackId:r,currAlbumId:t,isTest:v,isPaid:y}):"community"===a&&(0,u.communityWakeupUbt)({item:"底部打开 app 参与话题讨论",cardId:h})};return(0,n.useEffect)((()=>{k.current||("album"===a?(0,i.exposeAppAlbumUbt)({item:P?"11":"10",currTrackId:r,currAlbumId:t,isTest:v,isPaid:y}):"sound"===a&&(0,i.exposeAppUbt)({item:P?"16":"15",currTrackId:r,currAlbumId:t}),P&&(k.current=!0))}),[P,a,r,t,y,v]),n.default.createElement("div",{style:{backgroundColor:P?"transparent":"#ffffff",padding:"10px 0"},className:(P?"fixedP":"staicP")+" n_k","data-expose":P?"down":"up"},"sound"===a?n.default.createElement(o.default,{ref:I,tag:"div",to:"sound"===a?g:b,className:("comment"===p?"share-open-staic":A?"share-open-dy master-class":"share-open-dy")+" n_k",onClick:w,style:{height:"50px",lineHeight:"50px",width:"280px",borderRadius:"25px"},getplayercurrenttime:s.getPlayerCurrentTime},n.default.createElement("div",{className:"open-dy n_k",style:{fontSize:"18px"}},l),"comment"===p&&n.default.createElement(c.Icon,{type:"arrow-right",className:"icon-right n_k"})):n.default.createElement(o.default,{ref:I,tag:"div",to:"album"===a?f:b,className:("comment"===p?"share-open-staic":A?"share-open-dy master-class":"share-open-dy")+" n_k",onClick:w,style:{height:"50px",lineHeight:"50px",width:"280px",borderRadius:"25px"}},n.default.createElement("div",{className:"open-dy n_k",style:{fontSize:"18px"}},l),"comment"===p&&n.default.createElement(c.Icon,{type:"arrow-right",className:"icon-right n_k"})))}));t.default=p;t._3398172432=0},462:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a};var o=e=>{let{title:t=""}=e;const r={parent:{padding:"15px 16px",paddingBottom:"env(safe-area-inset-bottom)",height:78,background:"#ffffff",margin:"auto"},child:{fontSize:12,color:"#CCCCCC",display:"block",textAlign:"center"}};return n.default.createElement("div",{style:r.parent},n.default.createElement("span",{style:r.child},null!=t&&t.length?t:"未经授权，禁止商用，喜马拉雅保留追究法律责任的权利"))};t.default=o},463:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3737678855=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a};var o=e=>{let{children:t}=e;return n.default.createElement("section",{className:"new-border _ZH"},t)};t.default=o;t._3737678855=0},464:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._122973300=void 0;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),o=r(57),l=(a=r(40))&&a.__esModule?a:{default:a},i=r(435),u=r(48);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATJJREFUWEftlL2tgzAURj8aqOnpYQMYIgwBE0ABRKKOxE8BE8AQMARsAD09NWmIrqVIeYiA8/Kk19idjf35cGxfaV3XFf/YJAEgDAgDwoAwcGYgjmNQtQ6CAKqqchXteZ6R5zkkScLtdjtcc1qKr9crKFDTNIRhCEVRDgOXZUGWZZimiQEnSfIdAAWlaYr7/Q7DMOB5HvuzvUamyrLEMAyQZRlRFDHwo3ZqgBaP44iiKNhRmKYJ13V3M6uqQt/3DND3fei6fnpkXACU0nUd6rpmgZfLBbZt/whvmgZt27Ixx3FgWdbp5jSBG4Amv9vkDO7rI3gN2GqmbzzH8w7iIwMUsr1oNMZzQf8MgIJenxr1eZ/oHsTHBp4hz2JD/U+K1Bbi1wBcV5xjkgAQBoQBYUAYeAC0AvqhrGRTfgAAAABJRU5ErkJggg==";var d=(0,o.connect)((e=>{let{shareAlbumPage:{trackRichInfo:{richIntro:t=""}={},albumInfo:{id:r}={},trackInfo:{id:a}={},richInfo:{richIntro:n=""}={},selfType:o}}=e;return{shortIntro:(()=>{let e="sound"===o||"video"===o?t:n,r=/<[^<>]+>/g;return t=t.replace(r,""),n=n.replace(r,""),"sound"===o||"video"===o?t.length?e:"":n.length?e:""})(),albumId:r,trackId:a}}))((e=>{let{shortIntro:t="",albumId:r,trackId:a,selfType:o,isTest:c=!1,isPaid:d=!1}=e;const[m,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),b=(0,n.useRef)(null),y="sound"===o||"video"===o?`iting://open?msg_type=11&track_id=${a}`:`iting://open?msg_type=13&album_id=${r}`,v=e=>{p(!m),"sound"===o||"video"===o?u.ubt.click(36943,"freeTrackPage",{item:m?"收起简介":"展开简介",currPage:"freeTrackPage",currTrackId:a,currAlbumId:r}):u.ubt.click(36094,"freeAlbumPage",{currAlbumId:r,item:m?"收起简介":"展开简介",currPage:"freeAlbumPage"})};(0,n.useEffect)((()=>{let e=b.current;if(e){e.scrollHeight>=100&&g(!0)}return()=>{p(!1),g(!1)}}),[]);return(0,n.useEffect)((()=>{c&&("sound"===o||"video"===o?(0,i.exposeAppUbt)({item:"22",currTrackId:a,currAlbumId:r}):"album"===o&&(0,i.exposeAppAlbumUbt)({item:"15",currTrackId:a,currAlbumId:r,isTest:c}))}),[a,r,c,o]),n.default.createElement(n.default.Fragment,null,t.length?n.default.createElement("div",{className:"sound-text pO_"},n.default.createElement("div",{className:"sound-text-style pO_"},"sound"===o?"声音简介":"video"===o?"":"专辑简介"),n.default.createElement("div",{className:(m?"cont-info-expandspan cont-info":"cont-info-span cont-info")+" pO_"},n.default.createElement("div",{className:"stretch-box pO_",ref:b,dangerouslySetInnerHTML:{__html:t}})),!m&&f&&n.default.createElement("div",{className:"gradient pO_"}),f&&n.default.createElement("div",{className:"sound-text-load pO_"},c?n.default.createElement(l.default,{to:y,tag:"div",onClick:()=>(v(),void("sound"===o||"video"===o?(0,i.wakeUpAppUbt)({item:"22",currTrackId:a,currAlbumId:r,isPaid:d}):"album"===o&&(0,i.wakeUpAppAlbumUbt)({item:"14",currAlbumId:r,currTrackId:a,isTest:c}))),style:{display:"flex",flex:"1",justifyContent:"center"}},n.default.createElement("p",{className:"loadmore pO_",onClick:()=>v()},m?"收起":"查看全部简介",m?n.default.createElement("img",{src:s,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub",transform:"rotate(180deg)"}}):n.default.createElement("img",{src:s,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub"}}))):n.default.createElement("p",{className:"loadmore pO_",onClick:()=>v()},m?"收起":"查看全部简介",m?n.default.createElement("img",{src:s,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub",transform:"rotate(180deg)"}}):n.default.createElement("img",{src:s,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub"}})))):n.default.createElement("div",{className:"sound-text pO_"}))}));t.default=d;t._122973300=0},468:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePlayerCurrentTime=t.useChangeWxOpenTagExtinfo=void 0;var a=r(70),n=r(1),o=r(12),l=r(71);const i=e=>{let{selfType:t}=e;const[r,o]=(0,n.useState)(parseInt(a.player.currentTime(),10));if((0,n.useEffect)((()=>{if("sound"===t){const e=()=>{let e=parseInt(a.player.currentTime(),10);e>0&&o(e)};return a.player.on("timeupdate",e),()=>{a.player.off("timeupdate",e)}}}),[t]),"album"===t)return"";let l;return l=r>=4?1e3*(r-4):0,l>0?`&start_play_time=${l}`:""};t.usePlayerCurrentTime=i;t.useChangeWxOpenTagExtinfo=e=>{let{selfType:t,iting:r}=e;const a=i({selfType:t});let u=(0,n.useRef)(null),c=(0,n.useRef)(r);return(0,n.useEffect)((()=>{if(u&&u.current&&"sound"===t){const e=u.current.$root.querySelector("wx-open-launch-app");const t=`${(0,o.getPsharec)(c.current)}${a}`;e&&e.setAttribute("extinfo",(0,l.appendCopycode)(t))}}),[a,t]),[u]}},470:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._3111723419=void 0;var a=s(r(1)),n=s(r(437)),o=r(57),l=s(r(545)),i=s(r(553)),u=r(48),c=r(435);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}var m=(0,o.connect)((e=>{let{shareAlbumPage:{albumInfo:{id:t}={},trackPageInfo:{total:r=0,hasMore:a}={},trackInfo:{id:n}={}}}=e;return{total:r,albumId:t,trackId:n,hasMore:a}}),(e=>({nextPage(t){e({type:"shareAlbumPage/getNextPageTracks",albumId:t})}})))((e=>{const{total:t,albumId:r,selfType:o,trackId:s,isPaid:m,isVideo:p}=e,[f]=(0,n.default)((()=>{"album"===o?u.ubt.event(43410,"slipPage",{currAlbumId:r,currPage:"freeAlbumPage",isPlay:"false",trackId:""}):"sound"===o&&((0,c.exposeAppUbt)({item:"11",currAlbumId:r,currTrackId:s}),(0,c.exposeAppUbt)({item:"04",currAlbumId:r,currTrackId:s}))}));return a.default.createElement("div",{className:"showlist showlist-share _TC",ref:f,style:{paddingBottom:"15px"}},"sound"===o||p?a.default.createElement(i.default,{isPaid:m}):a.default.createElement("div",{className:"showlist-header _TC"},a.default.createElement("div",{className:"showlist-header-name _TC"},a.default.createElement("span",{className:"showlist-title _TC"},"节目"),t>=10?a.default.createElement("span",{className:"showlist-total _TC"},"共",t,"集"):null)),a.default.createElement(l.default,d({srcPage:"album"},e)))}));t.default=m;t._3111723419=0},471:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mp=void 0;const a={navigateTo(e){location.href=e},postMessage(e){}},n={navigateToTrack(e){const t=e.split("/").pop();tt.miniProgram.navigateTo({url:`/pages/track/index?trackId=${t}`})},login(){tt.miniProgram.navigateTo({url:"/pages/login/login"})},navigateBack(){tt.miniProgram.navigateBack()},postMessage(e){tt.miniProgram.postMessage({data:{message:e}})}},o=r(32).isMpEnv?n:a;t.mp=o},479:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._1325395871=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),n=c(r(502)),o=r(432),l=c(r(444)),i=r(167),u=c(r(171));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r(503);const d="vip-gift-modal-btn";var m=e=>{let{from:t="sound",title:r,description:c,cover:s,vipAlbumId:m}=e;const p=(0,a.useRef)(""),{wxSdkReady:f,trackInfo:g,albumInfo:b,setWxSdkReady:y}=(0,o.useBearStore)((e=>e)),[v,h]=(0,a.useState)(!1),A=()=>{h(!1)};(0,a.useEffect)((()=>{"vipAlbum"===t&&setTimeout((()=>{y()}),500)}),[t]);const I=(0,a.useCallback)((()=>{if("vipAlbum"===t)return m?(0,i.getAlbumIting)(m,p.current):"";if("album"===t){var e,r;const t=null==b||null===(e=b.album)||void 0===e||null===(r=e.baseAlbum)||void 0===r?void 0:r.albumId;return t?(0,i.getAlbumIting)(t,p.current):""}if("sound"===t){var a;const e=null==g||null===(a=g.shareTrackInfo)||void 0===a?void 0:a.trackId;if(!e)return"";const t=u.default.getInstance();return(0,i.getTrackPageIting)({trackId:e,timeline:Math.floor(t.getCurrentTime())||0,extraInfo:p.current})}return""}),[t,b,g]);return(0,a.useEffect)((()=>{const e=(0,i.getSearchParams)("sign"),t=(0,i.getSearchParams)("tradeOrderNo"),r=(0,i.getSearchParams)("purchaseUserId");e&&t&&r&&(p.current=`&sign=${e}&tradeOrderNo=${t}&purchaseUserId=${r}`,h(!0))}),[]),(0,a.useEffect)((()=>{f&&v&&(0,i.initWeixinOpenTag)(d,I(),(()=>{}),t)}),[v,f,I,t]),v?a.default.createElement(n.default,{onClick:A,backgroundColor:"rgba(0, 0, 0, 0.8)"},a.default.createElement("div",{className:"root _bi"},a.default.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAARYSURBVHic7ZzNbts6EEYP5bQG0jgpgnRxgbvsE2TX3V3mkfsG2XXXhygQFI3TBEgEZ+6CVGzLkkWJwx+7/QAhiCFR5MFwyCE5MiSWiLwDmmvmrspdprkNeHXXyl01UBtj6pT1NcO3hElEZsAcOMVCCX2nAM/AC/BkjHkNLG+vogESkVMslPex3uHUgHqKUbgqoA1rWWC7TkoJ8Bt41LQqNUDOYnKA2akK8GCM+a1RWDAg53QvyQ+mrRpYGmOeQwoJAiQiC6zVlKxHY8z91IcnAXK+5oryrKZPNfDTGLMa++BoQK5LXU15NrMEuBs7jxrVSOeIP455pjAJcD9mSuANSETOgPMptSpQS99RrvK5yVnOscABOHdtGtQgIOdzLoKrVJ4+urbt1V5AG6PVoTlkX125NvZqyIIuOV44YNt2te+GXkAicoGNvo9dMzfh7VQnIBGZAx+iVak8Lfr8UZ8FHdOI5avLrh93ALn5zp/QtdqadQ39W4BEpKL84DOmFu1RrW1BHzjuUWtIzYLfm05aN5wpvOQcuHF/v7krpr4An7Hr1F+BZWB5C+AtVnuzINf/NKznBvgXC+g/bANi6Yu7Prl33iiUueWLNruYV2zioXnr/6YR2uoqV2v03QbknLPW7kNXl9KG1FeeVnd+3zjrxoK0rAfgO3Db8bsWpL5ybtH1d3NYA9Leu7olDqR9cLreF6JTWANq+w0NaUNKCQfcZLlyMUisuY8WpNRwAIyIvKuIH1aEQsoBp1ESQDAdUk444ACl2tsaCyk3HIBZSkDgD6kEOACzEzx3NhTVNLANoA2o67mUcAAqIyL/kCeCHzOS5YADIJvH3lLLt9G54ACY1N2rraHG54QDWP8jOStQuKTCniTNpanzoFR6zQkodCadQq8V9gxyao2d5+SCtDohPSBfOH3zpJROe1Vhj6elki+cUiypTglobLcqAVJduTN7sYf6qbFVTkhijKmbiWJMKwoNPHNBeoZ1oBolzwG9qDwHpBdYAwo6jd4j7SWL1JCewAFyB6xfFAuPtZ6TCtJLkxCzGaxqdbNr4q7npIC0uzfvDldrTBqvO37Tjsr7yvusULZsHjRvL3c8KLygfboi1pJFV7kavnTrgPnWYplSkkpz/GWO3YaOffzl2l1Lwo+/CPBjMyFvZzXxCPIxQrSTorCzoqjoiw5NdVf+Rt+S68/IlSlRnV2zE5CLzzQc9qHosS91s3fR3hjzwJ/R1ep9KZtDuxp3HPeivjDgTvYCciHInWaNClKTorm3lwzuizl/9EurVgXp3id/1Wvj0A39oeePS9LSN291SlLvxdjnCtOvKEm9jf6mhfu8ycZslxxOVtAKD4fcpdBPU1xQfuLdg5vTTZLGx03m2Ai+NGtaYT9HEbQhofl5nDNspkxu37TCWo3KCqn2B5YqbJc70y7bQyts/Pg8xdf06e8nugaU4iNvFWtQc4V3Cnaj8wlla+lScn9xaJ8J/B/YrYRGTMFYfgAAAABJRU5ErkJggg==",alt:"",className:"modal-close _bi",onClick:A}),a.default.createElement("img",{src:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/modal_title_20a6e60.png",alt:"",className:"modal-title _bi"}),a.default.createElement("img",{src:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/light_b909239.png",alt:"",className:"light _bi"}),a.default.createElement("div",{className:"content _bi"},a.default.createElement("img",{src:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/label_6dcb8d5.png",alt:"",className:"icon-label _bi"}),a.default.createElement("div",{className:"header _bi"},a.default.createElement("div",{className:"left _bi"},a.default.createElement(l.default,{className:"cover _bi",src:s,defaultSrc:"//award.xmcdn.com/yx/ximalaya-mobile-selfshare/last/dist/images/cover_5946d1d.png"}),a.default.createElement("img",{className:"songCardImg _bi",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAACMCAYAAABva8nXAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMmSURBVGiB7dq/cdswFAbw75H0ma4idWYVeQONwEwQZ4LIXbo4E9ieQM4EViZwPEGUCaJswNz5BJ4bqVTjeykMKrL+kCABvDT4KotH+XfvCYQIiEBISEhISEhIyDpKqYGL/xOZnkhE96IgMw/LshyLgRq9nM/nl2KgzpXN59kaJKIegB9ioM5AKXXd5Y1keqJSivccPsuyrGgDdq2wSuvW2oKtW2vb0irGrbWtsMqV6YmuwNHT09NQEsTz87PRtOcMBJArpUaSIAB8lAZzpVQuCQINI9YHmNd9m/gAgZoqvYDMfL5YLHpiIBH1VqvVuRios/cS8QnuHTw+QTDzTlu9glEU7bTVd4XD7bZ6BTX6qq3eQSJ6LwoCyDcnAQkQq9VqfTcgAm62VQRkZtkKAeTSIKo7ATGwaqsR6GJ9H0XRW2MQgDXYqkIi+uwKbFzMPD4+DuM4/mULAkCapv3aCheLRS9JkjsXGPAy4yQNJ4wBGC1STMLMvYMV6oXmyBUGAES0v8KyLMfMbLUfcwB8E28fVErdAfjkGtNg+aqlemtr5AMDXj7DdYXz+fwcwK0vDACIaBltvLDeuGvKepTqmXwgBsJg5eoiRLQGcwkQ+Dd5D6RBsfwfkIhmoiAzS4FF1dJvQuBLhVmWTQEUYqDOOwFv3VLoDdYbMVCj177RnevQM/pn74XvES0OzjQ+0DiOZ403wmVZ3u/bb+mYs8a5lJm/uJCYeZll2eGWVtGXy8QWjKKoAMy/Laynvmq+NgLTNLWe3Jn5tzHY7/eXtmCSJFNj0DbMvDw6OirEQCKaVV0SA6u/pVr6IApujnIJcLo5yiU2aB82X0ts0H6XBKfbvw37Bn9uH/ANTiTBnXZ6BbdHp1eQmZcnJycTMTCKosmhrzRfFe5tpy9wqhdHYmDtvaxrsLY6H2DjnbpLsLE616DROsQVaFSdE5CZlwAuTM+3Bonoa5tHzWzBIk3TVpu6tuBF22VA7e8WdSGi29PT02nb93WqkIhmx8fHnZbjrSvUo/JD1xVVlwpv2j4A2SlKKXbxyG4bsPNDrJ1y6JGjkJCQkJCQkJDd/AXKwSL61us61wAAAABJRU5ErkJggg==",alt:""})),a.default.createElement("div",{className:"right _bi"},r&&a.default.createElement("div",{className:"title line2Ellipsis _bi"},r),c&&a.default.createElement("div",{className:"description ellipsis _bi"},c))),a.default.createElement("div",{className:"btn-open _bi",id:d,onClick:()=>{(0,i.jumpApp)(I(),!1,t)}},"打开喜马拉雅，继续收听")))):null};t.default=m;t._1325395871=0},483:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackWakeUbt=t.trackJumpUbt=t.trackClickUbt=t.exposureWake=t.exposureJump=t.exposureClick=t.exposeSoundWake=void 0;var a=r(48);t.trackClickUbt=e=>{let{name:t,trackId:r,albumId:n,moduleName:o}=e;a.ubt.click(43717,"",{currPage:"playLandingPay",item:t,moduleName:o,currTrackId:r,currAlbumId:n})};t.trackWakeUbt=e=>{let{name:t,albumId:r,trackId:n,currTrackId:o,currAlbumId:l,moduleName:i,isTimeLimitedAlbum:u=!1}=e;a.ubt.clickForce(43713,"",{currPage:"playLandingPay",albumId:r,trackId:n,isWake:"false",moduleName:i,item:t,currTrackId:o,currAlbumId:l,type:u?"限免专辑":"付费专辑",style:"免费声音页样式"})};t.trackJumpUbt=e=>{let{landingUrl:t,trackId:r,albumId:n,anchorId:o,currAlbumId:l,currTrackId:i,moduleName:u}=e;a.ubt.clickForce(43715,"",{currPage:"playLandingPay",albumId:n,trackId:r,landingUrl:t,moduleName:u,anchorId:o,currTrackId:i,currAlbumId:l})};t.exposureClick=e=>{let{name:t,moduleName:r,currTrackId:a,currAlbumId:n}=e};t.exposureJump=e=>{let{albumId:t,trackId:r,landingUrl:a,moduleName:n,anchorId:o,currTrackId:l,currAlbumId:i}=e};t.exposureWake=e=>{let{albumId:t,trackId:r,moduleName:a,name:n,currTrackId:o,currAlbumId:l}=e};t.exposeSoundWake=e=>{let{albumId:t,trackId:r,moduleName:n="",name:o="",currTrackId:l,currAlbumId:i,isTimeLimitedAlbum:u}=e;a.ubt.event(43714,"slipPage",{currPage:"playLandingPay",albumId:t,trackId:r,isWake:"false",moduleName:n,item:o,currTrackId:l,currAlbumId:i,type:u?"限免专辑":"付费专辑"})}},484:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(r(531)),n=c(r(533)),o=c(r(534)),l=c(r(535)),i=c(r(536)),u=c(r(537));function c(e){return e&&e.__esModule?e:{default:e}}var s=[a.default,n.default,o.default,l.default,i.default,u.default];t.default=s},485:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(73).default,n={tdkMeta:{title:"喜马拉雅-国内专业音频分享平台,随时随地,听我想听！",keywords:"有声小说,喜马拉雅,喜马拉雅听书,喜马拉雅电台,喜马拉雅好声音,网络电台,个人电台,音频,有声书,相声,儿童,音乐,情感,郭德纲,罗辑思维,糗事百科",description:"国内专业音频分享平台，随时随地，听我想听！4亿用户选择的在线音频平台。马东、郭德纲、吴晓波等20多万大咖入驻，1亿多条原创有声内容覆盖有声书、儿童、相声评书、财经新闻、音乐等328类。"}},o=e=>{let{typeName:t,uri:r,ctx:n}=e;return a({url:"/tdk-web/seo/getTdk",data:{typeName:t,uri:decodeURIComponent(r),tdkType:"wap"},headers:{Cookie:n?n.headers&&n.headers.cookie:""}}).then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(200==e.ret||301==e.ret||400==e.ret)return e;throw{status:e.ret,redirect:e.redirect}}))};e.exports={defaultInfo:n,getTdk:o,getTdkWithCapture:e=>{let{typeName:t,uri:r,ctx:a}=e;try{return o({typeName:t,uri:r,ctx:a}).then((e=>200===e.ret?e:{data:n})).catch((()=>Promise.resolve({data:n})))}catch(e){return Promise.resolve({data:n})}},filterRoute:e=>{let t=null;if(e)for(let r=e.length-1;r>=0;r--){const a=e[r];a.route.meta&&(t=a)}return t},getMeta:e=>{let t=null;if(!e)return t;for(let r=e.length-1;r>=0;r--){const a=e[r];if(a.route.meta){t=a.route.meta;break}}return t},getRouteInfoByKey:(e,t)=>{let r=null;if(!e)return r;for(let a=e.length-1;a>=0;a--){const{route:n}=e[a]||{};if(n&&n[t]){r=n[t];break}}return r},tdkRetBlackList:["ALBUMV2","TRACKV2","ZHUBO","TING_DETAIL","CATEGORY","rank","SEARCH","ROOT","CHANNEL","DOWNLOAD"],tdkContentBlackList:["ALBUM","TRACK"],getRouteTypeName:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.route&&e.route.meta&&e.route.meta.type||"OTHER"}}},486:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encipherText=function(e){let{text:t,length:r}=e;return t?t.slice(0,r)+t.slice(r).replace(/./g,"*"):""},t.isResourceOffline=function(e,t){if("album"===e)return 1===t;if("track"===e)return 1===t;return!1}},487:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2985101424=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),n=r(31),o=r(93),l=c(r(173)),i=c(r(20)),u=r(12);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}const d={width:300,height:280};function m(){const e=document.getElementsByClassName("xm-modal-container")[0];e&&((0,n.unmountComponentAtNode)(e.parentNode),e.remove())}t.default=e=>{let{downloadURL:t,type:r="download",title:n="打开APP高速下载，离线收听",btnText:c="打开体验",onClosed:s=u.noop,trackWakeUbt:p,FooterComponent:f,topIconOpenApp:g}=e;const b=a.default.createElement(a.Fragment,null,a.default.createElement("div",{className:(0,i.default)("download-head",r,g?"open":"")+" XQ_"},g?a.default.createElement(l.default,{className:"pic XQ_",share:!0,downloadURL:t}):a.default.createElement("div",{className:"pic XQ_"})),a.default.createElement("h3",{className:"download-title XQ_"},n),a.default.createElement(l.default,{onClick:()=>{let e="";"download"===r?e="downloadPopup":"speed"===r&&(e="fastSpeedPopup"),p&&p(),setTimeout(m,2e3)},share:!0,downloadURL:t,className:"download-open pulse-run XQ_"},c));(0,o.Modal)({content:b,style:f?{...d,height:308}:d,FooterComponent:f,onClose:()=>{s&&s();let e="";"download"===r?e="downloadPopup":"speed"===r&&(e="fastSpeedPopup")}})};t._2985101424=0},488:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._1790445260=void 0;var a=u(r(1)),n=r(93),o=u(r(489)),l=u(r(438)),i=u(r(40));function u(e){return e&&e.__esModule?e:{default:e}}t.default=e=>{let{title:t="试听结束",info:r="支付￥后可收听",id:u,type:c="single",btnText:s="支付收听",url:d,trackBuyUri:m}=e,p=null;"single"===c?p=m?a.default.createElement(i.default,{className:"btn-block btn _uS",to:m},s):a.default.createElement(l.default,{type:"track",id:u,className:"btn-block btn _uS"},s):"whole"===c&&(p=a.default.createElement("a",{href:d,className:"btn-block btn _uS"},"查看专辑详情"));const f=a.default.createElement(o.default,{className:"box _uS",title:t},a.default.createElement("div",{className:"info tc _uS"},r),p);(0,n.PopUp)({content:f,visible:!0,className:"xm-pay-pop"})};t._1790445260=0},489:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FlexBox",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"FlexBoxItem",{enumerable:!0,get:function(){return l.FlexBoxItem}}),Object.defineProperty(t,"StretchBox",{enumerable:!0,get:function(){return o.default}}),t.default=t._2516615378=void 0;var a=c(r(1)),n=i(r(20)),o=i(r(546)),l=c(r(547));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}class s extends a.Component{render(){const{title:e,children:t,className:r,style:o}=this.props;return a.default.createElement("div",{style:o,className:(0,n.default)("xm-box",r)+" T_v"},e?a.default.createElement("div",{className:"xm-box-title T_v"},a.default.createElement("div",{className:"main-title T_v"},a.default.createElement("span",{className:"text T_v"},e))):null,t)}}t.default=s;t._2516615378=0},490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commitOrder=function(e){let{returnUrl:t,type:r,id:a,srcPage:u,context:c,BIid:s,serviceId:d,srcModule:m,srcPageId:p,albumType:f,albumPayType:g,itemId:b,noPay:y,noCheckLogin:v=!1,BIProps:h,promotionItems:A,businessType:I}=e;if(c=(0,l.getContext)({itemId:b,albumType:1===g?"single":2===g?"whole":"",promotionItems:A}),y)return!1;t||(t=location.href.replace(/\?.*/g,""));const k={returnUrl:t,type:r,context:c};switch(A&&(k.promotionItems=A),r){case"album":case"batch":k.albumId=a;break;case"track":Array.isArray(a)||(a=[a]),k.trackIds=a;break;case"trainCamp":delete k.type,k.domain=1,k.businessTypeId=1275,k.itemId=b;break;case"club":delete k.type,k.domain=1,k.businessTypeId=I,k.itemId=b}const P={srcPage:u,srcPageId:p,srcModule:m,item:"button",itemId:"purchase",serviceId:d,id:s,context:c,...h};"album"===u&&(P.albumType=f);P.id&&(0,i.log)("send","event",P),(0,l.loginCheck)(v,(()=>(0,o.tradeOrder)(k))).then((function(){let{code:e,msg:t,data:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(200!==e)return(0,n.default)(t||"订单提交出错");r&&(history.pushState(null,""),document.write(r))})).catch((e=>{const{message:t,msg:r}=e;if(410===e.status)return(0,n.default)(t||r||"报名已结束");(0,n.default)(t||r),console.error(e)}))};var a,n=(a=r(58))&&a.__esModule?a:{default:a},o=r(443),l=r(453),i=r(12)},502:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(31),l=r(175),i=Object(l.keyframes)(["from{opacity:0;}to{opacity:1;}"]),u=l.default.div.withConfig({displayName:"StyledMask",componentId:"sc-9v2muk-0"})(["",""],(function(e){var t=e.backgroundColor,r=void 0===t?"rgba(0, 0, 0, 0.5)":t;return Object(l.css)(["position:fixed;top:0;left:0;bottom:0;right:0;min-width:290px;max-width:640px;margin:0 auto;background:",";display:flex;align-items:center;justify-content:center;animation:"," 0.4s linear;z-index:100;touch-action:none;"],r,i)}));t.default=function(e){var t=e.root,r=e.children,l=e.onClick,i=e.backgroundColor,c=void 0===i?"rgba(0, 0, 0, 0.5)":i,s=Object(a.useRef)(null),d=function(){s.current||(s.current=t||document.createElement("div"));return s.current}();return Object(a.useEffect)((function(){return!t&&document.body.appendChild(d),function(){!t&&d.remove()}}),[t,d]),Object(o.createPortal)(n.a.createElement(u,{backgroundColor:c,onClick:function(e){e.stopPropagation(),e.target===e.currentTarget&&l&&l()}},r),d)}},503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(){if("undefined"==typeof window)return;let e=document.documentElement,t=window.devicePixelRatio||1;function r(){if(e.clientWidth>640)return e.style.fontSize="64px";let t=e.clientWidth/10;e.style.fontSize=t+"px"}if(function e(){document.body?document.body.style.fontSize="14px":document.addEventListener("DOMContentLoaded",e)}(),r(),window.addEventListener("resize",r),window.addEventListener("pageshow",(function(e){e.persisted&&r()})),t>=2){let t=document.createElement("body"),r=document.createElement("div");r.style.border=".5px solid transparent",t.appendChild(r),e.appendChild(t),1===r.offsetHeight&&e.classList.add("hairlines"),e.removeChild(t)}}()},506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2941474886=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},o=r(432),l=r(168);var i=()=>{const{pageStatus:e}=(0,o.useBearStore)((e=>e)),t=e===o.pageStatusType.noData?l.noDataImg:l.netErrorImg,r=e===o.pageStatusType.noData?"不好意思出错了":"无法连接到网络",a=e===o.pageStatusType.noData?"喜马君马上修复":"请检查网络连接后重试";return n.default.createElement("div",{className:"root wk_"},n.default.createElement("img",{src:t,alt:"",className:"wk_"}),n.default.createElement("div",{className:"title wk_"},r),n.default.createElement("p",{className:"wk_"},a),n.default.createElement("div",{className:"btnBox wk_"},e===o.pageStatusType.noData&&n.default.createElement("div",{onClick:()=>{window.close()},className:"wk_"},"返回"),n.default.createElement("div",{onClick:()=>{window.location.reload()},className:"wk_"},"重试")))};t.default=i;t._2941474886=0},520:function(e,t,r){"use strict";r.r(t),r.d(t,"setStorageShowSafeBar",(function(){return f})),r.d(t,"AutoSwiper",(function(){return P})),r.d(t,"LandingAutoText",(function(){return T})),r.d(t,"LandingFooter",(function(){return L})),r.d(t,"LandingHeader",(function(){return W})),r.d(t,"LandingHeaderColor",(function(){return H})),r.d(t,"LandingOpenApp",(function(){return S})),r.d(t,"LaunchAppHeader",(function(){return ce})),r.d(t,"LaunchAppRight",(function(){return be}));var a=r(39),n="wxb9371ecb5f0f05b1",o="https://imagev2.xmcdn.com/storages/3029-audiofreehighqps/7E/78/GMCoOSEKGJ_YAAAC7QLTCCWT.png",l="https://imagev2.xmcdn.com/storages/7f29-audiofreehighqps/A9/98/GArMLwMKQbleAAAAnALhi65S.png",i="https://imagev2.xmcdn.com/storages/6e77-audiofreehighqps/AF/F2/GArM12YKQblfAAAAlwLhi66c.png",u=[{color:"#988878",background:"rgba(167, 134, 104, 0.14)"},{color:"#906DB3",background:"rgba(132, 100, 164, 0.14)"},{color:"#FF763F",background:"rgba(253, 94, 31, 0.14)"},{color:"#25BDE1",background:"rgba(83, 200, 228, 0.14)"},{color:"#6968B2",background:"rgba(124, 123, 199, 0.14)"},{color:"#9B6FCE",background:"rgba(155, 111, 206, 0.14)"},{color:"#A49381",background:"rgba(176, 157, 137, 0.14)"},{color:"#52BE28",background:"rgba(82, 190, 40, 0.14)"},{color:"#62A6F9",background:"rgba(98, 166, 249, 0.14)"},{color:"#F15983",background:"rgba(241, 89, 131, 0.14)"},{color:"#2CBB92",background:"rgba(17, 197, 122, 0.14)"},{color:"#B39142",background:"rgba(165, 132, 53, 0.14)"},{color:"#489AFF",background:"rgba(72, 154, 255, 0.14)"},{color:"#35D3CE",background:"rgba(106, 226, 223, 0.14)"},{color:"#EDC114",background:"rgba(246, 208, 17, 0.14)"},{color:"#FD943A",background:"rgba(253, 148, 58, 0.14)"}],c={left:["开长途","焦虑了","压力大","早起了","孤独了","睡不着","忙家务","散步时","一个人","空落了","要能量","想阅读","要洞察","要超脱","要哄娃","想提升"],right:["小说，用喜马拉雅","点儿啥，用喜马拉雅","郭德纲相声，用喜马拉雅","新闻播客，用喜马拉雅","点儿啥，用喜马拉雅","雨声，用喜马拉雅","故事，用喜马拉雅","好听的，用喜马拉雅","想听的，用喜马拉雅","情感播客，用喜马拉雅","大师课，用喜马拉雅","书，用喜马拉雅","财经播客，用喜马拉雅","历史人文，用喜马拉雅","儿童故事，用喜马拉雅","大师课，用喜马拉雅"]};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function m(){var e="android",t=window.navigator.userAgent;return/android/i.test(t)?e="android":t.match(/iPhone|iPad|iPod/i)&&(e="ios"),e}function p(){var e=window.navigator.userAgent,t=function(e){var t=s("; ".concat(document.cookie).split("; ".concat(e,"=")),2)[1];if(t)return t.split(";").shift()}("impl")||"";return/iting/i.test(e)||/iting/i.test(t)?"iting":/micromessenger/i.test(e)?"wechat":/weibo/i.test(e)?"weibo":/qq\//i.test(e)?"qq":/ximalayababy/i.test(e)?"ximalayababy":/xiaoya/i.test(e)?"xiaoya":"_default"}function f(){if("wechat"!==p()||"android"===m())return!1;window.sessionStorage.setItem("showSafeBar","true")}var g=function(e){var t=e.cid,r=e.iting,n=e.notgoApp,o=e.extraInfo,l=void 0===o?{}:o;n||f(),Object(a.b)({cid:t,iting:r,notgoApp:n,extraInfo:l})};function b(e){var t=e.domElement,r=e.iting,a=e.callBack,o=e.appid,l=e.cid,i=e.extraInfo;if("wechat"===p()&&t){if(t){var u=getComputedStyle(t);"static"!==u.position&&u.position||(t.style.position="relative")}if(t.getElementsByClassName("arouse_wxtag")[0]){!function(e,t){e&&e.setAttribute("extinfo",t)}(t.getElementsByTagName("wx-open-launch-app")[0],r)}else{var c=document.createRange().createContextualFragment(function(e){return'\n    <wx-open-launch-app\n      class="arouse_wxtag"\n      id="launch-btn"\n      appid="'.concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,'"\n      extinfo="').concat(e,'"\n      style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; z-index: 9;"\n    >\n      <template>\n        <style>.btn { opacity:0; height: 100vh; }</style>\n        <div class=\'btn\' ></div>\n      </template>\n    </wx-open-launch-app>\n')}(r,o));t.appendChild(c);var s=t.getElementsByClassName("arouse_wxtag")[0];s&&(s.addEventListener("launch",(function(){null==a||a(),g({iting:r,notgoApp:!0,cid:l,extraInfo:i})})),s.addEventListener("error",(function(){null==a||a(),g({iting:r,cid:l,extraInfo:i})})))}}}var y=r(1),v=r.n(y);r(678);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var I="landing-auto-text",k=function(e){var t,r=e.data,a=void 0===r?[]:r,n=e.rootClassName,o=void 0===n?"":n,l=Object(y.useRef)(-1),i=Object(y.useRef)(+new Date),u=Object(y.useRef)(null),c=h(Object(y.useState)([]),2),s=c[0],d=c[1],m=h(Object(y.useState)(0),2),p=m[0],f=m[1];return Object(y.useEffect)((function(){var e;if(a&&!((null==a?void 0:a.length)<2))return d([{text:a[l.current],key:l.current},{text:a[l.current+1],key:l.current+1}]),e=window.requestAnimationFrame((function t(){if(+new Date-i.current>=3e3){i.current=+new Date,l.current=(l.current+1)%a.length;var r=[{text:a[l.current],key:l.current}];l.current===a.length-1?r.push({text:a[0],key:0}):r.push({text:a[l.current+1],key:l.current+1}),d(r)}e=window.requestAnimationFrame(t)})),function(){window.cancelAnimationFrame(e)}}),[a]),Object(y.useEffect)((function(){u.current&&f(parseFloat(getComputedStyle(u.current).width))}),[s]),a&&0!==(null==a?void 0:a.length)?v.a.createElement("span",{className:"".concat(I,"-root ").concat(o),style:p?{width:"".concat(p,"px")}:{}},1===a.length?a[0]:(null==s?void 0:s.length)>0&&s.map((function(e){return v.a.createElement("span",{key:e.key,className:"".concat(I,"-item-base ").concat(e.key===l.current?"".concat(I,"-item-top"):"".concat(I,"-item-bottom"))},e.text)})),v.a.createElement("span",{ref:u,className:"".concat(I,"-calc-dom")},null==s||null===(t=s[(null==s?void 0:s.length)-1])||void 0===t?void 0:t.text)):null},P=k;function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var E="landing-auto-text",C=function(e){var t,r=e.data,a=void 0===r?[]:r,n=e.rootClassName,o=void 0===n?"":n,l=e.colorList,i=void 0===l?[]:l,u=Object(y.useRef)(-1),c=Object(y.useRef)(+new Date),s=Object(y.useRef)(null),d=w(Object(y.useState)([]),2),m=d[0],p=d[1],f=w(Object(y.useState)(0),2),g=f[0],b=f[1];if(Object(y.useEffect)((function(){var e;if(a&&!((null==a?void 0:a.length)<2))return p([{text:a[u.current],key:u.current},{text:a[u.current+1],key:u.current+1}]),e=window.requestAnimationFrame((function t(){if(+new Date-c.current>=3e3){c.current=+new Date,u.current=(u.current+1)%a.length;var r=[{text:a[u.current],key:u.current}];u.current===a.length-1?r.push({text:a[0],key:0}):r.push({text:a[u.current+1],key:u.current+1}),p(r)}e=window.requestAnimationFrame(t)})),function(){window.cancelAnimationFrame(e)}}),[a]),Object(y.useEffect)((function(){s.current&&b(parseFloat(getComputedStyle(s.current).width))}),[m]),!a||0===(null==a?void 0:a.length))return null;var h=i&&(null==i?void 0:i.length)>0?"".concat(E,"-item-color"):"";return v.a.createElement("span",{className:"".concat(E,"-root ").concat(o),style:g?{width:"".concat(g,"px")}:{},"aria-hidden":"true"},1===a.length?a[0]:(null==m?void 0:m.length)>0&&m.map((function(e){var t,r,a=0;return h&&(a=e.key%(null==i?void 0:i.length)),v.a.createElement("span",{key:e.key,className:"".concat(E,"-item-base ").concat(e.key===u.current?"".concat(E,"-item-top"):"".concat(E,"-item-bottom")," ").concat(h),style:h?{color:null==i||null===(t=i[a])||void 0===t?void 0:t.color,background:null==i||null===(r=i[a])||void 0===r?void 0:r.background}:{}},e.text)})),v.a.createElement("span",{ref:s,className:"".concat(E,"-calc-dom ").concat(h)},null==m||null===(t=m[(null==m?void 0:m.length)-1])||void 0===t?void 0:t.text))},T=(r(679),C),S=function(e){var t=e.ready,r=e.children,a=e.appid,o=void 0===a?n:a,l=e.iting,i=e.cid,u=e.callBack,c=e.extraInfo,s=Object(y.useRef)(null);Object(y.useEffect)((function(){t&&s.current&&i&&l&&b({domElement:s.current,iting:l,appid:o,cid:i,callBack:u,extraInfo:c})}),[u,i,c,l,o,t]);var d=v.a.isValidElement(r)?v.a.cloneElement(r,{onClick:function(){var e,t;null==r||null===(e=r.props)||void 0===e||null===(t=e.onClick)||void 0===t||t.call(e),null==u||u(),"iting"!==p()&&g({cid:i,iting:l,extraInfo:c})},ref:s}):r;return v.a.createElement(v.a.Fragment,null,d)},_=["btnText","contentLeftElement","contentElement","extraTopElement","extraBottomElement","rootClassName","appid","callBack"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},x.apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function U(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var M="landing-footer",D=function(e){var t=e.btnText,r=void 0===t?"畅听精彩内容":t,a=e.contentLeftElement,o=void 0===a?null:a,l=e.contentElement,i=void 0===l?null:l,u=e.extraTopElement,c=void 0===u?null:u,s=e.extraBottomElement,d=void 0===s?null:s,f=e.rootClassName,g=void 0===f?"":f,b=e.appid,h=void 0===b?n:b,A=e.callBack,I=U(e,_),k=Object(y.useRef)(0),P=N(Object(y.useState)(!1),2),w=P[0],O=P[1],E=N(Object(y.useState)(!0),2),C=E[0],T=E[1];return Object(y.useEffect)((function(){function e(){var e=window.sessionStorage.getItem("showSafeBar"),t=window.scrollY,r=window.innerHeight,a=document.documentElement.scrollHeight;if(e){var n=k.current,o=t<n-10;t>n+10||t+r>=a-10?T(!0):o&&T(!1),k.current=t}}return O(function(){if("wechat"!==p()||"android"===m())return!1;var e=window.innerHeight;return screen.height>e}()),window.addEventListener("scroll",e,!1),function(){window.removeEventListener("scroll",e,!1)}}),[]),v.a.createElement(S,x({appid:h,callBack:A},I),v.a.createElement("div",{className:"".concat(M,"-root ").concat(w&&C?"".concat(M,"-safe-footer"):""," ").concat(g),onClick:function(){null==A||A()}},c,i||v.a.createElement("div",{className:"".concat(M,"-content")},o||v.a.createElement("div",{className:"".concat(M,"-left")},v.a.createElement("img",{className:"".concat(M,"-logo"),src:"https://imagev2.xmcdn.com/storages/45f0-audiofreehighqps/D5/83/GMCoOSIKGMoJAAAHqALTHnNL.png",alt:""}),v.a.createElement("img",{className:"".concat(M,"-desc"),src:"https://imagev2.xmcdn.com/storages/a77f-audiofreehighqps/9F/88/GKwRIW4KGMoJAAAUkALTHnMo.png",alt:""})),v.a.createElement("div",{className:"".concat(M,"-btn")},r)),d))},L=(r(680),D),R=["btnText","contentElement","contentLeftElement","rootClassName","rollData","colorList","appid","callBack"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B.apply(this,arguments)}function q(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var V="landing-header",z=function(e){var t=e.btnText,r=void 0===t?"立即打开":t,a=e.contentElement,u=void 0===a?null:a,c=e.contentLeftElement,s=void 0===c?null:c,d=e.rootClassName,m=void 0===d?"":d,p=e.rollData,f=void 0===p?[]:p,g=e.colorList,b=void 0===g?[]:g,y=e.appid,h=void 0===y?n:y,A=e.callBack,I=q(e,R);return v.a.createElement(S,B({appid:h,callBack:A},I),v.a.createElement("div",{className:"".concat(V,"-root ").concat(m),onClick:function(){null==A||A()}},u||v.a.createElement(v.a.Fragment,null,s||v.a.createElement("div",{className:"".concat(V,"-text")},v.a.createElement("img",{className:"".concat(V,"-logo"),src:o,alt:""}),v.a.createElement("img",{className:"".concat(V,"-arrow"),src:l,alt:""}),v.a.createElement("div",{className:"".concat(V,"-title")},v.a.createElement(T,{data:f,colorList:b})),v.a.createElement("img",{className:"".concat(V,"-arrow"),src:i,alt:""}),v.a.createElement("span",{className:"".concat(V,"-desc")},"就来喜马拉雅！")),v.a.createElement("div",{className:"".concat(V,"-btn")},r))))},W=(r(681),z),Q=["rootClassName"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F.apply(this,arguments)}function G(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var K="landing-header-color",J=function(e){var t=e.rootClassName,r=void 0===t?"":t,a=G(e,Q);return v.a.createElement(W,F({},a,{rootClassName:"".concat(r," ").concat(K,"-root"),contentLeftElement:v.a.createElement("div",{className:"".concat(K,"-content")},v.a.createElement(T,{data:null==c?void 0:c.left,colorList:u}),v.a.createElement("img",{className:"".concat(K,"-logo"),src:o,alt:""}),v.a.createElement(T,{data:null==c?void 0:c.right}))}))},H=(r(682),J),Y=(r(683),"launch-app_one-roll-content"),X=function(e){var t=e.rollData,r=void 0===t?[]:t;return v.a.createElement("div",{className:"".concat(Y,"-text")},v.a.createElement("img",{className:"".concat(Y,"-logo"),src:o,alt:""}),v.a.createElement("img",{className:"".concat(Y,"-arrow"),src:l,alt:""}),v.a.createElement("div",{className:"".concat(Y,"-title")},v.a.createElement(P,{data:r})),v.a.createElement("img",{className:"".concat(Y,"-arrow"),src:i,alt:""}),v.a.createElement("span",{className:"".concat(Y,"-desc")},"就来喜马拉雅！"))};r(684);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ee="launch-app_two-roll-content",te=function(e){var t=e.data;if(!t||0===t.length)return null;var r=function(e){return[e.map((function(e,t){return v.a.createElement("span",{key:t,className:"".concat(ee,"-tag"),style:{color:e.textColor,background:e.backgroundColor}},e.tag)})),e.map((function(e,t){return v.a.createElement("div",{key:t,className:"".concat(ee,"-slogan")},e.text)}))]}(t),a=Z(r,2),n=a[0],l=a[1];return v.a.createElement("div",{className:"".concat(ee,"-root")},v.a.createElement(k,{data:n}),v.a.createElement("img",{className:"".concat(ee,"-logo"),src:o,alt:""}),v.a.createElement(k,{data:l}))},re=(r(685),["btnText","rootClassName","rollData","appid","callBack","changeBgInScrolling"]);function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ae.apply(this,arguments)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,l,i=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(i.push(a.value),i.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function le(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ie="launch-app_header",ue=function(e){var t=e.data;return t&&0!==t.length?"string"==typeof t[0]?v.a.createElement(X,{rollData:t}):function(e){return Array.isArray(e)&&e.every((function(e){return"text"in e&&"tag"in e&&"textColor"in e&&"backgroundColor"in e}))}(t)?v.a.createElement(te,{data:t}):null:null},ce=function(e){var t=e.btnText,r=void 0===t?"立即打开":t,a=e.rootClassName,o=void 0===a?"":a,l=e.rollData,i=void 0===l?[]:l,u=e.appid,c=void 0===u?n:u,s=e.callBack,d=e.changeBgInScrolling,m=void 0!==d&&d,f=le(e,re),g=Object(y.useRef)(0),b=Object(y.useRef)(!1),h=Object(y.useRef)(),A=ne(Object(y.useState)(!1),2),I=A[0],k=A[1];return Object(y.useEffect)((function(){if(m)return window.addEventListener("scroll",e,!1),function(){window.removeEventListener("scroll",e,!1)};function e(){var e=p(),t=window.sessionStorage.getItem("showSafeBar"),r=window.scrollY;"wechat"===e&&t&&(g.current,g.current=r),window.scrollY>130&&(b.current=!0,k(!0),h.current&&(clearTimeout(h.current),h.current=null)),h.current=setTimeout((function(){b.current=!1,k(!1)}),700)}}),[m]),v.a.createElement(S,ae({appid:c,callBack:s},f),v.a.createElement("div",{className:"".concat(ie,"-root ").concat(o," ").concat(I?"".concat(ie,"-scroll"):""),onClick:function(){null==s||s()}},v.a.createElement(ue,{data:i}),v.a.createElement("div",{className:"".concat(ie,"-btn")},r)))},se=r(686),de=r.n(se),me=(r(687),["btnText","rootClassName","appid","callBack"]);function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pe.apply(this,arguments)}function fe(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var ge="launch-app_right",be=function(e){var t=e.btnText,r=void 0===t?"去喜马拉雅":t,a=e.rootClassName,o=void 0===a?"":a,l=e.appid,i=void 0===l?n:l,u=e.callBack,c=fe(e,me);return v.a.createElement(S,pe({appid:i,callBack:u},c),v.a.createElement("div",{className:"".concat(ge,"-root  ").concat(o),onClick:function(){null==u||u()}},v.a.createElement("img",{src:de.a,className:"".concat(ge,"-cat")}),v.a.createElement("span",{className:"".concat(ge,"-jump-text")},r),v.a.createElement("img",{className:"".concat(ge,"-logo"),src:"https://imagev2.xmcdn.com/storages/fb5c-audiofreehighqps/F3/E3/GKwRIMAKgkKWAAABnwL6EB8P.png",alt:""})))}},530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2065837079=void 0;var a=i(r(1)),n=i(r(40)),o=r(450),l=r(468);function i(e){return e&&e.__esModule?e:{default:e}}var u=e=>{let{openApp:t,customIting:r,selfType:i=""}=e;const[u]=(0,l.useChangeWxOpenTagExtinfo)({selfType:i,iting:r});return a.default.createElement(n.default,{ref:u,tag:"div",to:r,getplayercurrenttime:"sound"===i?o.getPlayerCurrentTime:null,onClick:t,style:{height:"56px",width:"100%"}},a.default.createElement("div",{className:"share-banner-new m_z"},a.default.createElement("div",{className:"share-banner-new-left m_z"},a.default.createElement("img",{className:"share-banner-new-left-logo m_z",src:"https://imagev2.xmcdn.com/storages/3777-audiofreehighqps/49/07/GMCoOSMH3Kb7AAAPQgH_va2X.png"})),a.default.createElement("div",{className:"share-banner-new-right m_z"},a.default.createElement("div",{className:"share-banner-new-right-text m_z"},"打开APP"))))};t.default=u;t._2065837079=0},531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(446),n={namespace:"shareAlbumPage",state:{},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},e,r)},updateCampExtraInfo(e,t){let{payload:r}=t,{campExtraInfo:a}=e;return a={...a,...r},Object.assign({},e,{campExtraInfo:a})},refresh(e,t){let{payload:r}=t;return{...e,...r}}},effects:{*addTrainCampExtraInfo(e,t){let{albumId:r}=e,{put:n,call:o}=t;const l=yield o(a.getTrainCampExtraInfo,{albumId:r});yield n({type:"updateCampExtraInfo",payload:l})},*getNextPageTracks(e,t){let{albumId:r,rest:n}=e,{call:o,select:l,put:i}=t;const{shareAlbumPage:{albumType:u,trackPageInfo:{current:c=1,pageSize:s=5,list:d=[]}={}}}=yield l();if(3===u)return;const m=yield o(a.getTracks,{page:c+1,pageSize:s,albumId:r,...n})||{};m.list=d.concat(m.list),yield i({type:"updateState",payload:{trackPageInfo:m}})},*getCommentsList(e,t){let{call:r,put:n}=t;const{trackId:o}=e;let l=yield(0,a.getComments)({trackId:o})||{};yield n({type:"refresh",payload:{comments:{...l}}})},*getNextPageComments(e,t){let{select:r,put:n,call:o}=t;const{shareAlbumPage:{comments:{current:l=1,pageSize:i=10,list:u=[]}={},id:c}={}}=yield r(),s=yield o(a.getComments,{page:l+1,pageSize:i,albumId:c})||{};s.list=u.concat(s.list),yield n({type:"updateState",payload:{comments:s}})}}};t.default=n},532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrainTracks=t.getTracks=void 0;var a,n=(a=r(33))&&a.__esModule?a:{default:a},o=r(50);const l=function(){let{ret:e,data:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)return{current:1,pageSize:10,list:[],total:0};const{page:r,pageSize:a,totalCount:n,trackDetailInfos:l=[]}=t;return{current:r,pageSize:a,total:n,hasMore:r<Math.ceil(n/a),list:l.map(o._parseTrack)}},i=e=>{};t.getTracks=(e,t)=>{let{page:r,pageSize:a,albumId:o,asc:u=!0,countKeys:c="play,comment",...s}=e;return(0,n.default)({url:"/m-revision/common/album/queryAlbumTrackRecordsByPage",data:{albumId:o,page:r,pageSize:a,asc:u,countKeys:c,v:Date.now(),client:"selfshare",...s}},t).then(l).catch(i)};t.getTrainTracks=e=>{let{albumId:t,trainingDate:r=0,countKeys:a="play,comment"}=e;return(0,n.default)({url:"/m-revision/common/album/queryTrainingAlbumTrackRecords",data:{albumId:t,trainingDate:r,countKeys:a,v:Date.now()}}).then(l).catch(i)}},533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={namespace:"albumUtils",state:{couponPopVisible:!1},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},e,r)},openCouponPop:e=>Object.assign({},e,{couponPopVisible:!0}),closeCouponPop:e=>Object.assign({},e,{couponPopVisible:!1})}};t.default=a},534:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={namespace:"albumCoupon",state:{},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},e,r)},updateCoupon(e,t){let{coupon:r}=t,{list:a=[]}=e;a=a.map((e=>e.id===r.id?Object.assign({},e,r):e));const{bestCoupon:n={}}=e,o={list:a};return n.id===r.id&&(o.bestCoupon=r),Object.assign({},e,o)}},effects:{*updateById(e,t){let{coupon:r}=e,{put:a}=t;yield a({type:"updateCoupon",coupon:r})}}};t.default=a},535:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={namespace:"discountInfo",state:{},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},e,r)}},effects:{*update(){}}};t.default=a},536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.convertActivityAlbumInfo=void 0;var a=r(48),n=r(446),o=r(442);const l=(e,t,r)=>{e=Number(e);const{couponInfo:a,...n}=r,{singleBuyPriceInfo:{buyPrice:l}={}}=n;1===t&&l&&(e=l);const{list:i=[]}=a||{},u=i.filter((function(){let{isCanUse:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).reduce(((e,t)=>void 0!==e.usingCouponPrice&&e.usingCouponPrice<t.usingCouponPrice?e:t),{});a&&(a.bestCoupon=u);const c=[],s=[];if("RATE"===u.discountType){const t={type:o.typeMaps.COUPON_RATE,value:u.discountRate,v:e*(1-u.discountRate),couponId:u.id};c.push(t),s[o.typeMaps.COUPON_RATE]=t,e*=u.discountRate}else if("VALUE"===u.discountType){const t=Number(u.couponValue);e-=t;const r={type:o.typeMaps.COUPON_VALUE,value:t,couponId:u.id};r.v=t,c.push(r),s[o.typeMaps.COUPON_VALUE]=r}const{wholeAlbumTimedDiscountInfo:{discountPrice:d,discountRate:m,discountType:p,...f}={},vipDiscountInfo:g,albumSubsidyInfo:{subsidyValue:b}={}}=n;if(1===p){e-=d;const t={type:o.typeMaps.TIMED_DISCOUNT,value:e,v:e,...f};c.push(t),s[o.typeMaps.TIMED_DISCOUNT]=t}else if(2===p){const t={type:o.typeMaps.TIMED_DISCOUNT_RATE,value:m,v:e*(1-m),...f};c.push(t),s[o.typeMaps.TIMED_DISCOUNT_RATE]=t,e*=m}if(b){e-=b;const t={type:o.typeMaps.SUBSIDY,value:b,v:b};c.push(t),s[o.typeMaps.SUBSIDY]=t}if(g){const{vipDiscountRate:t}=g,r={type:o.typeMaps.VIP_DISCOUNT,value:t,v:e*(1-t)};c.push(r),s[o.typeMaps.VIP_DISCOUNT]=r}n.discountInfos=c.map((e=>({...e,v:Number(e.v.toFixed(2))}))),n.discountInfoMap=s;let{vipPriceGuideInfo:{btnLink:y}={}}=n;return y&&(n.vipPriceGuideInfo.btnLink=y+(-1!==y.indexOf("?")?"&":"?")+"returnUrl="+encodeURIComponent(location.href)),{couponInfo:a,info:n}};t.convertActivityAlbumInfo=l;var i={namespace:"albumActivity",state:{},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},r)},updateCampAdInfo(e,t){let{payload:r}=t,{trainingCampAdBarInfo:a}=e;return a={...a,...r},Object.assign({},e,{trainingCampAdBarInfo:a})}},effects:{*updateActivityInfo(e,t){let{albumId:r}=e,{put:a,call:o,select:i}=t;try{let{shareAlbumPage:{albumInfo:{discountedPrice:e}={},payType:t}={}}=yield i();const u=yield o(n.getActivityInfo,r)||{},{couponInfo:c,info:s}=l(e,t,u);yield a({type:"albumCoupon/updateState",payload:c}),yield a({type:"updateState",payload:s}),yield a({type:"pageEntered"})}catch(e){}},*pageEntered(e,t){let{select:r}=t;try{const{albumActivity:{albumGrouponInfo:e,quickGrouponInfos:t},shareAlbumPage:{id:n,campPhraseInfo:o}}=yield r();o&&a.ubt.pageView(13039,"训练营售前页",{hasGroupon:!!e,hasQuickGroupon:!!t,albumId:n})}catch(e){console.error(e)}}}};t.default=i},537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(451),n={namespace:"trackActivity",state:{},reducers:{updateState(e,t){let{payload:r}=t;return Object.assign({},r)}},effects:{*updateActivityInfo(e,t){let{trackId:r}=e,{call:n,put:o}=t;const l=yield n(a.getActivityInfo,r);yield o({type:"updateState",payload:l})}}};t.default=n},545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),o=r(57),l=b(r(20)),i=b(r(460)),u=r(70),c=b(r(169)),s=r(48),d=r(34),m=b(r(552)),p=r(435),f=b(r(58)),g=b(r(40));function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)}const h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATJJREFUWEftlL2tgzAURj8aqOnpYQMYIgwBE0ABRKKOxE8BE8AQMARsAD09NWmIrqVIeYiA8/Kk19idjf35cGxfaV3XFf/YJAEgDAgDwoAwcGYgjmNQtQ6CAKqqchXteZ6R5zkkScLtdjtcc1qKr9crKFDTNIRhCEVRDgOXZUGWZZimiQEnSfIdAAWlaYr7/Q7DMOB5HvuzvUamyrLEMAyQZRlRFDHwo3ZqgBaP44iiKNhRmKYJ13V3M6uqQt/3DND3fei6fnpkXACU0nUd6rpmgZfLBbZt/whvmgZt27Ixx3FgWdbp5jSBG4Amv9vkDO7rI3gN2GqmbzzH8w7iIwMUsr1oNMZzQf8MgIJenxr1eZ/oHsTHBp4hz2JD/U+K1Bbi1wBcV5xjkgAQBoQBYUAYeAC0AvqhrGRTfgAAAABJRU5ErkJggg==",A={downloads:{fontSize:14,color:"#f86442"},list:{padding:"0 15px 0",height:"fit-content"}};let I=null,k=(0,u.withPlayer)(a=(0,d.withRouter)(a=class extends n.Component{constructor(e){super(e),this.onPlay=(e,t)=>{const{albumId:r,selfType:a,history:n,trackId:o,isPaid:l,isTest:i=!1}=this.props,{source:{id:u},player:{playState:c}}=e;if("album"===a){if(i)return(0,p.wakeUpAppAlbumUbt)({item:"15",currAlbumId:r,currTrackId:u,isTest:i}),!0;if(s.ubt.clickForce(36108,"freeAlbumPage",{currAlbumId:r,isPlay:I===u&&3==c?"false":"true",trackId:u,currPage:"freeAlbumPage"}),I=u,this.setPlaylist(),l&&"boolean"==typeof t&&t)return(0,f.default)("付费内容，请前往APP购买后收听"),!1;if("boolean"==typeof t&&t&&!i){let e=this.generateLink(u);n.push(e)}return!0}"sound"===a&&(t.stopPropagation(),(0,p.wakeUpAppUbt)({item:"04",currTrackId:o,trackId:u,currAlbumId:r,isPaid:l}))},this.toLoadMore=()=>{const{nextPage:e,albumId:t,trackId:r,selfType:a}=this.props;"album"===a&&s.ubt.click(36094,"freeAlbumPage",{currAlbumId:t,item:"加载更多",currPage:"freeAlbumPage"}),e(t),this.playlist&&this.setPlaylist()},this.openApp=e=>{const{albumId:t,selfType:r,trackId:a,player:{playState:n},isPaid:o=!1,isTest:l=!1}=this.props;"sound"===r?(0,p.wakeUpAppUbt)({item:"11",trackId:e,currAlbumId:t,currTrackId:a,isPaid:o}):"album"!==r||l||(s.ubt.clickForce(36109,"freeAlbumPage",{currAlbumId:t,trackId:e,currPage:"freeAlbumPage",isPlay:I===e&&3==n?"false":"true"}),I=e,this.setPlaylist())},this.generateLink=e=>{const{location:{search:t=""}}=this.props;return`/selfshare/sound/${e}${t}`},this.openAppUbt=()=>{let{albumId:e,trackId:t,isTest:r=!1}=this.props;this.toLoadMore(),(0,p.wakeUpAppAlbumUbt)({item:"16",currAlbumId:e,currTrackId:t,isTest:r})},this.playlist=null}setPlaylist(){const{list:e,player:t,albumId:r}=this.props;this.playlist!==e&&(this.playlist=e,t.playlist(e,r))}componentWillUnmount(){I=null}render(){let{list:e=[],hasMore:t,albumId:r,selfType:a,trackId:o,isTest:u=!1,isPaid:s=!1,iting:d,isVideo:p}=this.props;return"sound"===a&&(e=p?e.filter((e=>e.id!==o)).slice(0,5):e.filter((e=>e.id!==o)).slice(0,3)),e.length<=0?null:n.default.createElement(c.default,{style:A.list,dataSet:e,loader:"album"===a?u?n.default.createElement(g.default,{to:d,tag:"div",onClick:()=>this.openAppUbt(),style:{display:"flex",flex:"1",justifyContent:"center"}},n.default.createElement("p",{className:(0,l.default)("load-more tc",{hidden:!t}),onClick:this.toLoadMore,style:{height:"20px",lineHeight:"20px"}},n.default.createElement("span",{style:{cursor:"pointer",color:"#666666",fontSize:14,fontWeight:500}},"加载更多"),n.default.createElement("img",{src:h,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub"}}))):n.default.createElement("p",{className:(0,l.default)("load-more tc",{hidden:!t}),onClick:this.toLoadMore,style:{height:"20px",lineHeight:"20px"}},n.default.createElement("span",{style:{cursor:"pointer",color:"#666666",fontSize:14,fontWeight:500}},"加载更多"),n.default.createElement("img",{src:h,width:"16",height:"16",style:{marginLeft:2,verticalAlign:"sub"}})):null,render:e=>{const t={...e};return n.default.createElement(c.default.Item,{key:e.id,className:"sound"===a?"sound_list":""},n.default.createElement(i.default,v({srcPageId:r,srcModule:"trackList",serviceId:"albumPageClick",onPlay:this.onPlay,contbottom:n.default.createElement(m.default,t),clickOpenApp:this.openApp,generateLink:this.generateLink,isSelfPlay:"sound"!==a,downItem:"sound"===a,isSelfshareSound:"sound"===a,isSelfshareAlbum:"album"===a,isTest:u,isPaid:s},t)))}})}})||a)||a;var P=(0,o.connect)((e=>{let{shareAlbumPage:{trackPageInfo:t,payType:r,albumInfo:{iting:a,id:n}={},trackInfo:{id:o}={}}={}}=e;return{...t,hideSuspend:r>0,iting:a,albumId:n,trackId:o}}))((e=>n.default.createElement(k,e)));t.default=P},546:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._621899971=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,r&&r.set(e,a);return a}(r(1)),n=r(60),o=r(26);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}class i extends a.Component{constructor(e){super(e),this.setHeight=e=>{const{height:t}=this.props,{offsetHeight:r}=this.$box||{};if("auto"!==this.state.height&&!e)return!1;r<=t?this.setState({height:"auto"}):this.setState({height:t})},this.propsChange=e=>!(0,n.shallowEqual)(e,this.props),this.stateChange=e=>!(0,n.shallowEqual)(e,this.state),this.showMore=()=>{const{canShowMore:e,trackAsistUbt:t}=this.props;e&&this.setState({height:"auto"}),t&&t()},this.imgs=[],this.state={height:"auto",propsChange:this.propsChange,stateChange:this.stateChange}}addImgLoadEvent(){if(this.imgs=this.$box.querySelectorAll("img"),this.imgs.length){let e=0;const t=()=>{e++,e>=this.imgs.length&&(this.imgs=[],this.setHeight())};this.imgs.forEach((e=>{e.onload=()=>{t()},e.onerror=()=>{t()}}))}}componentDidMount(){const{needCalcRich:e=!0}=this.props;e&&this.addImgLoadEvent(),requestAnimationFrame(this.setHeight)}componentDidUpdate(e){let{id:t}=e;const{id:r}=this.props;r&&t&&r!==t&&requestAnimationFrame(this.setHeight)}update(){requestAnimationFrame((()=>this.setHeight(!0)))}render(){const{children:e,moreIconComponent:t}=this.props,{height:r}=this.state;return a.default.createElement("div",{style:{height:r},className:"stretch-box b_B",ref:e=>this.$box=e},e,a.default.createElement("div",{style:{display:"auto"!==r||t?"block":"none"},className:"mask b_B"},t||a.default.createElement("p",{onClick:this.showMore,className:"stretch-more b_B"},a.default.createElement(o.Icon,{style:{fontSize:24},type:"more"}))))}}t.default=i,i.defaultProps={height:300,canShowMore:!0,needCalcRich:!0};t._621899971=0},547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._384488035=t.FlexBoxItem=void 0;var a=o(r(1)),n=o(r(20));function o(e){return e&&e.__esModule?e:{default:e}}t.FlexBoxItem=e=>{let{children:t}=e;return a.default.createElement("div",{className:"xm-flexbox-item i_T"},t)};t.default=e=>{let{justify:t,align:r,wrap:o,direction:l,children:i,className:u,style:c}=e;return c={justifyContent:t,WebkitJustifyContent:t,alignItems:r,WebkitAlignItems:r,flexWrap:o,WebkitFlexWrap:o,FlexDirection:l,WebkitFlexDirection:l,...c},a.default.createElement("div",{style:c,className:(0,n.default)("xm-flexbox",u)+" i_T"},i)};t._384488035=0},548:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCreateGroupon=function(e){let{promotionId:t,returnUrl:r}=e;const o=(0,n.getContext)();return(0,n.loginCheck)((()=>(0,a.createGroupon)({promotionId:t,domain:1,context:o,returnUrl:r}))).then((e=>{let{code:t,message:r,data:a}=e;if(200!==t)throw{code:t,message:r};(0,n.commitForm)(a)}))},t.toJoinGroupon=function(e){let{grouponId:t,returnUrl:r}=e;const o=(0,n.getContext)();return(0,n.loginCheck)((()=>(0,a.joinGroupon)({grouponId:t,returnUrl:r,context:o,domain:1}))).then((function(){let{code:e,data:t,message:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(200!==e)throw{code:e,message:r};(0,n.commitForm)(t)})).catch((e=>console.error(e)))};var a=r(443),n=r(453)},549:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSignVip=void 0;var a=r(453),n=r(443);function o(e){const t="alipays://platformapi/startapp?appId=60000157&appClearTop=false&startMultApp=YES&sign_params="+encodeURIComponent(e),r="http://d.alipay.com/i/index.htm?iframeSrc="+encodeURIComponent(t);location.replace(r)}function l(e){location.replace(e)}t.toSignVip=e=>{const{channelTypeId:t}=e;return(0,a.loginCheck)((()=>(0,n.vipSign)(e))).then((function(){let{ret:e,msg:r,data:{params:{payInfo:a}={}}={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==e)throw{code:e,message:r};switch(t){case 2:o(a);break;case 3:l(a)}}))}},550:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveCoupon=c,t.receiveCouponBeforeCommit=function(e){let{coupon:t,...r}=e;t&&!1===t.isReceived?c(t).then((async e=>{await(0,l.wait)(i.env.isTest?2:.6)}),(()=>{})).then((()=>(0,o.commitOrder)(r))):(0,o.commitOrder)(r)};var a,n=r(443),o=r(490),l=r(453),i=r(12),u=(a=r(58))&&a.__esModule?a:{default:a};function c(e){let{couponId:t,id:r}=e;return t=t||r,(0,l.loginCheck)((()=>(0,n.allocateCoupon)({couponId:t}))).then((function(){let{code:e,message:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(200!==e)throw{status:e,message:t};return{code:e,...r}})).catch((function(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(`${e}`)}))}},551:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContext=u,t.resolvePlaceOrderAndPay=void 0;var a,n=r(443),o=(a=r(58))&&a.__esModule?a:{default:a},l=r(453),i=r(12);function u(){try{let{query:{context:e="",orderSourceValue:t="",orderSourceType:r=""}={}}=(0,i.parseURI)(decodeURIComponent(location.href))||{};const a=JSON.parse(e||"{}");return t=t||(0,i.getCookie)("default_order_source_value"),r=r||(0,i.getCookie)("default_order_source_type"),{context:e,sourceType:a&&a.orderSourceType||t,sourceValue:a&&a.orderSourceValue||r}}catch(e){return console.warn(e,"解析context以及cookie error"),""}}t.resolvePlaceOrderAndPay=e=>{let{itemId:t,couponList:r=[],userId:a,trainingGroupUrl:i=""}=e;return(0,l.loginCheck)((()=>(e=>{let{itemId:t,couponList:r=[],userId:a,trainingGroupUrl:o=""}=e;const{sourceType:l="",sourceValue:i="",context:c=""}=u();let s=r.length&&r[0]||{},d=[];Object.keys(s).length&&d.push({promotionId:s.couponId,promotionCode:s.activityId,promotionType:2,discountType:1});const m={channel:6,tradeType:1,userId:a,itemInfos:[{itemId:t,...i&&{itemSourceType:i},...l&&{itemSourceValue:l}}],payInfo:{payChannel:5,sourceType:2,accessChannel:2},promotionInfos:d,context:c||"",returnUrl:o};return(0,n.placeOrderAndPay)(m)})({itemId:t,couponList:r,userId:a,trainingGroupUrl:i}))).then((e=>{e||(0,o.default)("服务异常，请稍后再试");const{code:t="200",data:r={},msg:a=""}=e||{};if(200===Number(t)){const{payResult:{payParams:e,confirmPayment:t}={}}=r;window.location.href=t?i:e}else(0,o.default)(`${a||"服务异常，请稍后再试"}`)})).catch((e=>{console.warn(e),e&&-1===e.code?(0,o.default)(`${e.message||"需要登录"}`):(0,o.default)("服务异常，请稍后再试")}))}},552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._826237932=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a};var o=e=>{let{playCount:t,durationStr:r,commentCount:a}=e;return n.default.createElement("div",{className:"show-bottom na_",style:{marginTop:"5px"}},n.default.createElement("img",{className:"show-bottom-label na_",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfhJREFUWEftljGLE1EUhc95b5IBsdNKoqhtQOvdbn9ASDPzpt1gqcjaiI1mV8U122zn+guSzJukF5ugnb9BxGUXLQLRQqI2M1cebGAtdMbdZBYhrxp4MOfj3HvPfcQZH56xPpYASwf+PwesteezLLuklDo0xvw47RQVdmA0GnmTyaSTZdltAD6AKcmX1Wp1q9lsfjspSGGAOI47JO8DSEVkn+Q1AArAZ6XUvSAI7EkgCgFYa6sAvgA4B2DNGPOm3+/f1Fq/EJFVJ0zyNck7QRC8/xeQQgC9Xu+y1voAwCdjTG0mICIcDAa3ROQ5gAsAfgLYmU6n261Wy33nnqIAV7XWHwHsG2Oc9b+dbrd7sVKpdERk3ZVFRD44N4wxr/II5gIwE0mSZFVE9gDcACAkH4RhuPM3iLkCOCE3LePxeIPkM5IeyZUgCN79CWLuADOhOI53SW6IyNMoih6WDpAkya6IOCeehGH4qDSAYyXYJqlLLcHxJiQpWZY9jqJoc+FN6MbQ8zyXBa2FjOFwOKylaXoIwC2gK6UHUbvd9ur1+lcXxSKyFkXRWxfFSik38ysLj2InYK3dAuC6OXWJCOC6WwGlLKMjy2mt7QC4e7SO3Vtgz/f9zVLW8azu7kGilKr5vn/QaDS+52V93n2hJMz7yWnulwBLB5YO/AIAJe8hmapuzgAAAABJRU5ErkJggg==",alt:"播放量"}),n.default.createElement("span",{className:"show-num na_"},t),n.default.createElement("img",{className:"show-bottom-label na_",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA5UExURUxpcba2tqqqqqurq8jIyK6urqqqqqqqqqqqqqqqqqqqqqurq6urq6qqqqqqqqurq6ysrKurq6qqqg9C/H4AAAASdFJOUwAODEYFJtl6vfbra1XQz5k7Vq/bXdsAAACbSURBVHja3ZLJDsMgDERDWAwkkPb9/8dWoY3S1kTc48tYmpHH23THmL2fr1kjFaCK6fPPDCmEBHnt8QLRumlyNoJofoXlyBdYlX/e+VORjTKIDeMHlEnBNoQGlvI3P8l9C1zidx+e8E4Sj4YB3xdssJlToC2cJIJrFqrJo1ise5O1N+YZERkuarzq8bFUDXVu/TAFoIgZvNwN4wX2Rwe2cwswewAAAABJRU5ErkJggg==",alt:"时长"}),n.default.createElement("span",{className:"show-num na_"},r))};t.default=o;t._826237932=0},553:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(r(1)),n=r(57),o=u(r(554)),l=u(r(555)),i=u(r(454));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.connect)((e=>{let{shareAlbumPage:{albumInfo:{middleCover:t,title:r,subscribeCount:a,iting:n,albumScore:o,playCount:l}={},albumId:i,trackInfo:{id:u},anchorInfo:c={},invisibleAlbum:s}}=e;return{cover:s&&c.avatarUrlCover?c.avatarUrlCover:t,invisibleAlbum:s,title:r,subscribeCount:a,iting:n,playCount:l,albumId:i,trackId:u,albumScore:o,anchorInfo:c}}))((e=>{let{cover:t,title:r,subscribeCount:n,iting:u,playCount:c,albumId:s,trackId:d,srcPageId:m,albumScore:p,invisibleAlbum:f,anchorInfo:g,isPaid:b}=e;const y={cover:t,title:r,subscribeCount:n,iting:u,playCount:c,albumId:s,trackId:d,srcPageId:m,albumScore:p,isPaid:b,selfType:"showList",...g};return a.default.createElement("div",null,a.default.createElement(i.default,{title:"以上内容来自专辑"}),f?a.default.createElement(l.default,y):a.default.createElement(o.default,y))}));t.default=c},554:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._2033527847=void 0;var a=u(r(1)),n=r(41),o=u(r(40)),l=r(435),i=u(r(437));function u(e){return e&&e.__esModule?e:{default:e}}var c=e=>{let{albumId:t,trackId:r,cover:u,title:c,subscribeCount:s,playCount:d,albumScore:m,selfType:p,location:f,isPaid:g}=e;const[b]=(0,i.default)((()=>{(0,l.exposeAppUbt)({item:"03",currAlbumId:t,currTrackId:r}),(0,l.exposeAppUbt)({item:"09",currAlbumId:t,currTrackId:r})}));return a.default.createElement("div",{className:"album-info album-info-even _DU",ref:b},a.default.createElement(o.default,{to:`iting://open?msg_type=13&album_id=${t}`,key:t+"1",onClick:()=>{(0,l.wakeUpAppUbt)({item:"09",currTrackId:r,currAlbumId:t,isPaid:g})},tag:"div",style:{display:"flex",flex:"1"}},a.default.createElement("div",{className:"album-info-cover _DU"},a.default.createElement(n.ImageView,{className:"album-info-cover-label _DU",src:u,alt:c,style:{borderRadius:"4px"}})),a.default.createElement("div",{className:"album-info-cont _DU"},a.default.createElement("div",{className:"main-cont _DU"},a.default.createElement("div",{className:"title _DU"},a.default.createElement("p",{className:"title-cont _DU"},c)),a.default.createElement("div",{className:"show-bottom-A _DU"},d?a.default.createElement(a.default.Fragment,null,a.default.createElement("img",{className:"show-bottom-label _DU",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfhJREFUWEftljGLE1EUhc95b5IBsdNKoqhtQOvdbn9ASDPzpt1gqcjaiI1mV8U122zn+guSzJukF5ugnb9BxGUXLQLRQqI2M1cebGAtdMbdZBYhrxp4MOfj3HvPfcQZH56xPpYASwf+PwesteezLLuklDo0xvw47RQVdmA0GnmTyaSTZdltAD6AKcmX1Wp1q9lsfjspSGGAOI47JO8DSEVkn+Q1AArAZ6XUvSAI7EkgCgFYa6sAvgA4B2DNGPOm3+/f1Fq/EJFVJ0zyNck7QRC8/xeQQgC9Xu+y1voAwCdjTG0mICIcDAa3ROQ5gAsAfgLYmU6n261Wy33nnqIAV7XWHwHsG2Oc9b+dbrd7sVKpdERk3ZVFRD44N4wxr/II5gIwE0mSZFVE9gDcACAkH4RhuPM3iLkCOCE3LePxeIPkM5IeyZUgCN79CWLuADOhOI53SW6IyNMoih6WDpAkya6IOCeehGH4qDSAYyXYJqlLLcHxJiQpWZY9jqJoc+FN6MbQ8zyXBa2FjOFwOKylaXoIwC2gK6UHUbvd9ur1+lcXxSKyFkXRWxfFSik38ysLj2InYK3dAuC6OXWJCOC6WwGlLKMjy2mt7QC4e7SO3Vtgz/f9zVLW8azu7kGilKr5vn/QaDS+52V93n2hJMz7yWnulwBLB5YO/AIAJe8hmapuzgAAAABJRU5ErkJggg==",alt:"播放量"}),a.default.createElement("span",{className:"show-num _DU"},d)):null,s?a.default.createElement(a.default.Fragment,null,a.default.createElement("img",{className:"show-bottom-label _DU",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAaxJREFUWEftlTFLA0EQhWfYk4CNiEKU9IKCYG1pY2F3sFNYKii2oqXGYCdib+EfmIR0FhZaib2Ngr2YgCIINuctIxu2SM4zd+RyBuSuWY4d9n3zZmYXYcQfjlgfCoDCgf/rQL1eP7YTprU+6DdpiQ6ICDYajR0R2QKAybjDEPFaa73RvcfMxv4TkcoEwMz7AHCScF/cE9FSBEAcQN8kEx1g5hYAlEVkvVQq3caBBEHQJqLA2i4iyy5mxa03dkXEu7hypAFIlYkVYeYXAJj5xa0WEc1G94YNUFFKzVkRY0wnc6VUxwljzBMRPecKkFcPpC5BBKDtmrCcdQoGBag4gB+2dwMNtQcGedpzA2DmTefAxahK8OUAxnIBYOY1ANhzh58S0eWfTAEzLwDAGQCsRjK7AoBdInpwl1Kq5k3dA57nTRtjaiKyDQCeiLwjYs2KiUgVEe1DFSLiuVKqGobh67Degk8AGHeCPSK+779ZkWazORUDZ2M/iGgiaw/YLA/dIT02Rw+Olsc6pLU+ygTgMpy3q+/7j2lmnZkXPc8L08Qn9kAawSwxBUDhQOHANxUG2SEfaZ3qAAAAAElFTkSuQmCC",alt:"订阅"}),a.default.createElement("span",{className:"show-num _DU"},s)):null)))),a.default.createElement(o.default,{to:`iting://open?msg_type=13&album_id=${t}`,key:t,onClick:e=>(e=>{e.stopPropagation(),(0,l.wakeUpAppUbt)({item:"03",currTrackId:r,currAlbumId:t,isPaid:g})})(e),tag:"div"},a.default.createElement("div",{className:"album-info-book _DU"},a.default.createElement("div",{className:"album-book _DU"},"免费订阅"))))};t.default=c;t._2033527847=0},555:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._405304112=void 0;var a=u(r(1)),n=r(26),o=r(12),l=u(r(40)),i=r(41);function u(e){return e&&e.__esModule?e:{default:e}}var c=e=>{const{id:t,avatarUrl:r,nickname:u,verifyType:c,followers:s,anchorGrade:d,personalSignature:m}=e,p=1===c?"individual_orange_V":"individual_blue_V";return a.default.createElement("div",{className:"xm-anchor Qz_"},a.default.createElement(l.default,{to:`iting://open?msg_type=12&uid=${t}`,className:"avatar Qz_"},a.default.createElement(i.ImageView,{style:{borderRadius:"50%",minWidth:54},src:r}),a.default.createElement(n.SvgIcon,{width:"27",height:"16",className:"grade Qz_",type:`${p}${d}`})),a.default.createElement("div",{className:"inlb v-m xm-anchor-content Qz_"},a.default.createElement(l.default,{className:"ellipsis inlb v-m xm-anchor-link Qz_",to:`iting://open?msg_type=12&uid=${t}`},a.default.createElement("h4",{className:"xm-anchor__nickname Qz_"},a.default.createElement("span",{className:"v-m Qz_"},u)),a.default.createElement("p",{className:"info ellipsis Qz_"},m),a.default.createElement("p",{className:"fans-info fr Qz_"},a.default.createElement(n.Icon,{style:{fontSize:16},type:"anchor_fans"}),(0,o.parseNum)(s)))),a.default.createElement(l.default,{to:`iting://open?msg_type=12&uid=${t}`,className:"attentionWrapper Qz_"},a.default.createElement(n.Icon,{type:"attention",className:"attention Qz_"}),a.default.createElement("p",{className:"attentionContent Qz_"},"加关注")))};t.default=c;t._405304112=0},614:function(e,t,r){"use strict";var a=r(615),n=r(1),o=r(616),l=n.useDebugValue,i=o.useSyncExternalStoreWithSelector,u=function(e){return e};function c(e,t,r){void 0===t&&(t=u);var a=i(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return l(a),a}var s=function(e){var t="function"==typeof e?a.createStore(e):e,r=function(e,r){return c(t,e,r)};return Object.assign(r,t),r},d=function(e){return e?s(e):s},m=function(e){return d(e)};t.create=d,t.default=m,t.useStore=c,Object.keys(a).forEach((function(e){"default"===e||Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})),e.exports=m,e.exports.create=d,e.exports.useStore=c,e.exports.createStore=a.createStore,t.default=e.exports},615:function(e,t,r){"use strict";var a=function(e){var t,r=new Set,a=function(e,a){var n="function"==typeof e?e(t):e;if(!Object.is(n,t)){var o=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach((function(e){return e(t,o)}))}},n=function(){return t},o={setState:a,getState:n,getInitialState:function(){return l},subscribe:function(e){return r.add(e),function(){return r.delete(e)}},destroy:function(){r.clear()}},l=t=e(a,n,o);return o},n=function(e){return e?a(e):a},o=function(e){return n(e)};t.createStore=n,t.default=o,e.exports=o,e.exports.createStore=n,t.default=e.exports},616:function(e,t,r){"use strict";e.exports=r(617)},617:function(e,t,r){"use strict";var a=r(1),n=r(618);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=n.useSyncExternalStore,i=a.useRef,u=a.useEffect,c=a.useMemo,s=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,a,n){var d=i(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=c((function(){function e(e){if(!u){if(u=!0,l=e,e=a(e),void 0!==n&&m.hasValue){var t=m.value;if(n(t,e))return i=t}return i=e}if(t=i,o(l,e))return t;var r=a(e);return void 0!==n&&n(t,r)?t:(l=e,i=r)}var l,i,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,a,n]);var p=l(e,d[0],d[1]);return u((function(){m.hasValue=!0,m.value=p}),[p]),s(p),p}},618:function(e,t,r){"use strict";e.exports=r(619)},619:function(e,t,r){"use strict";var a=r(1);var n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=a.useState,l=a.useEffect,i=a.useLayoutEffect,u=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=o({inst:{value:r,getSnapshot:t}}),n=a[0].inst,s=a[1];return i((function(){n.value=r,n.getSnapshot=t,c(n)&&s({inst:n})}),[e,r,t]),l((function(){return c(n)&&s({inst:n}),e((function(){c(n)&&s({inst:n})}))}),[e]),u(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:s},620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concreteRankList=function(){return a.http.get("/discovery-ranking-web/v6/ranking/concreteRankList",{params:{rankingListId:n.env.isTest?100007:100077,pageId:1,pageSize:12}})},t.getAlbumInfo=function(e){return a.http.get("/a/p/",{params:{albumId:e,pageSize:10,client:"selfshare"}})},t.getSoundExtInfo=function(e){return a.http.get(`/mobile-playpage/track/share/queryExtInfo?trackId=${e}`)},t.getTracknfo=function(e){return a.http.get("/mobile-playpage/track/share/queryBaseInfo",{params:{trackId:e}})},t.recommendContent=function(e){return a.http.get("/mobile-playpage/track/share/recommendContent",{params:e})};var a=r(621),n=r(32)},621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.http=void 0;var a,n=(a=r(96))&&a.__esModule?a:{default:a},o=r(97),l=r(167),i=r(176);const u=n.default.create({timeout:5e4});u.interceptors.request.use((async e=>(e.timeout=5e4,e.method&&"GET"===e.method.toUpperCase()&&(e.params={_ts:Date.now()+`00${(0,l.getRandomInt)(0,100)}`.slice(-3),...e.params}),e.headers=await(e=>{let{url:t,headers:r}=e;return Object.keys(i.APIPATHMAP).filter((e=>i.APIPATHMAP[e])).some((e=>t.includes(e)))?Promise.all([(0,o.dwsGetSessionID)(),(0,o.dwsGetBrowserId)()]).then((e=>{const[t,a]=e;return{...r||{},"xm-sign":`${a}&&${t}`}})).catch((e=>r)):Promise.resolve(r)})({url:e.url,headers:e.headers}),e))),u.interceptors.response.use((e=>{const{ret:t,data:r,code:a}=e.data;var n;return 0===t||"200"===a?/track\/comment\/ts/.test(null==e||null===(n=e.request)||void 0===n?void 0:n.responseURL)?e.data:r:Promise.reject(e.data)}),(e=>Promise.reject(e.response)));const c={get:(e,t)=>u.get(e,t),post:(e,t,r)=>u.post(e,t,r),put:(e,t,r)=>u.put(e,t,r),delete:(e,t)=>u.delete(e,t)};t.http=c},678:function(e,t,r){},679:function(e,t,r){},680:function(e,t,r){},681:function(e,t,r){},682:function(e,t,r){},683:function(e,t,r){},684:function(e,t,r){},685:function(e,t,r){},686:function(e,t,r){e.exports=r.p+"images/4f49267.png"},687:function(e,t,r){}}]);
//# sourceMappingURL=10ebbc.js.map