/*! m.ximalaya.com 23-07-2021 */
!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):i(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):i(b,d||c)}function e(a){return(a=a||{}).appId=A.appId,a.verifyAppId=A.appId,a.verifySignType="sha1",a.verifyTimestamp=A.timestamp+"",a.verifyNonceStr=A.nonceStr,a.verifySignature=A.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,"package":a.package,paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){"openEnterpriseChat"!=a&&"openBusinessView"!==a||(b.errCode=b.err_code),delete b.err_code,delete b.err_desc,delete b.err_detail;var d=b.errMsg;d||(d=b.err_msg,delete b.err_msg,d=function(a,b){var c=a,d=n[c];d&&(c=d);var e="ok";if(b){var f=b.indexOf(":");"confirm"==(e=b.substring(f+1))&&(e="ok"),"failed"==e&&(e="fail"),-1!=e.indexOf("failed_")&&(e=e.substring(7)),-1!=e.indexOf("fail_")&&(e=e.substring(5)),"access denied"!=(e=(e=e.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=e||(e="permission denied"),"config"==c&&"function not exist"==e&&(e="ok"),""==e&&(e="fail")}return b=c+":"+e}(a,d),b.errMsg=d),(c=c||{})._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",A.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b));var e=d.indexOf(":");switch(d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a){if(a){for(var b=0,c=a.length;c>b;++b){var d=a[b],e=m[d];e&&(a[b]=e)}return a}}function i(a,b){if(!(!A.debug||b&&b.isInnerInvoke)){var c=n[a];c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function j(){return(new Date).getTime()}function k(b){u&&(a.WeixinJSBridge?b():o.addEventListener&&o.addEventListener("WeixinJSBridgeReady",b,!1))}if(!a.jWeixin){var l,m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},n=function(){var a={};for(var b in m)a[m[b]]=b;return a}(),o=a.document,p=o.title,q=navigator.userAgent.toLowerCase(),r=navigator.platform.toLowerCase(),s=!(!r.match("mac")&&!r.match("win")),t=-1!=q.indexOf("wxdebugger"),u=-1!=q.indexOf("micromessenger"),v=-1!=q.indexOf("android"),w=-1!=q.indexOf("iphone")||-1!=q.indexOf("ipad"),x=(l=q.match(/micromessenger\/(\d+\.\d+\.\d+)/)||q.match(/micromessenger\/(\d+\.\d+)/))?l[1]:"",y={initStartTime:j(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},z={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:w?1:v?2:-1,clientVersion:x,url:encodeURIComponent(location.href)},A={},B={_completes:[]},C={state:0,data:{}};k(function(){y.initEndTime=j()});var D=!1,E=[],F={config:function(b){i("config",A=b);var d=!1!==A.check;k(function(){if(d)c(m.config,{verifyJsApiList:h(A.jsApiList),verifyOpenTagList:h(A.openTagList)},function(){B._complete=function(a){y.preVerifyEndTime=j(),C.state=1,C.data=a},B.success=function(){z.isPreVerifyOk=0},B.fail=function(a){B._fail?B._fail(a):C.state=-1};var a=B._completes;return a.push(function(){!function(){if(!(s||t||A.debug||"6.0.2">x||z.systemType<0)){var a=new Image;z.appId=A.appId,z.initTime=y.initEndTime-y.initStartTime,z.preVerifyTime=y.preVerifyEndTime-y.preVerifyStartTime,F.getNetworkType({isInnerInvoke:!0,success:function(b){z.networkType=b.networkType;var c="https://open.weixin.qq.com/sdk/report?v="+z.version+"&o="+z.isPreVerifyOk+"&s="+z.systemType+"&c="+z.clientVersion+"&a="+z.appId+"&n="+z.networkType+"&i="+z.initTime+"&p="+z.preVerifyTime+"&u="+z.url;a.src=c}})}}()}),B.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();B._completes=[]},B}()),y.preVerifyStartTime=j();else{C.state=1;for(var a=B._completes,b=0,e=a.length;e>b;++b)a[b]();B._completes=[]}}),F.invoke||(F.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},F.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})},ready:function(a){0!=C.state?a():(B._completes.push(a),!u&&A.debug&&a())},error:function(a){"6.0.2">x||(-1==C.state?a(C.data):B._fail=a)},checkJsApi:function(a){c("checkJsApi",{jsApiList:h(a.jsApiList)},(a._complete=function(a){if(v){var b=a.checkResult;b&&(a.checkResult=JSON.parse(b))}a=function(a){var b=a.checkResult;for(var c in b){var d=n[c];d&&(b[d]=b[c],delete b[c])}return a}(a)},a))},onMenuShareTimeline:function(a){d(m.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||p,desc:a.title||p,img_url:a.imgUrl||"",link:a.link||location.href,type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareAppMessage:function(a){d(m.onMenuShareAppMessage,{complete:function(b){"favorite"===b.scene?c("sendAppMessage",{title:a.title||p,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""}):c("sendAppMessage",{title:a.title||p,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(m.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||p,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(m.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||p,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(m.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||p,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},updateTimelineShareData:function(a){c("updateTimelineShareData",{title:a.title,link:a.link,imgUrl:a.imgUrl},a)},updateAppMessageShareData:function(a){c("updateAppMessageShareData",{title:a.title,desc:a.desc,link:a.link,imgUrl:a.imgUrl},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"],sourceType:a.sourceType||["album","camera"]},(a._complete=function(a){if(v){var b=a.localIds;try{b&&(a.localIds=JSON.parse(b))}catch(a){}}},a))},getLocation:function(){},previewImage:function(a){c(m.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getLocalImgData:function(a){!1===D?(D=!0,c("getLocalImgData",{localId:a.localId},(a._complete=function(){if(D=!1,0<E.length){var a=E.shift();wx.getLocalImgData(a)}},a))):E.push(a)},getNetworkType:function(a){c("getNetworkType",{},(a._complete=function(a){a=function(a){var b=a.errMsg;a.errMsg="getNetworkType:ok";var c=a.subtype;if(delete a.subtype,c)a.networkType=c;else{var d=b.indexOf(":"),e=b.substring(d+1);switch(e){case"wifi":case"edge":case"wwan":a.networkType=e;break;default:a.errMsg="getNetworkType:fail"}}return a}(a)},a))},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){c(m.getLocation,{type:(a=a||{}).type||"wgs84"},(a._complete=function(a){delete a.type},a))},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){c("closeWindow",{},a=a||{})},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){c("scanQRCode",{needResult:(a=a||{}).needResult||0,scanType:a.scanType||["qrCode","barCode"]},(a._complete=function(a){if(w){var b=a.resultStr;if(b){var c=JSON.parse(b);a.resultStr=c&&c.scan_code&&c.scan_code.scan_result}}},a))},openAddress:function(a){c(m.openAddress,{},(a._complete=function(a){a=function(a){return a.postalCode=a.addressPostalCode,delete a.addressPostalCode,a.provinceName=a.proviceFirstStageName,delete a.proviceFirstStageName,a.cityName=a.addressCitySecondStageName,delete a.addressCitySecondStageName,a.countryName=a.addressCountiesThirdStageName,delete a.addressCountiesThirdStageName,a.detailInfo=a.addressDetailInfo,delete a.addressDetailInfo,a}(a)},a))},openProductSpecificView:function(a){c(m.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0,ext_info:a.extInfo},a)},addCard:function(a){for(var b=a.cardList,d=[],e=0,f=b.length;f>e;++e){var g=b[e],h={card_id:g.cardId,card_ext:g.cardExt};d.push(h)}c(m.addCard,{card_list:d},(a._complete=function(a){var b=a.card_list;if(b){for(var c=0,d=(b=JSON.parse(b)).length;d>c;++c){var e=b[c];e.cardId=e.card_id,e.cardExt=e.card_ext,e.isSuccess=!!e.is_succ,delete e.card_id,delete e.card_ext,delete e.is_succ}a.cardList=b,delete a.card_list}},a))},chooseCard:function(a){c("chooseCard",{app_id:A.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},(a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a))},openCard:function(a){for(var b=a.cardList,d=[],e=0,f=b.length;f>e;++e){var g=b[e],h={card_id:g.cardId,code:g.code};d.push(h)}c(m.openCard,{card_list:d},a)},consumeAndShareCard:function(a){c(m.consumeAndShareCard,{consumedCardId:a.cardId,consumedCode:a.code},a)},chooseWXPay:function(a){c(m.chooseWXPay,f(a),a)},openEnterpriseRedPacket:function(a){c(m.openEnterpriseRedPacket,f(a),a)},startSearchBeacons:function(a){c(m.startSearchBeacons,{ticket:a.ticket},a)},stopSearchBeacons:function(a){c(m.stopSearchBeacons,{},a)},onSearchBeacons:function(a){d(m.onSearchBeacons,a)},openEnterpriseChat:function(a){c("openEnterpriseChat",{useridlist:a.userIds,chatname:a.groupName},a)},launchMiniProgram:function(a){c("launchMiniProgram",{targetAppId:a.targetAppId,path:function(a){if("string"==typeof a&&0<a.length){var b=a.split("?")[0],c=a.split("?")[1];return b+=".html",void 0!==c?b+"?"+c:b}}(a.path),envVersion:a.envVersion},a)},openBusinessView:function(a){c("openBusinessView",{businessType:a.businessType,queryString:a.queryString||"",envVersion:a.envVersion},(a._complete=function(a){if(v){var b=a.extraData;if(b)try{a.extraData=JSON.parse(b)}catch(b){a.extraData={}}}},a))},miniProgram:{navigateBack:function(a){a=a||{},k(function(){c("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:a.delta||1}},a)})},navigateTo:function(a){k(function(){c("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:a.url}},a)})},redirectTo:function(a){k(function(){c("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:a.url}},a)})},switchTab:function(a){k(function(){c("invokeMiniProgramAPI",{name:"switchTab",arg:{url:a.url}},a)})},reLaunch:function(a){k(function(){c("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:a.url}},a)})},postMessage:function(a){k(function(){c("invokeMiniProgramAPI",{name:"postMessage",arg:a.data||{}},a)})},getEnv:function(b){k(function(){b({miniprogram:"miniprogram"===a.__wxjs_environment})})}}},G=1,H={};return o.addEventListener("error",function(a){if(!v){var b=a.target,c=b.tagName,d=b.src;if(("IMG"==c||"VIDEO"==c||"AUDIO"==c||"SOURCE"==c)&&-1!=d.indexOf("wxlocalresource://")){a.preventDefault(),a.stopPropagation();var e=b["wx-id"];if(e||(e=G++,b["wx-id"]=e),H[e])return;H[e]=!0,wx.ready(function(){wx.getLocalImgData({localId:d,success:function(a){b.src=a.localData}})})}}},!0),o.addEventListener("load",function(a){if(!v){var b=a.target,c=b.tagName;if(b.src,"IMG"==c||"VIDEO"==c||"AUDIO"==c||"SOURCE"==c){var d=b["wx-id"];d&&(H[d]=!1)}}},!0),b&&(a.wx=a.jWeixin=F),F}});